(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Ds(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qc={exports:{}},Mo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function GT(){if(ug)return Mo;ug=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(l,o,s){var c=null;if(s!==void 0&&(c=""+s),o.key!==void 0&&(c=""+o.key),"key"in o){s={};for(var m in o)m!=="key"&&(s[m]=o[m])}else s=o;return o=s.ref,{$$typeof:t,type:l,key:c,ref:o!==void 0?o:null,props:s}}return Mo.Fragment=e,Mo.jsx=n,Mo.jsxs=n,Mo}var cg;function HT(){return cg||(cg=1,Qc.exports=GT()),Qc.exports}var S=HT(),Wc={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function $T(){if(fg)return Oe;fg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function C(_){return _===null||typeof _!="object"?null:(_=x&&_[x]||_["@@iterator"],typeof _=="function"?_:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function I(_,X,ue){this.props=_,this.context=X,this.refs=k,this.updater=ue||T}I.prototype.isReactComponent={},I.prototype.setState=function(_,X){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,X,"setState")},I.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function N(){}N.prototype=I.prototype;function z(_,X,ue){this.props=_,this.context=X,this.refs=k,this.updater=ue||T}var L=z.prototype=new N;L.constructor=z,E(L,I.prototype),L.isPureReactComponent=!0;var J=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function ie(_,X,ue,M,ge,Pe){return ue=Pe.ref,{$$typeof:t,type:_,key:X,ref:ue!==void 0?ue:null,props:Pe}}function j(_,X){return ie(_.type,X,void 0,void 0,void 0,_.props)}function oe(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function P(_){var X={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ue){return X[ue]})}var ee=/\/+/g;function te(_,X){return typeof _=="object"&&_!==null&&_.key!=null?P(""+_.key):X.toString(36)}function me(){}function fe(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(me,me):(_.status="pending",_.then(function(X){_.status==="pending"&&(_.status="fulfilled",_.value=X)},function(X){_.status==="pending"&&(_.status="rejected",_.reason=X)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function ce(_,X,ue,M,ge){var Pe=typeof _;(Pe==="undefined"||Pe==="boolean")&&(_=null);var ye=!1;if(_===null)ye=!0;else switch(Pe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(_.$$typeof){case t:case e:ye=!0;break;case y:return ye=_._init,ce(ye(_._payload),X,ue,M,ge)}}if(ye)return ge=ge(_),ye=M===""?"."+te(_,0):M,J(ge)?(ue="",ye!=null&&(ue=ye.replace(ee,"$&/")+"/"),ce(ge,X,ue,"",function(Lt){return Lt})):ge!=null&&(oe(ge)&&(ge=j(ge,ue+(ge.key==null||_&&_.key===ge.key?"":(""+ge.key).replace(ee,"$&/")+"/")+ye)),X.push(ge)),1;ye=0;var bt=M===""?".":M+":";if(J(_))for(var Ze=0;Ze<_.length;Ze++)M=_[Ze],Pe=bt+te(M,Ze),ye+=ce(M,X,ue,Pe,ge);else if(Ze=C(_),typeof Ze=="function")for(_=Ze.call(_),Ze=0;!(M=_.next()).done;)M=M.value,Pe=bt+te(M,Ze++),ye+=ce(M,X,ue,Pe,ge);else if(Pe==="object"){if(typeof _.then=="function")return ce(fe(_),X,ue,M,ge);throw X=String(_),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ye}function H(_,X,ue){if(_==null)return _;var M=[],ge=0;return ce(_,M,"","",function(Pe){return X.call(ue,Pe,ge++)}),M}function ne(_){if(_._status===-1){var X=_._result;X=X(),X.then(function(ue){(_._status===0||_._status===-1)&&(_._status=1,_._result=ue)},function(ue){(_._status===0||_._status===-1)&&(_._status=2,_._result=ue)}),_._status===-1&&(_._status=0,_._result=X)}if(_._status===1)return _._result.default;throw _._result}var Ce=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function qe(){}return Oe.Children={map:H,forEach:function(_,X,ue){H(_,function(){X.apply(this,arguments)},ue)},count:function(_){var X=0;return H(_,function(){X++}),X},toArray:function(_){return H(_,function(X){return X})||[]},only:function(_){if(!oe(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Oe.Component=I,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=z,Oe.StrictMode=l,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(_){return $.H.useMemoCache(_)}},Oe.cache=function(_){return function(){return _.apply(null,arguments)}},Oe.cloneElement=function(_,X,ue){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var M=E({},_.props),ge=_.key,Pe=void 0;if(X!=null)for(ye in X.ref!==void 0&&(Pe=void 0),X.key!==void 0&&(ge=""+X.key),X)!R.call(X,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&X.ref===void 0||(M[ye]=X[ye]);var ye=arguments.length-2;if(ye===1)M.children=ue;else if(1<ye){for(var bt=Array(ye),Ze=0;Ze<ye;Ze++)bt[Ze]=arguments[Ze+2];M.children=bt}return ie(_.type,ge,void 0,void 0,Pe,M)},Oe.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:s,_context:_},_},Oe.createElement=function(_,X,ue){var M,ge={},Pe=null;if(X!=null)for(M in X.key!==void 0&&(Pe=""+X.key),X)R.call(X,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(ge[M]=X[M]);var ye=arguments.length-2;if(ye===1)ge.children=ue;else if(1<ye){for(var bt=Array(ye),Ze=0;Ze<ye;Ze++)bt[Ze]=arguments[Ze+2];ge.children=bt}if(_&&_.defaultProps)for(M in ye=_.defaultProps,ye)ge[M]===void 0&&(ge[M]=ye[M]);return ie(_,Pe,void 0,void 0,null,ge)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(_){return{$$typeof:m,render:_}},Oe.isValidElement=oe,Oe.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:ne}},Oe.memo=function(_,X){return{$$typeof:h,type:_,compare:X===void 0?null:X}},Oe.startTransition=function(_){var X=$.T,ue={};$.T=ue;try{var M=_(),ge=$.S;ge!==null&&ge(ue,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(qe,Ce)}catch(Pe){Ce(Pe)}finally{$.T=X}},Oe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Oe.use=function(_){return $.H.use(_)},Oe.useActionState=function(_,X,ue){return $.H.useActionState(_,X,ue)},Oe.useCallback=function(_,X){return $.H.useCallback(_,X)},Oe.useContext=function(_){return $.H.useContext(_)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(_,X){return $.H.useDeferredValue(_,X)},Oe.useEffect=function(_,X,ue){var M=$.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return M.useEffect(_,X)},Oe.useId=function(){return $.H.useId()},Oe.useImperativeHandle=function(_,X,ue){return $.H.useImperativeHandle(_,X,ue)},Oe.useInsertionEffect=function(_,X){return $.H.useInsertionEffect(_,X)},Oe.useLayoutEffect=function(_,X){return $.H.useLayoutEffect(_,X)},Oe.useMemo=function(_,X){return $.H.useMemo(_,X)},Oe.useOptimistic=function(_,X){return $.H.useOptimistic(_,X)},Oe.useReducer=function(_,X,ue){return $.H.useReducer(_,X,ue)},Oe.useRef=function(_){return $.H.useRef(_)},Oe.useState=function(_){return $.H.useState(_)},Oe.useSyncExternalStore=function(_,X,ue){return $.H.useSyncExternalStore(_,X,ue)},Oe.useTransition=function(){return $.H.useTransition()},Oe.version="19.1.0",Oe}var dg;function jf(){return dg||(dg=1,Wc.exports=$T()),Wc.exports}var Qe=jf();const JT=Ds(Qe);var jc={exports:{}},ko={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function YT(){return mg||(mg=1,function(t){function e(H,ne){var Ce=H.length;H.push(ne);e:for(;0<Ce;){var qe=Ce-1>>>1,_=H[qe];if(0<o(_,ne))H[qe]=ne,H[Ce]=_,Ce=qe;else break e}}function n(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var ne=H[0],Ce=H.pop();if(Ce!==ne){H[0]=Ce;e:for(var qe=0,_=H.length,X=_>>>1;qe<X;){var ue=2*(qe+1)-1,M=H[ue],ge=ue+1,Pe=H[ge];if(0>o(M,Ce))ge<_&&0>o(Pe,M)?(H[qe]=Pe,H[ge]=Ce,qe=ge):(H[qe]=M,H[ue]=Ce,qe=ue);else if(ge<_&&0>o(Pe,Ce))H[qe]=Pe,H[ge]=Ce,qe=ge;else break e}}return ne}function o(H,ne){var Ce=H.sortIndex-ne.sortIndex;return Ce!==0?Ce:H.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,m=c.now();t.unstable_now=function(){return c.now()-m}}var p=[],h=[],y=1,x=null,C=3,T=!1,E=!1,k=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function J(H){for(var ne=n(h);ne!==null;){if(ne.callback===null)l(h);else if(ne.startTime<=H)l(h),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(h)}}function $(H){if(k=!1,J(H),!E)if(n(p)!==null)E=!0,R||(R=!0,te());else{var ne=n(h);ne!==null&&ce($,ne.startTime-H)}}var R=!1,ie=-1,j=5,oe=-1;function P(){return I?!0:!(t.unstable_now()-oe<j)}function ee(){if(I=!1,R){var H=t.unstable_now();oe=H;var ne=!0;try{e:{E=!1,k&&(k=!1,z(ie),ie=-1),T=!0;var Ce=C;try{t:{for(J(H),x=n(p);x!==null&&!(x.expirationTime>H&&P());){var qe=x.callback;if(typeof qe=="function"){x.callback=null,C=x.priorityLevel;var _=qe(x.expirationTime<=H);if(H=t.unstable_now(),typeof _=="function"){x.callback=_,J(H),ne=!0;break t}x===n(p)&&l(p),J(H)}else l(p);x=n(p)}if(x!==null)ne=!0;else{var X=n(h);X!==null&&ce($,X.startTime-H),ne=!1}}break e}finally{x=null,C=Ce,T=!1}ne=void 0}}finally{ne?te():R=!1}}}var te;if(typeof L=="function")te=function(){L(ee)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,fe=me.port2;me.port1.onmessage=ee,te=function(){fe.postMessage(null)}}else te=function(){N(ee,0)};function ce(H,ne){ie=N(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(H){switch(C){case 1:case 2:case 3:var ne=3;break;default:ne=C}var Ce=C;C=ne;try{return H()}finally{C=Ce}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Ce=C;C=H;try{return ne()}finally{C=Ce}},t.unstable_scheduleCallback=function(H,ne,Ce){var qe=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?qe+Ce:qe):Ce=qe,H){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=Ce+_,H={id:y++,callback:ne,priorityLevel:H,startTime:Ce,expirationTime:_,sortIndex:-1},Ce>qe?(H.sortIndex=Ce,e(h,H),n(p)===null&&H===n(h)&&(k?(z(ie),ie=-1):k=!0,ce($,Ce-qe))):(H.sortIndex=_,e(p,H),E||T||(E=!0,R||(R=!0,te()))),H},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(H){var ne=C;return function(){var Ce=C;C=ne;try{return H.apply(this,arguments)}finally{C=Ce}}}}(tf)),tf}var hg;function KT(){return hg||(hg=1,ef.exports=YT()),ef.exports}var nf={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function ZT(){if(pg)return Yt;pg=1;var t=jf();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(p,h,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:p,containerInfo:h,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Yt.createPortal=function(p,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(p,h,null,y)},Yt.flushSync=function(p){var h=c.T,y=l.p;try{if(c.T=null,l.p=2,p)return p()}finally{c.T=h,l.p=y,l.d.f()}},Yt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(p,h))},Yt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},Yt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var y=h.as,x=m(y,h.crossOrigin),C=typeof h.integrity=="string"?h.integrity:void 0,T=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?l.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:T}):y==="script"&&l.d.X(p,{crossOrigin:x,integrity:C,fetchPriority:T,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Yt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=m(h.as,h.crossOrigin);l.d.M(p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(p)},Yt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,x=m(y,h.crossOrigin);l.d.L(p,y,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Yt.preloadModule=function(p,h){if(typeof p=="string")if(h){var y=m(h.as,h.crossOrigin);l.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(p)},Yt.requestFormReset=function(p){l.d.r(p)},Yt.unstable_batchedUpdates=function(p,h){return p(h)},Yt.useFormState=function(p,h,y){return c.H.useFormState(p,h,y)},Yt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var gg;function XT(){if(gg)return nf.exports;gg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nf.exports=ZT(),nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function QT(){if(yg)return ko;yg=1;var t=KT(),e=jf(),n=XT();function l(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(s(i)!==i)throw Error(l(188))}function p(i){var r=i.alternate;if(!r){if(r=s(i),r===null)throw Error(l(188));return r!==i?null:i}for(var a=i,d=r;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){a=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return m(g),i;if(v===d)return m(g),r;v=v.sibling}throw Error(l(188))}if(a.return!==d.return)a=g,d=v;else{for(var b=!1,A=g.child;A;){if(A===a){b=!0,a=g,d=v;break}if(A===d){b=!0,d=g,a=v;break}A=A.sibling}if(!b){for(A=v.child;A;){if(A===a){b=!0,a=v,d=g;break}if(A===d){b=!0,d=v,a=g;break}A=A.sibling}if(!b)throw Error(l(189))}}if(a.alternate!==d)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?i:r}function h(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=h(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case I:return"Profiler";case k:return"StrictMode";case $:return"Suspense";case R:return"SuspenseList";case oe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case L:return(i.displayName||"Context")+".Provider";case z:return(i._context.displayName||"Context")+".Consumer";case J:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return r=i.displayName||null,r!==null?r:fe(i.type)||"Memo";case j:r=i._payload,i=i._init;try{return fe(i(r))}catch{}}return null}var ce=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},qe=[],_=-1;function X(i){return{current:i}}function ue(i){0>_||(i.current=qe[_],qe[_]=null,_--)}function M(i,r){_++,qe[_]=i.current,i.current=r}var ge=X(null),Pe=X(null),ye=X(null),bt=X(null);function Ze(i,r){switch(M(ye,r),M(Pe,i),M(ge,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Op(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Op(r),i=zp(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(ge),M(ge,i)}function Lt(){ue(ge),ue(Pe),ue(ye)}function cn(i){i.memoizedState!==null&&M(bt,i);var r=ge.current,a=zp(r,i.type);r!==a&&(M(Pe,i),M(ge,a))}function Cn(i){Pe.current===i&&(ue(ge),ue(Pe)),bt.current===i&&(ue(bt),So._currentValue=Ce)}var vi=Object.prototype.hasOwnProperty,xi=t.unstable_scheduleCallback,Ci=t.unstable_cancelCallback,Xi=t.unstable_shouldYield,Qi=t.unstable_requestPaint,Ht=t.unstable_now,_l=t.unstable_getCurrentPriorityLevel,O=t.unstable_ImmediatePriority,Q=t.unstable_UserBlockingPriority,Se=t.unstable_NormalPriority,Te=t.unstable_LowPriority,ke=t.unstable_IdlePriority,we=t.log,Ve=t.unstable_setDisableYieldValue,q=null,Y=null;function ae(i){if(typeof we=="function"&&Ve(i),Y&&typeof Y.setStrictMode=="function")try{Y.setStrictMode(q,i)}catch{}}var se=Math.clz32?Math.clz32:We,pe=Math.log,Ae=Math.LN2;function We(i){return i>>>=0,i===0?32:31-(pe(i)/Ae|0)|0}var ut=256,mt=4194304;function yt(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function he(i,r,a){var d=i.pendingLanes;if(d===0)return 0;var g=0,v=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=d&134217727;return A!==0?(d=A&~v,d!==0?g=yt(d):(b&=A,b!==0?g=yt(b):a||(a=A&~i,a!==0&&(g=yt(a))))):(A=d&~v,A!==0?g=yt(A):b!==0?g=yt(b):a||(a=d&~i,a!==0&&(g=yt(a)))),g===0?0:r!==0&&r!==g&&(r&v)===0&&(v=g&-g,a=r&-r,v>=a||v===32&&(a&4194048)!==0)?r:g}function Xe(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function $e(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tn(){var i=ut;return ut<<=1,(ut&4194048)===0&&(ut=256),i}function Tn(){var i=mt;return mt<<=1,(mt&62914560)===0&&(mt=4194304),i}function Et(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function ht(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ge(i,r,a,d,g,v){var b=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,w=i.expirationTimes,B=i.hiddenUpdates;for(a=b&~a;0<a;){var K=31-se(a),W=1<<K;A[K]=0,w[K]=-1;var F=B[K];if(F!==null)for(B[K]=null,K=0;K<F.length;K++){var G=F[K];G!==null&&(G.lane&=-536870913)}a&=~W}d!==0&&Bt(i,d,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(b&~r))}function Bt(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var d=31-se(r);i.entangledLanes|=r,i.entanglements[d]=i.entanglements[d]|1073741824|a&4194090}function Ln(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var d=31-se(a),g=1<<d;g&r|i[d]&r&&(i[d]|=r),a&=~g}}function Al(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Fs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function _d(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:ig(i.type))}function Dx(i,r){var a=ne.p;try{return ne.p=i,r()}finally{ne.p=a}}var Ti=Math.random().toString(36).slice(2),$t="__reactFiber$"+Ti,nn="__reactProps$"+Ti,El="__reactContainer$"+Ti,Gs="__reactEvents$"+Ti,Ix="__reactListeners$"+Ti,Ux="__reactHandles$"+Ti,Ad="__reactResources$"+Ti,Dr="__reactMarker$"+Ti;function Hs(i){delete i[$t],delete i[nn],delete i[Gs],delete i[Ix],delete i[Ux]}function Ml(i){var r=i[$t];if(r)return r;for(var a=i.parentNode;a;){if(r=a[El]||a[$t]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=Fp(i);i!==null;){if(a=i[$t])return a;i=Fp(i)}return r}i=a,a=i.parentNode}return null}function kl(i){if(i=i[$t]||i[El]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Ir(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(l(33))}function wl(i){var r=i[Ad];return r||(r=i[Ad]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pt(i){i[Dr]=!0}var Ed=new Set,Md={};function Wi(i,r){Nl(i,r),Nl(i+"Capture",r)}function Nl(i,r){for(Md[i]=r,i=0;i<r.length;i++)Ed.add(r[i])}var Lx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kd={},wd={};function Px(i){return vi.call(wd,i)?!0:vi.call(kd,i)?!1:Lx.test(i)?wd[i]=!0:(kd[i]=!0,!1)}function Ko(i,r,a){if(Px(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Zo(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function jn(i,r,a,d){if(d===null)i.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+d)}}var $s,Nd;function Rl(i){if($s===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);$s=r&&r[1]||"",Nd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+i+Nd}var Js=!1;function Ys(i,r){if(!i||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var F=G}Reflect.construct(i,[],W)}else{try{W.call()}catch(G){F=G}i.call(W.prototype)}}else{try{throw Error()}catch(G){F=G}(W=i())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),b=v[0],A=v[1];if(b&&A){var w=b.split(`
`),B=A.split(`
`);for(g=d=0;d<w.length&&!w[d].includes("DetermineComponentFrameRoot");)d++;for(;g<B.length&&!B[g].includes("DetermineComponentFrameRoot");)g++;if(d===w.length||g===B.length)for(d=w.length-1,g=B.length-1;1<=d&&0<=g&&w[d]!==B[g];)g--;for(;1<=d&&0<=g;d--,g--)if(w[d]!==B[g]){if(d!==1||g!==1)do if(d--,g--,0>g||w[d]!==B[g]){var K=`
`+w[d].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=d&&0<=g);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Rl(a):""}function Ox(i){switch(i.tag){case 26:case 27:case 5:return Rl(i.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 15:return Ys(i.type,!1);case 11:return Ys(i.type.render,!1);case 1:return Ys(i.type,!0);case 31:return Rl("Activity");default:return""}}function Rd(i){try{var r="";do r+=Ox(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Dd(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zx(i){var r=Dd(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),d=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,v=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(b){d=""+b,v.call(this,b)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xo(i){i._valueTracker||(i._valueTracker=zx(i))}function Id(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),d="";return i&&(d=Dd(i)?i.checked?"true":"false":i.value),i=d,i!==a?(r.setValue(i),!0):!1}function Qo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Vx=/[\n"\\]/g;function bn(i){return i.replace(Vx,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ks(i,r,a,d,g,v,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Sn(r)):i.value!==""+Sn(r)&&(i.value=""+Sn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Zs(i,b,Sn(r)):a!=null?Zs(i,b,Sn(a)):d!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Sn(A):i.removeAttribute("name")}function Ud(i,r,a,d,g,v,b,A){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;a=a!=null?""+Sn(a):"",r=r!=null?""+Sn(r):a,A||r===i.value||(i.value=r),i.defaultValue=r}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=A?i.checked:!!d,i.defaultChecked=!!d,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Zs(i,r,a){r==="number"&&Qo(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Dl(i,r,a,d){if(i=i.options,r){r={};for(var g=0;g<a.length;g++)r["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=r.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&d&&(i[a].defaultSelected=!0)}else{for(a=""+Sn(a),r=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Ld(i,r,a){if(r!=null&&(r=""+Sn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Sn(a):""}function Pd(i,r,a,d){if(r==null){if(d!=null){if(a!=null)throw Error(l(92));if(ce(d)){if(1<d.length)throw Error(l(93));d=d[0]}a=d}a==null&&(a=""),r=a}a=Sn(r),i.defaultValue=a,d=i.textContent,d===a&&d!==""&&d!==null&&(i.value=d)}function Il(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Bx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Od(i,r,a){var d=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?d?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":d?i.setProperty(r,a):typeof a!="number"||a===0||Bx.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function zd(i,r,a){if(r!=null&&typeof r!="object")throw Error(l(62));if(i=i.style,a!=null){for(var d in a)!a.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var g in r)d=r[g],r.hasOwnProperty(g)&&a[g]!==d&&Od(i,g,d)}else for(var v in r)r.hasOwnProperty(v)&&Od(i,v,r[v])}function Xs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wo(i){return Fx.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Qs=null;function Ws(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ul=null,Ll=null;function Vd(i){var r=kl(i);if(r&&(i=r.stateNode)){var a=i[nn]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ks(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var d=a[r];if(d!==i&&d.form===i.form){var g=d[nn]||null;if(!g)throw Error(l(90));Ks(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<a.length;r++)d=a[r],d.form===i.form&&Id(d)}break e;case"textarea":Ld(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Dl(i,!!a.multiple,r,!1)}}}var js=!1;function Bd(i,r,a){if(js)return i(r,a);js=!0;try{var d=i(r);return d}finally{if(js=!1,(Ul!==null||Ll!==null)&&(Oa(),Ul&&(r=Ul,i=Ll,Ll=Ul=null,Vd(r),i)))for(r=0;r<i.length;r++)Vd(i[r])}}function Ur(i,r){var a=i.stateNode;if(a===null)return null;var d=a[nn]||null;if(d===null)return null;a=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(l(231,r,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eu=!1;if(ei)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){eu=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{eu=!1}var Si=null,tu=null,jo=null;function qd(){if(jo)return jo;var i,r=tu,a=r.length,d,g="value"in Si?Si.value:Si.textContent,v=g.length;for(i=0;i<a&&r[i]===g[i];i++);var b=a-i;for(d=1;d<=b&&r[a-d]===g[v-d];d++);return jo=g.slice(i,1<d?1-d:void 0)}function ea(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ta(){return!0}function Fd(){return!1}function ln(i){function r(a,d,g,v,b){this._reactName=a,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ta:Fd,this.isPropagationStopped=Fd,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),r}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=ln(ji),Pr=y({},ji,{view:0,detail:0}),Gx=ln(Pr),nu,iu,Or,ia=y({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Or&&(Or&&i.type==="mousemove"?(nu=i.screenX-Or.screenX,iu=i.screenY-Or.screenY):iu=nu=0,Or=i),nu)},movementY:function(i){return"movementY"in i?i.movementY:iu}}),Gd=ln(ia),Hx=y({},ia,{dataTransfer:0}),$x=ln(Hx),Jx=y({},Pr,{relatedTarget:0}),lu=ln(Jx),Yx=y({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Kx=ln(Yx),Zx=y({},ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xx=ln(Zx),Qx=y({},ji,{data:0}),Hd=ln(Qx),Wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tC(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=eC[i])?!!r[i]:!1}function ru(){return tC}var nC=y({},Pr,{key:function(i){if(i.key){var r=Wx[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ea(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(i){return i.type==="keypress"?ea(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ea(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iC=ln(nC),lC=y({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=ln(lC),rC=y({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),oC=ln(rC),aC=y({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),sC=ln(aC),uC=y({},ia,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),cC=ln(uC),fC=y({},ji,{newState:0,oldState:0}),dC=ln(fC),mC=[9,13,27,32],ou=ei&&"CompositionEvent"in window,zr=null;ei&&"documentMode"in document&&(zr=document.documentMode);var hC=ei&&"TextEvent"in window&&!zr,Jd=ei&&(!ou||zr&&8<zr&&11>=zr),Yd=" ",Kd=!1;function Zd(i,r){switch(i){case"keyup":return mC.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Pl=!1;function pC(i,r){switch(i){case"compositionend":return Xd(r);case"keypress":return r.which!==32?null:(Kd=!0,Yd);case"textInput":return i=r.data,i===Yd&&Kd?null:i;default:return null}}function gC(i,r){if(Pl)return i==="compositionend"||!ou&&Zd(i,r)?(i=qd(),jo=tu=Si=null,Pl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Jd&&r.locale!=="ko"?null:r.data;default:return null}}var yC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!yC[i.type]:r==="textarea"}function Wd(i,r,a,d){Ul?Ll?Ll.push(d):Ll=[d]:Ul=d,r=Ga(r,"onChange"),0<r.length&&(a=new na("onChange","change",null,a,d),i.push({event:a,listeners:r}))}var Vr=null,Br=null;function vC(i){Dp(i,0)}function la(i){var r=Ir(i);if(Id(r))return i}function jd(i,r){if(i==="change")return r}var em=!1;if(ei){var au;if(ei){var su="oninput"in document;if(!su){var tm=document.createElement("div");tm.setAttribute("oninput","return;"),su=typeof tm.oninput=="function"}au=su}else au=!1;em=au&&(!document.documentMode||9<document.documentMode)}function nm(){Vr&&(Vr.detachEvent("onpropertychange",im),Br=Vr=null)}function im(i){if(i.propertyName==="value"&&la(Br)){var r=[];Wd(r,Br,i,Ws(i)),Bd(vC,r)}}function xC(i,r,a){i==="focusin"?(nm(),Vr=r,Br=a,Vr.attachEvent("onpropertychange",im)):i==="focusout"&&nm()}function CC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return la(Br)}function TC(i,r){if(i==="click")return la(r)}function SC(i,r){if(i==="input"||i==="change")return la(r)}function bC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var fn=typeof Object.is=="function"?Object.is:bC;function qr(i,r){if(fn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),d=Object.keys(r);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var g=a[d];if(!vi.call(r,g)||!fn(i[g],r[g]))return!1}return!0}function lm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rm(i,r){var a=lm(i);i=0;for(var d;a;){if(a.nodeType===3){if(d=i+a.textContent.length,i<=r&&d>=r)return{node:a,offset:r-i};i=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lm(a)}}function om(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?om(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function am(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Qo(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Qo(i.document)}return r}function uu(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var _C=ei&&"documentMode"in document&&11>=document.documentMode,Ol=null,cu=null,Fr=null,fu=!1;function sm(i,r,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fu||Ol==null||Ol!==Qo(d)||(d=Ol,"selectionStart"in d&&uu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Fr&&qr(Fr,d)||(Fr=d,d=Ga(cu,"onSelect"),0<d.length&&(r=new na("onSelect","select",null,r,a),i.push({event:r,listeners:d}),r.target=Ol)))}function el(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var zl={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionrun:el("Transition","TransitionRun"),transitionstart:el("Transition","TransitionStart"),transitioncancel:el("Transition","TransitionCancel"),transitionend:el("Transition","TransitionEnd")},du={},um={};ei&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function tl(i){if(du[i])return du[i];if(!zl[i])return i;var r=zl[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in um)return du[i]=r[a];return i}var cm=tl("animationend"),fm=tl("animationiteration"),dm=tl("animationstart"),AC=tl("transitionrun"),EC=tl("transitionstart"),MC=tl("transitioncancel"),mm=tl("transitionend"),hm=new Map,mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mu.push("scrollEnd");function Pn(i,r){hm.set(i,r),Wi(r,[i])}var pm=new WeakMap;function _n(i,r){if(typeof i=="object"&&i!==null){var a=pm.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Rd(r)},pm.set(i,r),r)}return{value:i,source:r,stack:Rd(r)}}var An=[],Vl=0,hu=0;function ra(){for(var i=Vl,r=hu=Vl=0;r<i;){var a=An[r];An[r++]=null;var d=An[r];An[r++]=null;var g=An[r];An[r++]=null;var v=An[r];if(An[r++]=null,d!==null&&g!==null){var b=d.pending;b===null?g.next=g:(g.next=b.next,b.next=g),d.pending=g}v!==0&&gm(a,g,v)}}function oa(i,r,a,d){An[Vl++]=i,An[Vl++]=r,An[Vl++]=a,An[Vl++]=d,hu|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function pu(i,r,a,d){return oa(i,r,a,d),aa(i)}function Bl(i,r){return oa(i,null,null,r),aa(i)}function gm(i,r,a){i.lanes|=a;var d=i.alternate;d!==null&&(d.lanes|=a);for(var g=!1,v=i.return;v!==null;)v.childLanes|=a,d=v.alternate,d!==null&&(d.childLanes|=a),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&r!==null&&(g=31-se(a),i=v.hiddenUpdates,d=i[g],d===null?i[g]=[r]:d.push(r),r.lane=a|536870912),v):null}function aa(i){if(50<ho)throw ho=0,Tc=null,Error(l(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ql={};function kC(i,r,a,d){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(i,r,a,d){return new kC(i,r,a,d)}function gu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ti(i,r){var a=i.alternate;return a===null?(a=dn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function ym(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function sa(i,r,a,d,g,v){var b=0;if(d=i,typeof i=="function")gu(i)&&(b=1);else if(typeof i=="string")b=NT(i,a,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case oe:return i=dn(31,a,r,g),i.elementType=oe,i.lanes=v,i;case E:return nl(a.children,g,v,r);case k:b=8,g|=24;break;case I:return i=dn(12,a,r,g|2),i.elementType=I,i.lanes=v,i;case $:return i=dn(13,a,r,g),i.elementType=$,i.lanes=v,i;case R:return i=dn(19,a,r,g),i.elementType=R,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case L:b=10;break e;case z:b=9;break e;case J:b=11;break e;case ie:b=14;break e;case j:b=16,d=null;break e}b=29,a=Error(l(130,i===null?"null":typeof i,"")),d=null}return r=dn(b,a,r,g),r.elementType=i,r.type=d,r.lanes=v,r}function nl(i,r,a,d){return i=dn(7,i,d,r),i.lanes=a,i}function yu(i,r,a){return i=dn(6,i,null,r),i.lanes=a,i}function vu(i,r,a){return r=dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Fl=[],Gl=0,ua=null,ca=0,En=[],Mn=0,il=null,ni=1,ii="";function ll(i,r){Fl[Gl++]=ca,Fl[Gl++]=ua,ua=i,ca=r}function vm(i,r,a){En[Mn++]=ni,En[Mn++]=ii,En[Mn++]=il,il=i;var d=ni;i=ii;var g=32-se(d)-1;d&=~(1<<g),a+=1;var v=32-se(r)+g;if(30<v){var b=g-g%5;v=(d&(1<<b)-1).toString(32),d>>=b,g-=b,ni=1<<32-se(r)+g|a<<g|d,ii=v+i}else ni=1<<v|a<<g|d,ii=i}function xu(i){i.return!==null&&(ll(i,1),vm(i,1,0))}function Cu(i){for(;i===ua;)ua=Fl[--Gl],Fl[Gl]=null,ca=Fl[--Gl],Fl[Gl]=null;for(;i===il;)il=En[--Mn],En[Mn]=null,ii=En[--Mn],En[Mn]=null,ni=En[--Mn],En[Mn]=null}var Wt=null,_t=null,rt=!1,rl=null,Fn=!1,Tu=Error(l(519));function ol(i){var r=Error(l(418,""));throw $r(_n(r,i)),Tu}function xm(i){var r=i.stateNode,a=i.type,d=i.memoizedProps;switch(r[$t]=i,r[nn]=d,a){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(a=0;a<go.length;a++)Ye(go[a],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ye("invalid",r),Ud(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Xo(r);break;case"select":Ye("invalid",r);break;case"textarea":Ye("invalid",r),Pd(r,d.value,d.defaultValue,d.children),Xo(r)}a=d.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||d.suppressHydrationWarning===!0||Pp(r.textContent,a)?(d.popover!=null&&(Ye("beforetoggle",r),Ye("toggle",r)),d.onScroll!=null&&Ye("scroll",r),d.onScrollEnd!=null&&Ye("scrollend",r),d.onClick!=null&&(r.onclick=Ha),r=!0):r=!1,r||ol(i)}function Cm(i){for(Wt=i.return;Wt;)switch(Wt.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Wt=Wt.return}}function Gr(i){if(i!==Wt)return!1;if(!rt)return Cm(i),rt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Oc(i.type,i.memoizedProps)),a=!a),a&&_t&&ol(i),Cm(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(l(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){_t=zn(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}_t=null}}else r===27?(r=_t,zi(i.type)?(i=qc,qc=null,_t=i):_t=r):_t=Wt?zn(i.stateNode.nextSibling):null;return!0}function Hr(){_t=Wt=null,rt=!1}function Tm(){var i=rl;return i!==null&&(an===null?an=i:an.push.apply(an,i),rl=null),i}function $r(i){rl===null?rl=[i]:rl.push(i)}var Su=X(null),al=null,li=null;function bi(i,r,a){M(Su,r._currentValue),r._currentValue=a}function ri(i){i._currentValue=Su.current,ue(Su)}function bu(i,r,a){for(;i!==null;){var d=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),i===a)break;i=i.return}}function _u(i,r,a,d){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var b=g.child;v=v.firstContext;e:for(;v!==null;){var A=v;v=g;for(var w=0;w<r.length;w++)if(A.context===r[w]){v.lanes|=a,A=v.alternate,A!==null&&(A.lanes|=a),bu(v.return,a,i),d||(b=null);break e}v=A.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(l(341));b.lanes|=a,v=b.alternate,v!==null&&(v.lanes|=a),bu(b,a,i),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===i){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function Jr(i,r,a,d){i=null;for(var g=r,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var A=g.type;fn(g.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(g===bt.current){if(b=g.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(So):i=[So])}g=g.return}i!==null&&_u(r,i,a,d),r.flags|=262144}function fa(i){for(i=i.firstContext;i!==null;){if(!fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sl(i){al=i,li=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return Sm(al,i)}function da(i,r){return al===null&&sl(i),Sm(i,r)}function Sm(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},li===null){if(i===null)throw Error(l(308));li=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else li=li.next=r;return a}var wC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,d){i.push(d)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},NC=t.unstable_scheduleCallback,RC=t.unstable_NormalPriority,It={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new wC,data:new Map,refCount:0}}function Yr(i){i.refCount--,i.refCount===0&&NC(RC,function(){i.controller.abort()})}var Kr=null,Eu=0,Hl=0,$l=null;function DC(i,r){if(Kr===null){var a=Kr=[];Eu=0,Hl=kc(),$l={status:"pending",value:void 0,then:function(d){a.push(d)}}}return Eu++,r.then(bm,bm),r}function bm(){if(--Eu===0&&Kr!==null){$l!==null&&($l.status="fulfilled");var i=Kr;Kr=null,Hl=0,$l=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function IC(i,r){var a=[],d={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){d.status="fulfilled",d.value=r;for(var g=0;g<a.length;g++)(0,a[g])(r)},function(g){for(d.status="rejected",d.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),d}var _m=H.S;H.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&DC(i,r),_m!==null&&_m(i,r)};var ul=X(null);function Mu(){var i=ul.current;return i!==null?i:vt.pooledCache}function ma(i,r){r===null?M(ul,ul.current):M(ul,r.pool)}function Am(){var i=Mu();return i===null?null:{parent:It._currentValue,pool:i}}var Zr=Error(l(460)),Em=Error(l(474)),ha=Error(l(542)),ku={then:function(){}};function Mm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function pa(){}function km(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(pa,pa),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Nm(i),i;default:if(typeof r.status=="string")r.then(pa,pa);else{if(i=vt,i!==null&&100<i.shellSuspendCounter)throw Error(l(482));i=r,i.status="pending",i.then(function(d){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=d}},function(d){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Nm(i),i}throw Xr=r,Zr}}var Xr=null;function wm(){if(Xr===null)throw Error(l(459));var i=Xr;return Xr=null,i}function Nm(i){if(i===Zr||i===ha)throw Error(l(483))}var _i=!1;function wu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ai(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ei(i,r,a){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(ot&2)!==0){var g=d.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),d.pending=r,r=aa(i),gm(i,null,a),r}return oa(i,d,r,a),aa(i)}function Qr(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var d=r.lanes;d&=i.pendingLanes,a|=d,r.lanes=a,Ln(i,a)}}function Ru(i,r){var a=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=b:v=v.next=b,a=a.next}while(a!==null);v===null?g=v=r:v=v.next=r}else g=v=r;a={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Du=!1;function Wr(){if(Du){var i=$l;if(i!==null)throw i}}function jr(i,r,a,d){Du=!1;var g=i.updateQueue;_i=!1;var v=g.firstBaseUpdate,b=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var w=A,B=w.next;w.next=null,b===null?v=B:b.next=B,b=w;var K=i.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==b&&(A===null?K.firstBaseUpdate=B:A.next=B,K.lastBaseUpdate=w))}if(v!==null){var W=g.baseState;b=0,K=B=w=null,A=v;do{var F=A.lane&-536870913,G=F!==A.lane;if(G?(et&F)===F:(d&F)===F){F!==0&&F===Hl&&(Du=!0),K!==null&&(K=K.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ie=i,Re=A;F=r;var dt=a;switch(Re.tag){case 1:if(Ie=Re.payload,typeof Ie=="function"){W=Ie.call(dt,W,F);break e}W=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Re.payload,F=typeof Ie=="function"?Ie.call(dt,W,F):Ie,F==null)break e;W=y({},W,F);break e;case 2:_i=!0}}F=A.callback,F!==null&&(i.flags|=64,G&&(i.flags|=8192),G=g.callbacks,G===null?g.callbacks=[F]:G.push(F))}else G={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(B=K=G,w=W):K=K.next=G,b|=F;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;G=A,A=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);K===null&&(w=W),g.baseState=w,g.firstBaseUpdate=B,g.lastBaseUpdate=K,v===null&&(g.shared.lanes=0),Ui|=b,i.lanes=b,i.memoizedState=W}}function Rm(i,r){if(typeof i!="function")throw Error(l(191,i));i.call(r)}function Dm(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Rm(a[i],r)}var Jl=X(null),ga=X(0);function Im(i,r){i=di,M(ga,i),M(Jl,r),di=i|r.baseLanes}function Iu(){M(ga,di),M(Jl,Jl.current)}function Uu(){di=ga.current,ue(Jl),ue(ga)}var Mi=0,Fe=null,ct=null,wt=null,ya=!1,Yl=!1,cl=!1,va=0,eo=0,Kl=null,UC=0;function Mt(){throw Error(l(321))}function Lu(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!fn(i[a],r[a]))return!1;return!0}function Pu(i,r,a,d,g,v){return Mi=v,Fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=i===null||i.memoizedState===null?gh:yh,cl=!1,v=a(d,g),cl=!1,Yl&&(v=Lm(r,a,d,g)),Um(i),v}function Um(i){H.H=_a;var r=ct!==null&&ct.next!==null;if(Mi=0,wt=ct=Fe=null,ya=!1,eo=0,Kl=null,r)throw Error(l(300));i===null||Ot||(i=i.dependencies,i!==null&&fa(i)&&(Ot=!0))}function Lm(i,r,a,d){Fe=i;var g=0;do{if(Yl&&(Kl=null),eo=0,Yl=!1,25<=g)throw Error(l(301));if(g+=1,wt=ct=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}H.H=qC,v=r(a,d)}while(Yl);return v}function LC(){var i=H.H,r=i.useState()[0];return r=typeof r.then=="function"?to(r):r,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(Fe.flags|=1024),r}function Ou(){var i=va!==0;return va=0,i}function zu(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Vu(i){if(ya){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ya=!1}Mi=0,wt=ct=Fe=null,Yl=!1,eo=va=0,Kl=null}function rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Fe.memoizedState=wt=i:wt=wt.next=i,wt}function Nt(){if(ct===null){var i=Fe.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var r=wt===null?Fe.memoizedState:wt.next;if(r!==null)wt=r,ct=i;else{if(i===null)throw Fe.alternate===null?Error(l(467)):Error(l(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},wt===null?Fe.memoizedState=wt=i:wt=wt.next=i}return wt}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(i){var r=eo;return eo+=1,Kl===null&&(Kl=[]),i=km(Kl,i,r),r=Fe,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?gh:yh),i}function xa(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return to(i);if(i.$$typeof===L)return Jt(i)}throw Error(l(438,String(i)))}function qu(i){var r=null,a=Fe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var d=Fe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Bu(),Fe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),d=0;d<i;d++)a[d]=P;return r.index++,a}function oi(i,r){return typeof r=="function"?r(i):r}function Ca(i){var r=Nt();return Fu(r,ct,i)}function Fu(i,r,a){var d=i.queue;if(d===null)throw Error(l(311));d.lastRenderedReducer=a;var g=i.baseQueue,v=d.pending;if(v!==null){if(g!==null){var b=g.next;g.next=v.next,v.next=b}r.baseQueue=g=v,d.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{r=g.next;var A=b=null,w=null,B=r,K=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(et&W)===W:(Mi&W)===W){var F=B.revertLane;if(F===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Hl&&(K=!0);else if((Mi&F)===F){B=B.next,F===Hl&&(K=!0);continue}else W={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(A=w=W,b=v):w=w.next=W,Fe.lanes|=F,Ui|=F;W=B.action,cl&&a(v,W),v=B.hasEagerState?B.eagerState:a(v,W)}else F={lane:W,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(A=w=F,b=v):w=w.next=F,Fe.lanes|=W,Ui|=W;B=B.next}while(B!==null&&B!==r);if(w===null?b=v:w.next=A,!fn(v,i.memoizedState)&&(Ot=!0,K&&(a=$l,a!==null)))throw a;i.memoizedState=v,i.baseState=b,i.baseQueue=w,d.lastRenderedState=v}return g===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Gu(i){var r=Nt(),a=r.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=i;var d=a.dispatch,g=a.pending,v=r.memoizedState;if(g!==null){a.pending=null;var b=g=g.next;do v=i(v,b.action),b=b.next;while(b!==g);fn(v,r.memoizedState)||(Ot=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),a.lastRenderedState=v}return[v,d]}function Pm(i,r,a){var d=Fe,g=Nt(),v=rt;if(v){if(a===void 0)throw Error(l(407));a=a()}else a=r();var b=!fn((ct||g).memoizedState,a);b&&(g.memoizedState=a,Ot=!0),g=g.queue;var A=Vm.bind(null,d,g,i);if(no(2048,8,A,[i]),g.getSnapshot!==r||b||wt!==null&&wt.memoizedState.tag&1){if(d.flags|=2048,Zl(9,Ta(),zm.bind(null,d,g,a,r),null),vt===null)throw Error(l(349));v||(Mi&124)!==0||Om(d,r,a)}return a}function Om(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Fe.updateQueue,r===null?(r=Bu(),Fe.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function zm(i,r,a,d){r.value=a,r.getSnapshot=d,Bm(r)&&qm(i)}function Vm(i,r,a){return a(function(){Bm(r)&&qm(i)})}function Bm(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!fn(i,a)}catch{return!0}}function qm(i){var r=Bl(i,2);r!==null&&yn(r,i,2)}function Hu(i){var r=rn();if(typeof i=="function"){var a=i;if(i=a(),cl){ae(!0);try{a()}finally{ae(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:i},r}function Fm(i,r,a,d){return i.baseState=a,Fu(i,ct,typeof d=="function"?d:oi)}function PC(i,r,a,d,g){if(ba(i))throw Error(l(485));if(i=r.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){v.listeners.push(b)}};H.T!==null?a(!0):v.isTransition=!1,d(v),a=r.pending,a===null?(v.next=r.pending=v,Gm(r,v)):(v.next=a.next,r.pending=a.next=v)}}function Gm(i,r){var a=r.action,d=r.payload,g=i.state;if(r.isTransition){var v=H.T,b={};H.T=b;try{var A=a(g,d),w=H.S;w!==null&&w(b,A),Hm(i,r,A)}catch(B){$u(i,r,B)}finally{H.T=v}}else try{v=a(g,d),Hm(i,r,v)}catch(B){$u(i,r,B)}}function Hm(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(d){$m(i,r,d)},function(d){return $u(i,r,d)}):$m(i,r,a)}function $m(i,r,a){r.status="fulfilled",r.value=a,Jm(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Gm(i,a)))}function $u(i,r,a){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=a,Jm(r),r=r.next;while(r!==d)}i.action=null}function Jm(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Ym(i,r){return r}function Km(i,r){if(rt){var a=vt.formState;if(a!==null){e:{var d=Fe;if(rt){if(_t){t:{for(var g=_t,v=Fn;g.nodeType!==8;){if(!v){g=null;break t}if(g=zn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){_t=zn(g.nextSibling),d=g.data==="F!";break e}}ol(d)}d=!1}d&&(r=a[0])}}return a=rn(),a.memoizedState=a.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:r},a.queue=d,a=mh.bind(null,Fe,d),d.dispatch=a,d=Hu(!1),v=Xu.bind(null,Fe,!1,d.queue),d=rn(),g={state:r,dispatch:null,action:i,pending:null},d.queue=g,a=PC.bind(null,Fe,g,v,a),g.dispatch=a,d.memoizedState=i,[r,a,!1]}function Zm(i){var r=Nt();return Xm(r,ct,i)}function Xm(i,r,a){if(r=Fu(i,r,Ym)[0],i=Ca(oi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=to(r)}catch(b){throw b===Zr?ha:b}else d=r;r=Nt();var g=r.queue,v=g.dispatch;return a!==r.memoizedState&&(Fe.flags|=2048,Zl(9,Ta(),OC.bind(null,g,a),null)),[d,v,i]}function OC(i,r){i.action=r}function Qm(i){var r=Nt(),a=ct;if(a!==null)return Xm(r,a,i);Nt(),r=r.memoizedState,a=Nt();var d=a.queue.dispatch;return a.memoizedState=i,[r,d,!1]}function Zl(i,r,a,d){return i={tag:i,create:a,deps:d,inst:r,next:null},r=Fe.updateQueue,r===null&&(r=Bu(),Fe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(d=a.next,a.next=i,i.next=d,r.lastEffect=i),i}function Ta(){return{destroy:void 0,resource:void 0}}function Wm(){return Nt().memoizedState}function Sa(i,r,a,d){var g=rn();d=d===void 0?null:d,Fe.flags|=i,g.memoizedState=Zl(1|r,Ta(),a,d)}function no(i,r,a,d){var g=Nt();d=d===void 0?null:d;var v=g.memoizedState.inst;ct!==null&&d!==null&&Lu(d,ct.memoizedState.deps)?g.memoizedState=Zl(r,v,a,d):(Fe.flags|=i,g.memoizedState=Zl(1|r,v,a,d))}function jm(i,r){Sa(8390656,8,i,r)}function eh(i,r){no(2048,8,i,r)}function th(i,r){return no(4,2,i,r)}function nh(i,r){return no(4,4,i,r)}function ih(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function lh(i,r,a){a=a!=null?a.concat([i]):null,no(4,4,ih.bind(null,r,i),a)}function Ju(){}function rh(i,r){var a=Nt();r=r===void 0?null:r;var d=a.memoizedState;return r!==null&&Lu(r,d[1])?d[0]:(a.memoizedState=[i,r],i)}function oh(i,r){var a=Nt();r=r===void 0?null:r;var d=a.memoizedState;if(r!==null&&Lu(r,d[1]))return d[0];if(d=i(),cl){ae(!0);try{i()}finally{ae(!1)}}return a.memoizedState=[d,r],d}function Yu(i,r,a){return a===void 0||(Mi&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=up(),Fe.lanes|=i,Ui|=i,a)}function ah(i,r,a,d){return fn(a,r)?a:Jl.current!==null?(i=Yu(i,a,d),fn(i,r)||(Ot=!0),i):(Mi&42)===0?(Ot=!0,i.memoizedState=a):(i=up(),Fe.lanes|=i,Ui|=i,r)}function sh(i,r,a,d,g){var v=ne.p;ne.p=v!==0&&8>v?v:8;var b=H.T,A={};H.T=A,Xu(i,!1,r,a);try{var w=g(),B=H.S;if(B!==null&&B(A,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=IC(w,d);io(i,r,K,gn(i))}else io(i,r,d,gn(i))}catch(W){io(i,r,{then:function(){},status:"rejected",reason:W},gn())}finally{ne.p=v,H.T=b}}function zC(){}function Ku(i,r,a,d){if(i.tag!==5)throw Error(l(476));var g=uh(i).queue;sh(i,g,r,Ce,a===null?zC:function(){return ch(i),a(d)})}function uh(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:Ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function ch(i){var r=uh(i).next.queue;io(i,r,{},gn())}function Zu(){return Jt(So)}function fh(){return Nt().memoizedState}function dh(){return Nt().memoizedState}function VC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=gn();i=Ai(a);var d=Ei(r,i,a);d!==null&&(yn(d,r,a),Qr(d,r,a)),r={cache:Au()},i.payload=r;return}r=r.return}}function BC(i,r,a){var d=gn();a={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ba(i)?hh(r,a):(a=pu(i,r,a,d),a!==null&&(yn(a,i,d),ph(a,r,d)))}function mh(i,r,a){var d=gn();io(i,r,a,d)}function io(i,r,a,d){var g={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ba(i))hh(r,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var b=r.lastRenderedState,A=v(b,a);if(g.hasEagerState=!0,g.eagerState=A,fn(A,b))return oa(i,r,g,0),vt===null&&ra(),!1}catch{}finally{}if(a=pu(i,r,g,d),a!==null)return yn(a,i,d),ph(a,r,d),!0}return!1}function Xu(i,r,a,d){if(d={lane:2,revertLane:kc(),action:d,hasEagerState:!1,eagerState:null,next:null},ba(i)){if(r)throw Error(l(479))}else r=pu(i,a,d,2),r!==null&&yn(r,i,2)}function ba(i){var r=i.alternate;return i===Fe||r!==null&&r===Fe}function hh(i,r){Yl=ya=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function ph(i,r,a){if((a&4194048)!==0){var d=r.lanes;d&=i.pendingLanes,a|=d,r.lanes=a,Ln(i,a)}}var _a={readContext:Jt,use:xa,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},gh={readContext:Jt,use:xa,useCallback:function(i,r){return rn().memoizedState=[i,r===void 0?null:r],i},useContext:Jt,useEffect:jm,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Sa(4194308,4,ih.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Sa(4194308,4,i,r)},useInsertionEffect:function(i,r){Sa(4,2,i,r)},useMemo:function(i,r){var a=rn();r=r===void 0?null:r;var d=i();if(cl){ae(!0);try{i()}finally{ae(!1)}}return a.memoizedState=[d,r],d},useReducer:function(i,r,a){var d=rn();if(a!==void 0){var g=a(r);if(cl){ae(!0);try{a(r)}finally{ae(!1)}}}else g=r;return d.memoizedState=d.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},d.queue=i,i=i.dispatch=BC.bind(null,Fe,i),[d.memoizedState,i]},useRef:function(i){var r=rn();return i={current:i},r.memoizedState=i},useState:function(i){i=Hu(i);var r=i.queue,a=mh.bind(null,Fe,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Ju,useDeferredValue:function(i,r){var a=rn();return Yu(a,i,r)},useTransition:function(){var i=Hu(!1);return i=sh.bind(null,Fe,i.queue,!0,!1),rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var d=Fe,g=rn();if(rt){if(a===void 0)throw Error(l(407));a=a()}else{if(a=r(),vt===null)throw Error(l(349));(et&124)!==0||Om(d,r,a)}g.memoizedState=a;var v={value:a,getSnapshot:r};return g.queue=v,jm(Vm.bind(null,d,v,i),[i]),d.flags|=2048,Zl(9,Ta(),zm.bind(null,d,v,a,r),null),a},useId:function(){var i=rn(),r=vt.identifierPrefix;if(rt){var a=ii,d=ni;a=(d&~(1<<32-se(d)-1)).toString(32)+a,r="«"+r+"R"+a,a=va++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=UC++,r="«"+r+"r"+a.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Zu,useFormState:Km,useActionState:Km,useOptimistic:function(i){var r=rn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Xu.bind(null,Fe,!0,a),a.dispatch=r,[i,r]},useMemoCache:qu,useCacheRefresh:function(){return rn().memoizedState=VC.bind(null,Fe)}},yh={readContext:Jt,use:xa,useCallback:rh,useContext:Jt,useEffect:eh,useImperativeHandle:lh,useInsertionEffect:th,useLayoutEffect:nh,useMemo:oh,useReducer:Ca,useRef:Wm,useState:function(){return Ca(oi)},useDebugValue:Ju,useDeferredValue:function(i,r){var a=Nt();return ah(a,ct.memoizedState,i,r)},useTransition:function(){var i=Ca(oi)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:to(i),r]},useSyncExternalStore:Pm,useId:fh,useHostTransitionStatus:Zu,useFormState:Zm,useActionState:Zm,useOptimistic:function(i,r){var a=Nt();return Fm(a,ct,i,r)},useMemoCache:qu,useCacheRefresh:dh},qC={readContext:Jt,use:xa,useCallback:rh,useContext:Jt,useEffect:eh,useImperativeHandle:lh,useInsertionEffect:th,useLayoutEffect:nh,useMemo:oh,useReducer:Gu,useRef:Wm,useState:function(){return Gu(oi)},useDebugValue:Ju,useDeferredValue:function(i,r){var a=Nt();return ct===null?Yu(a,i,r):ah(a,ct.memoizedState,i,r)},useTransition:function(){var i=Gu(oi)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:to(i),r]},useSyncExternalStore:Pm,useId:fh,useHostTransitionStatus:Zu,useFormState:Qm,useActionState:Qm,useOptimistic:function(i,r){var a=Nt();return ct!==null?Fm(a,ct,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:qu,useCacheRefresh:dh},Xl=null,lo=0;function Aa(i){var r=lo;return lo+=1,Xl===null&&(Xl=[]),km(Xl,i,r)}function ro(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ea(i,r){throw r.$$typeof===x?Error(l(525)):(i=Object.prototype.toString.call(r),Error(l(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function vh(i){var r=i._init;return r(i._payload)}function xh(i){function r(U,D){if(i){var V=U.deletions;V===null?(U.deletions=[D],U.flags|=16):V.push(D)}}function a(U,D){if(!i)return null;for(;D!==null;)r(U,D),D=D.sibling;return null}function d(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function g(U,D){return U=ti(U,D),U.index=0,U.sibling=null,U}function v(U,D,V){return U.index=V,i?(V=U.alternate,V!==null?(V=V.index,V<D?(U.flags|=67108866,D):V):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function b(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function A(U,D,V,Z){return D===null||D.tag!==6?(D=yu(V,U.mode,Z),D.return=U,D):(D=g(D,V),D.return=U,D)}function w(U,D,V,Z){var ve=V.type;return ve===E?K(U,D,V.props.children,Z,V.key):D!==null&&(D.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===j&&vh(ve)===D.type)?(D=g(D,V.props),ro(D,V),D.return=U,D):(D=sa(V.type,V.key,V.props,null,U.mode,Z),ro(D,V),D.return=U,D)}function B(U,D,V,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==V.containerInfo||D.stateNode.implementation!==V.implementation?(D=vu(V,U.mode,Z),D.return=U,D):(D=g(D,V.children||[]),D.return=U,D)}function K(U,D,V,Z,ve){return D===null||D.tag!==7?(D=nl(V,U.mode,Z,ve),D.return=U,D):(D=g(D,V),D.return=U,D)}function W(U,D,V){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=yu(""+D,U.mode,V),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return V=sa(D.type,D.key,D.props,null,U.mode,V),ro(V,D),V.return=U,V;case T:return D=vu(D,U.mode,V),D.return=U,D;case j:var Z=D._init;return D=Z(D._payload),W(U,D,V)}if(ce(D)||te(D))return D=nl(D,U.mode,V,null),D.return=U,D;if(typeof D.then=="function")return W(U,Aa(D),V);if(D.$$typeof===L)return W(U,da(U,D),V);Ea(U,D)}return null}function F(U,D,V,Z){var ve=D!==null?D.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ve!==null?null:A(U,D,""+V,Z);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return V.key===ve?w(U,D,V,Z):null;case T:return V.key===ve?B(U,D,V,Z):null;case j:return ve=V._init,V=ve(V._payload),F(U,D,V,Z)}if(ce(V)||te(V))return ve!==null?null:K(U,D,V,Z,null);if(typeof V.then=="function")return F(U,D,Aa(V),Z);if(V.$$typeof===L)return F(U,D,da(U,V),Z);Ea(U,V)}return null}function G(U,D,V,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(V)||null,A(D,U,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return U=U.get(Z.key===null?V:Z.key)||null,w(D,U,Z,ve);case T:return U=U.get(Z.key===null?V:Z.key)||null,B(D,U,Z,ve);case j:var He=Z._init;return Z=He(Z._payload),G(U,D,V,Z,ve)}if(ce(Z)||te(Z))return U=U.get(V)||null,K(D,U,Z,ve,null);if(typeof Z.then=="function")return G(U,D,V,Aa(Z),ve);if(Z.$$typeof===L)return G(U,D,V,da(D,Z),ve);Ea(D,Z)}return null}function Ie(U,D,V,Z){for(var ve=null,He=null,Me=D,De=D=0,Vt=null;Me!==null&&De<V.length;De++){Me.index>De?(Vt=Me,Me=null):Vt=Me.sibling;var nt=F(U,Me,V[De],Z);if(nt===null){Me===null&&(Me=Vt);break}i&&Me&&nt.alternate===null&&r(U,Me),D=v(nt,D,De),He===null?ve=nt:He.sibling=nt,He=nt,Me=Vt}if(De===V.length)return a(U,Me),rt&&ll(U,De),ve;if(Me===null){for(;De<V.length;De++)Me=W(U,V[De],Z),Me!==null&&(D=v(Me,D,De),He===null?ve=Me:He.sibling=Me,He=Me);return rt&&ll(U,De),ve}for(Me=d(Me);De<V.length;De++)Vt=G(Me,U,De,V[De],Z),Vt!==null&&(i&&Vt.alternate!==null&&Me.delete(Vt.key===null?De:Vt.key),D=v(Vt,D,De),He===null?ve=Vt:He.sibling=Vt,He=Vt);return i&&Me.forEach(function(Gi){return r(U,Gi)}),rt&&ll(U,De),ve}function Re(U,D,V,Z){if(V==null)throw Error(l(151));for(var ve=null,He=null,Me=D,De=D=0,Vt=null,nt=V.next();Me!==null&&!nt.done;De++,nt=V.next()){Me.index>De?(Vt=Me,Me=null):Vt=Me.sibling;var Gi=F(U,Me,nt.value,Z);if(Gi===null){Me===null&&(Me=Vt);break}i&&Me&&Gi.alternate===null&&r(U,Me),D=v(Gi,D,De),He===null?ve=Gi:He.sibling=Gi,He=Gi,Me=Vt}if(nt.done)return a(U,Me),rt&&ll(U,De),ve;if(Me===null){for(;!nt.done;De++,nt=V.next())nt=W(U,nt.value,Z),nt!==null&&(D=v(nt,D,De),He===null?ve=nt:He.sibling=nt,He=nt);return rt&&ll(U,De),ve}for(Me=d(Me);!nt.done;De++,nt=V.next())nt=G(Me,U,De,nt.value,Z),nt!==null&&(i&&nt.alternate!==null&&Me.delete(nt.key===null?De:nt.key),D=v(nt,D,De),He===null?ve=nt:He.sibling=nt,He=nt);return i&&Me.forEach(function(FT){return r(U,FT)}),rt&&ll(U,De),ve}function dt(U,D,V,Z){if(typeof V=="object"&&V!==null&&V.type===E&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case C:e:{for(var ve=V.key;D!==null;){if(D.key===ve){if(ve=V.type,ve===E){if(D.tag===7){a(U,D.sibling),Z=g(D,V.props.children),Z.return=U,U=Z;break e}}else if(D.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===j&&vh(ve)===D.type){a(U,D.sibling),Z=g(D,V.props),ro(Z,V),Z.return=U,U=Z;break e}a(U,D);break}else r(U,D);D=D.sibling}V.type===E?(Z=nl(V.props.children,U.mode,Z,V.key),Z.return=U,U=Z):(Z=sa(V.type,V.key,V.props,null,U.mode,Z),ro(Z,V),Z.return=U,U=Z)}return b(U);case T:e:{for(ve=V.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===V.containerInfo&&D.stateNode.implementation===V.implementation){a(U,D.sibling),Z=g(D,V.children||[]),Z.return=U,U=Z;break e}else{a(U,D);break}else r(U,D);D=D.sibling}Z=vu(V,U.mode,Z),Z.return=U,U=Z}return b(U);case j:return ve=V._init,V=ve(V._payload),dt(U,D,V,Z)}if(ce(V))return Ie(U,D,V,Z);if(te(V)){if(ve=te(V),typeof ve!="function")throw Error(l(150));return V=ve.call(V),Re(U,D,V,Z)}if(typeof V.then=="function")return dt(U,D,Aa(V),Z);if(V.$$typeof===L)return dt(U,D,da(U,V),Z);Ea(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,D!==null&&D.tag===6?(a(U,D.sibling),Z=g(D,V),Z.return=U,U=Z):(a(U,D),Z=yu(V,U.mode,Z),Z.return=U,U=Z),b(U)):a(U,D)}return function(U,D,V,Z){try{lo=0;var ve=dt(U,D,V,Z);return Xl=null,ve}catch(Me){if(Me===Zr||Me===ha)throw Me;var He=dn(29,Me,null,U.mode);return He.lanes=Z,He.return=U,He}finally{}}}var Ql=xh(!0),Ch=xh(!1),kn=X(null),Gn=null;function ki(i){var r=i.alternate;M(Ut,Ut.current&1),M(kn,i),Gn===null&&(r===null||Jl.current!==null||r.memoizedState!==null)&&(Gn=i)}function Th(i){if(i.tag===22){if(M(Ut,Ut.current),M(kn,i),Gn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Gn=i)}}else wi()}function wi(){M(Ut,Ut.current),M(kn,kn.current)}function ai(i){ue(kn),Gn===i&&(Gn=null),ue(Ut)}var Ut=X(0);function Ma(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Bc(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Qu(i,r,a,d){r=i.memoizedState,a=a(d,r),a=a==null?r:y({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Wu={enqueueSetState:function(i,r,a){i=i._reactInternals;var d=gn(),g=Ai(d);g.payload=r,a!=null&&(g.callback=a),r=Ei(i,g,d),r!==null&&(yn(r,i,d),Qr(r,i,d))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var d=gn(),g=Ai(d);g.tag=1,g.payload=r,a!=null&&(g.callback=a),r=Ei(i,g,d),r!==null&&(yn(r,i,d),Qr(r,i,d))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=gn(),d=Ai(a);d.tag=2,r!=null&&(d.callback=r),r=Ei(i,d,a),r!==null&&(yn(r,i,a),Qr(r,i,a))}};function Sh(i,r,a,d,g,v,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,b):r.prototype&&r.prototype.isPureReactComponent?!qr(a,d)||!qr(g,v):!0}function bh(i,r,a,d){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,d),r.state!==i&&Wu.enqueueReplaceState(r,r.state,null)}function fl(i,r){var a=r;if("ref"in r){a={};for(var d in r)d!=="ref"&&(a[d]=r[d])}if(i=i.defaultProps){a===r&&(a=y({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}var ka=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function _h(i){ka(i)}function Ah(i){console.error(i)}function Eh(i){ka(i)}function wa(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function Mh(i,r,a){try{var d=i.onCaughtError;d(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ju(i,r,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){wa(i,r)},a}function kh(i){return i=Ai(i),i.tag=3,i}function wh(i,r,a,d){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;i.payload=function(){return g(v)},i.callback=function(){Mh(r,a,d)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Mh(r,a,d),typeof g!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})})}function FC(i,r,a,d,g){if(a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=a.alternate,r!==null&&Jr(r,a,g,!0),a=kn.current,a!==null){switch(a.tag){case 13:return Gn===null?bc():a.alternate===null&&At===0&&(At=3),a.flags&=-257,a.flags|=65536,a.lanes=g,d===ku?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([d]):r.add(d),Ac(i,d,g)),!1;case 22:return a.flags|=65536,d===ku?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([d]):a.add(d)),Ac(i,d,g)),!1}throw Error(l(435,a.tag))}return Ac(i,d,g),bc(),!1}if(rt)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,d!==Tu&&(i=Error(l(422),{cause:d}),$r(_n(i,a)))):(d!==Tu&&(r=Error(l(423),{cause:d}),$r(_n(r,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,d=_n(d,a),g=ju(i.stateNode,d,g),Ru(i,g),At!==4&&(At=2)),!1;var v=Error(l(520),{cause:d});if(v=_n(v,a),mo===null?mo=[v]:mo.push(v),At!==4&&(At=2),r===null)return!0;d=_n(d,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=ju(a.stateNode,d,i),Ru(a,i),!1;case 1:if(r=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Li===null||!Li.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=kh(g),wh(g,i,a,d),Ru(a,g),!1}a=a.return}while(a!==null);return!1}var Nh=Error(l(461)),Ot=!1;function qt(i,r,a,d){r.child=i===null?Ch(r,null,a,d):Ql(r,i.child,a,d)}function Rh(i,r,a,d,g){a=a.render;var v=r.ref;if("ref"in d){var b={};for(var A in d)A!=="ref"&&(b[A]=d[A])}else b=d;return sl(r),d=Pu(i,r,a,b,v,g),A=Ou(),i!==null&&!Ot?(zu(i,r,g),si(i,r,g)):(rt&&A&&xu(r),r.flags|=1,qt(i,r,d,g),r.child)}function Dh(i,r,a,d,g){if(i===null){var v=a.type;return typeof v=="function"&&!gu(v)&&v.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=v,Ih(i,r,v,d,g)):(i=sa(a.type,null,d,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!ac(i,g)){var b=v.memoizedProps;if(a=a.compare,a=a!==null?a:qr,a(b,d)&&i.ref===r.ref)return si(i,r,g)}return r.flags|=1,i=ti(v,d),i.ref=r.ref,i.return=r,r.child=i}function Ih(i,r,a,d,g){if(i!==null){var v=i.memoizedProps;if(qr(v,d)&&i.ref===r.ref)if(Ot=!1,r.pendingProps=d=v,ac(i,g))(i.flags&131072)!==0&&(Ot=!0);else return r.lanes=i.lanes,si(i,r,g)}return ec(i,r,a,d,g)}function Uh(i,r,a){var d=r.pendingProps,g=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=v!==null?v.baseLanes|a:a,i!==null){for(g=r.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;r.childLanes=v&~d}else r.childLanes=0,r.child=null;return Lh(i,r,d,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ma(r,v!==null?v.cachePool:null),v!==null?Im(r,v):Iu(),Th(r);else return r.lanes=r.childLanes=536870912,Lh(i,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(ma(r,v.cachePool),Im(r,v),wi(),r.memoizedState=null):(i!==null&&ma(r,null),Iu(),wi());return qt(i,r,g,a),r.child}function Lh(i,r,a,d){var g=Mu();return g=g===null?null:{parent:It._currentValue,pool:g},r.memoizedState={baseLanes:a,cachePool:g},i!==null&&ma(r,null),Iu(),Th(r),i!==null&&Jr(i,r,d,!0),null}function Na(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function ec(i,r,a,d,g){return sl(r),a=Pu(i,r,a,d,void 0,g),d=Ou(),i!==null&&!Ot?(zu(i,r,g),si(i,r,g)):(rt&&d&&xu(r),r.flags|=1,qt(i,r,a,g),r.child)}function Ph(i,r,a,d,g,v){return sl(r),r.updateQueue=null,a=Lm(r,d,a,g),Um(i),d=Ou(),i!==null&&!Ot?(zu(i,r,v),si(i,r,v)):(rt&&d&&xu(r),r.flags|=1,qt(i,r,a,v),r.child)}function Oh(i,r,a,d,g){if(sl(r),r.stateNode===null){var v=ql,b=a.contextType;typeof b=="object"&&b!==null&&(v=Jt(b)),v=new a(d,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Wu,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=d,v.state=r.memoizedState,v.refs={},wu(r),b=a.contextType,v.context=typeof b=="object"&&b!==null?Jt(b):ql,v.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Qu(r,a,b,d),v.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(b=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),b!==v.state&&Wu.enqueueReplaceState(v,v.state,null),jr(r,d,v,g),Wr(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(i===null){v=r.stateNode;var A=r.memoizedProps,w=fl(a,A);v.props=w;var B=v.context,K=a.contextType;b=ql,typeof K=="object"&&K!==null&&(b=Jt(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof v.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,K||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A||B!==b)&&bh(r,v,d,b),_i=!1;var F=r.memoizedState;v.state=F,jr(r,d,v,g),Wr(),B=r.memoizedState,A||F!==B||_i?(typeof W=="function"&&(Qu(r,a,W,d),B=r.memoizedState),(w=_i||Sh(r,a,w,d,F,B,b))?(K||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=B),v.props=d,v.state=B,v.context=b,d=w):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{v=r.stateNode,Nu(i,r),b=r.memoizedProps,K=fl(a,b),v.props=K,W=r.pendingProps,F=v.context,B=a.contextType,w=ql,typeof B=="object"&&B!==null&&(w=Jt(B)),A=a.getDerivedStateFromProps,(B=typeof A=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==W||F!==w)&&bh(r,v,d,w),_i=!1,F=r.memoizedState,v.state=F,jr(r,d,v,g),Wr();var G=r.memoizedState;b!==W||F!==G||_i||i!==null&&i.dependencies!==null&&fa(i.dependencies)?(typeof A=="function"&&(Qu(r,a,A,d),G=r.memoizedState),(K=_i||Sh(r,a,K,d,F,G,w)||i!==null&&i.dependencies!==null&&fa(i.dependencies))?(B||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,G,w),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,G,w)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||b===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=G),v.props=d,v.state=G,v.context=w,d=K):(typeof v.componentDidUpdate!="function"||b===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),d=!1)}return v=d,Na(i,r),d=(r.flags&128)!==0,v||d?(v=r.stateNode,a=d&&typeof a.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&d?(r.child=Ql(r,i.child,null,g),r.child=Ql(r,null,a,g)):qt(i,r,a,g),r.memoizedState=v.state,i=r.child):i=si(i,r,g),i}function zh(i,r,a,d){return Hr(),r.flags|=256,qt(i,r,a,d),r.child}var tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nc(i){return{baseLanes:i,cachePool:Am()}}function ic(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=wn),i}function Vh(i,r,a){var d=r.pendingProps,g=!1,v=(r.flags&128)!==0,b;if((b=v)||(b=i!==null&&i.memoizedState===null?!1:(Ut.current&2)!==0),b&&(g=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(rt){if(g?ki(r):wi(),rt){var A=_t,w;if(w=A){e:{for(w=A,A=Fn;w.nodeType!==8;){if(!A){A=null;break e}if(w=zn(w.nextSibling),w===null){A=null;break e}}A=w}A!==null?(r.memoizedState={dehydrated:A,treeContext:il!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},w=dn(18,null,null,0),w.stateNode=A,w.return=r,r.child=w,Wt=r,_t=null,w=!0):w=!1}w||ol(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Bc(A)?r.lanes=32:r.lanes=536870912,null;ai(r)}return A=d.children,d=d.fallback,g?(wi(),g=r.mode,A=Ra({mode:"hidden",children:A},g),d=nl(d,g,a,null),A.return=r,d.return=r,A.sibling=d,r.child=A,g=r.child,g.memoizedState=nc(a),g.childLanes=ic(i,b,a),r.memoizedState=tc,d):(ki(r),lc(r,A))}if(w=i.memoizedState,w!==null&&(A=w.dehydrated,A!==null)){if(v)r.flags&256?(ki(r),r.flags&=-257,r=rc(i,r,a)):r.memoizedState!==null?(wi(),r.child=i.child,r.flags|=128,r=null):(wi(),g=d.fallback,A=r.mode,d=Ra({mode:"visible",children:d.children},A),g=nl(g,A,a,null),g.flags|=2,d.return=r,g.return=r,d.sibling=g,r.child=d,Ql(r,i.child,null,a),d=r.child,d.memoizedState=nc(a),d.childLanes=ic(i,b,a),r.memoizedState=tc,r=g);else if(ki(r),Bc(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var B=b.dgst;b=B,d=Error(l(419)),d.stack="",d.digest=b,$r({value:d,source:null,stack:null}),r=rc(i,r,a)}else if(Ot||Jr(i,r,a,!1),b=(a&i.childLanes)!==0,Ot||b){if(b=vt,b!==null&&(d=a&-a,d=(d&42)!==0?1:Al(d),d=(d&(b.suspendedLanes|a))!==0?0:d,d!==0&&d!==w.retryLane))throw w.retryLane=d,Bl(i,d),yn(b,i,d),Nh;A.data==="$?"||bc(),r=rc(i,r,a)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=w.treeContext,_t=zn(A.nextSibling),Wt=r,rt=!0,rl=null,Fn=!1,i!==null&&(En[Mn++]=ni,En[Mn++]=ii,En[Mn++]=il,ni=i.id,ii=i.overflow,il=r),r=lc(r,d.children),r.flags|=4096);return r}return g?(wi(),g=d.fallback,A=r.mode,w=i.child,B=w.sibling,d=ti(w,{mode:"hidden",children:d.children}),d.subtreeFlags=w.subtreeFlags&65011712,B!==null?g=ti(B,g):(g=nl(g,A,a,null),g.flags|=2),g.return=r,d.return=r,d.sibling=g,r.child=d,d=g,g=r.child,A=i.child.memoizedState,A===null?A=nc(a):(w=A.cachePool,w!==null?(B=It._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=Am(),A={baseLanes:A.baseLanes|a,cachePool:w}),g.memoizedState=A,g.childLanes=ic(i,b,a),r.memoizedState=tc,d):(ki(r),a=i.child,i=a.sibling,a=ti(a,{mode:"visible",children:d.children}),a.return=r,a.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=a,r.memoizedState=null,a)}function lc(i,r){return r=Ra({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ra(i,r){return i=dn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function rc(i,r,a){return Ql(r,i.child,null,a),i=lc(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Bh(i,r,a){i.lanes|=r;var d=i.alternate;d!==null&&(d.lanes|=r),bu(i.return,r,a)}function oc(i,r,a,d,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=a,v.tailMode=g)}function qh(i,r,a){var d=r.pendingProps,g=d.revealOrder,v=d.tail;if(qt(i,r,d.children,a),d=Ut.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bh(i,a,r);else if(i.tag===19)Bh(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(M(Ut,d),g){case"forwards":for(a=r.child,g=null;a!==null;)i=a.alternate,i!==null&&Ma(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=r.child,r.child=null):(g=a.sibling,a.sibling=null),oc(r,!1,g,a,v);break;case"backwards":for(a=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&Ma(i)===null){r.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}oc(r,!0,a,null,v);break;case"together":oc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function si(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Ui|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Jr(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(l(153));if(r.child!==null){for(i=r.child,a=ti(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=ti(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function ac(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&fa(i)))}function GC(i,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),bi(r,It,i.memoizedState.cache),Hr();break;case 27:case 5:cn(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:bi(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(ki(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Vh(i,r,a):(ki(r),i=si(i,r,a),i!==null?i.sibling:null);ki(r);break;case 19:var g=(i.flags&128)!==0;if(d=(a&r.childLanes)!==0,d||(Jr(i,r,a,!1),d=(a&r.childLanes)!==0),g){if(d)return qh(i,r,a);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),M(Ut,Ut.current),d)break;return null;case 22:case 23:return r.lanes=0,Uh(i,r,a);case 24:bi(r,It,i.memoizedState.cache)}return si(i,r,a)}function Fh(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ot=!0;else{if(!ac(i,a)&&(r.flags&128)===0)return Ot=!1,GC(i,r,a);Ot=(i.flags&131072)!==0}else Ot=!1,rt&&(r.flags&1048576)!==0&&vm(r,ca,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var d=r.elementType,g=d._init;if(d=g(d._payload),r.type=d,typeof d=="function")gu(d)?(i=fl(d,i),r.tag=1,r=Oh(null,r,d,i,a)):(r.tag=0,r=ec(null,r,d,i,a));else{if(d!=null){if(g=d.$$typeof,g===J){r.tag=11,r=Rh(null,r,d,i,a);break e}else if(g===ie){r.tag=14,r=Dh(null,r,d,i,a);break e}}throw r=fe(d)||d,Error(l(306,r,""))}}return r;case 0:return ec(i,r,r.type,r.pendingProps,a);case 1:return d=r.type,g=fl(d,r.pendingProps),Oh(i,r,d,g,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),i===null)throw Error(l(387));d=r.pendingProps;var v=r.memoizedState;g=v.element,Nu(i,r),jr(r,d,null,a);var b=r.memoizedState;if(d=b.cache,bi(r,It,d),d!==v.cache&&_u(r,[It],a,!0),Wr(),d=b.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=zh(i,r,d,a);break e}else if(d!==g){g=_n(Error(l(424)),r),$r(g),r=zh(i,r,d,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_t=zn(i.firstChild),Wt=r,rt=!0,rl=null,Fn=!0,a=Ch(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hr(),d===g){r=si(i,r,a);break e}qt(i,r,d,a)}r=r.child}return r;case 26:return Na(i,r),i===null?(a=Jp(r.type,null,r.pendingProps,null))?r.memoizedState=a:rt||(a=r.type,i=r.pendingProps,d=$a(ye.current).createElement(a),d[$t]=r,d[nn]=i,Gt(d,a,i),Pt(d),r.stateNode=d):r.memoizedState=Jp(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return cn(r),i===null&&rt&&(d=r.stateNode=Gp(r.type,r.pendingProps,ye.current),Wt=r,Fn=!0,g=_t,zi(r.type)?(qc=g,_t=zn(d.firstChild)):_t=g),qt(i,r,r.pendingProps.children,a),Na(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&rt&&((g=d=_t)&&(d=yT(d,r.type,r.pendingProps,Fn),d!==null?(r.stateNode=d,Wt=r,_t=zn(d.firstChild),Fn=!1,g=!0):g=!1),g||ol(r)),cn(r),g=r.type,v=r.pendingProps,b=i!==null?i.memoizedProps:null,d=v.children,Oc(g,v)?d=null:b!==null&&Oc(g,b)&&(r.flags|=32),r.memoizedState!==null&&(g=Pu(i,r,LC,null,null,a),So._currentValue=g),Na(i,r),qt(i,r,d,a),r.child;case 6:return i===null&&rt&&((i=a=_t)&&(a=vT(a,r.pendingProps,Fn),a!==null?(r.stateNode=a,Wt=r,_t=null,i=!0):i=!1),i||ol(r)),null;case 13:return Vh(i,r,a);case 4:return Ze(r,r.stateNode.containerInfo),d=r.pendingProps,i===null?r.child=Ql(r,null,d,a):qt(i,r,d,a),r.child;case 11:return Rh(i,r,r.type,r.pendingProps,a);case 7:return qt(i,r,r.pendingProps,a),r.child;case 8:return qt(i,r,r.pendingProps.children,a),r.child;case 12:return qt(i,r,r.pendingProps.children,a),r.child;case 10:return d=r.pendingProps,bi(r,r.type,d.value),qt(i,r,d.children,a),r.child;case 9:return g=r.type._context,d=r.pendingProps.children,sl(r),g=Jt(g),d=d(g),r.flags|=1,qt(i,r,d,a),r.child;case 14:return Dh(i,r,r.type,r.pendingProps,a);case 15:return Ih(i,r,r.type,r.pendingProps,a);case 19:return qh(i,r,a);case 31:return d=r.pendingProps,a=r.mode,d={mode:d.mode,children:d.children},i===null?(a=Ra(d,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ti(i.child,d),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Uh(i,r,a);case 24:return sl(r),d=Jt(It),i===null?(g=Mu(),g===null&&(g=vt,v=Au(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),r.memoizedState={parent:d,cache:g},wu(r),bi(r,It,g)):((i.lanes&a)!==0&&(Nu(i,r),jr(r,null,null,a),Wr()),g=i.memoizedState,v=r.memoizedState,g.parent!==d?(g={parent:d,cache:d},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),bi(r,It,d)):(d=v.cache,bi(r,It,d),d!==g.cache&&_u(r,[It],a,!0))),qt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(l(156,r.tag))}function ui(i){i.flags|=4}function Gh(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qp(r)){if(r=kn.current,r!==null&&((et&4194048)===et?Gn!==null:(et&62914560)!==et&&(et&536870912)===0||r!==Gn))throw Xr=ku,Em;i.flags|=8192}}function Da(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Tn():536870912,i.lanes|=r,tr|=r)}function oo(i,r){if(!rt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function St(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,d=0;if(r)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=a,r}function HC(i,r,a){var d=r.pendingProps;switch(Cu(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(r),null;case 1:return St(r),null;case 3:return a=r.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),ri(It),Lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gr(r)?ui(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tm())),St(r),null;case 26:return a=r.memoizedState,i===null?(ui(r),a!==null?(St(r),Gh(r,a)):(St(r),r.flags&=-16777217)):a?a!==i.memoizedState?(ui(r),St(r),Gh(r,a)):(St(r),r.flags&=-16777217):(i.memoizedProps!==d&&ui(r),St(r),r.flags&=-16777217),null;case 27:Cn(r),a=ye.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ui(r);else{if(!d){if(r.stateNode===null)throw Error(l(166));return St(r),null}i=ge.current,Gr(r)?xm(r):(i=Gp(g,d,a),r.stateNode=i,ui(r))}return St(r),null;case 5:if(Cn(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ui(r);else{if(!d){if(r.stateNode===null)throw Error(l(166));return St(r),null}if(i=ge.current,Gr(r))xm(r);else{switch(g=$a(ye.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?g.createElement(a,{is:d.is}):g.createElement(a)}}i[$t]=r,i[nn]=d;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;e:switch(Gt(i,a,d),a){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ui(r)}}return St(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==d&&ui(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(l(166));if(i=ye.current,Gr(r)){if(i=r.stateNode,a=r.memoizedProps,d=null,g=Wt,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}i[$t]=r,i=!!(i.nodeValue===a||d!==null&&d.suppressHydrationWarning===!0||Pp(i.nodeValue,a)),i||ol(r)}else i=$a(i).createTextNode(d),i[$t]=r,r.stateNode=i}return St(r),null;case 13:if(d=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Gr(r),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(l(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(l(317));g[$t]=r}else Hr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;St(r),g=!1}else g=Tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(ai(r),r):(ai(r),null)}if(ai(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=d!==null,i=i!==null&&i.memoizedState!==null,a){d=r.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),Da(r,r.updateQueue),St(r),null;case 4:return Lt(),i===null&&Dc(r.stateNode.containerInfo),St(r),null;case 10:return ri(r.type),St(r),null;case 19:if(ue(Ut),g=r.memoizedState,g===null)return St(r),null;if(d=(r.flags&128)!==0,v=g.rendering,v===null)if(d)oo(g,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=Ma(i),v!==null){for(r.flags|=128,oo(g,!1),i=v.updateQueue,r.updateQueue=i,Da(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)ym(a,i),a=a.sibling;return M(Ut,Ut.current&1|2),r.child}i=i.sibling}g.tail!==null&&Ht()>La&&(r.flags|=128,d=!0,oo(g,!1),r.lanes=4194304)}else{if(!d)if(i=Ma(v),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Da(r,i),oo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!rt)return St(r),null}else 2*Ht()-g.renderingStartTime>La&&a!==536870912&&(r.flags|=128,d=!0,oo(g,!1),r.lanes=4194304);g.isBackwards?(v.sibling=r.child,r.child=v):(i=g.last,i!==null?i.sibling=v:r.child=v,g.last=v)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Ht(),r.sibling=null,i=Ut.current,M(Ut,d?i&1|2:i&1),r):(St(r),null);case 22:case 23:return ai(r),Uu(),d=r.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(a&536870912)!==0&&(r.flags&128)===0&&(St(r),r.subtreeFlags&6&&(r.flags|=8192)):St(r),a=r.updateQueue,a!==null&&Da(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==a&&(r.flags|=2048),i!==null&&ue(ul),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ri(It),St(r),null;case 25:return null;case 30:return null}throw Error(l(156,r.tag))}function $C(i,r){switch(Cu(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ri(It),Lt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Cn(r),null;case 13:if(ai(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(l(340));Hr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ue(Ut),null;case 4:return Lt(),null;case 10:return ri(r.type),null;case 22:case 23:return ai(r),Uu(),i!==null&&ue(ul),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ri(It),null;case 25:return null;default:return null}}function Hh(i,r){switch(Cu(r),r.tag){case 3:ri(It),Lt();break;case 26:case 27:case 5:Cn(r);break;case 4:Lt();break;case 13:ai(r);break;case 19:ue(Ut);break;case 10:ri(r.type);break;case 22:case 23:ai(r),Uu(),i!==null&&ue(ul);break;case 24:ri(It)}}function ao(i,r){try{var a=r.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var g=d.next;a=g;do{if((a.tag&i)===i){d=void 0;var v=a.create,b=a.inst;d=v(),b.destroy=d}a=a.next}while(a!==g)}}catch(A){pt(r,r.return,A)}}function Ni(i,r,a){try{var d=r.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&i)===i){var b=d.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,g=r;var w=a,B=A;try{B()}catch(K){pt(g,w,K)}}}d=d.next}while(d!==v)}}catch(K){pt(r,r.return,K)}}function $h(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Dm(r,a)}catch(d){pt(i,i.return,d)}}}function Jh(i,r,a){a.props=fl(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(d){pt(i,r,d)}}function so(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof a=="function"?i.refCleanup=a(d):a.current=d}}catch(g){pt(i,r,g)}}function Hn(i,r){var a=i.ref,d=i.refCleanup;if(a!==null)if(typeof d=="function")try{d()}catch(g){pt(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){pt(i,r,g)}else a.current=null}function Yh(i){var r=i.type,a=i.memoizedProps,d=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&d.focus();break e;case"img":a.src?d.src=a.src:a.srcSet&&(d.srcset=a.srcSet)}}catch(g){pt(i,i.return,g)}}function sc(i,r,a){try{var d=i.stateNode;dT(d,i.type,a,r),d[nn]=r}catch(g){pt(i,i.return,g)}}function Kh(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zi(i.type)||i.tag===4}function uc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Kh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cc(i,r,a){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ha));else if(d!==4&&(d===27&&zi(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(cc(i,r,a),i=i.sibling;i!==null;)cc(i,r,a),i=i.sibling}function Ia(i,r,a){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(d!==4&&(d===27&&zi(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Ia(i,r,a),i=i.sibling;i!==null;)Ia(i,r,a),i=i.sibling}function Zh(i){var r=i.stateNode,a=i.memoizedProps;try{for(var d=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Gt(r,d,a),r[$t]=i,r[nn]=a}catch(v){pt(i,i.return,v)}}var ci=!1,kt=!1,fc=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,zt=null;function JC(i,r){if(i=i.containerInfo,Lc=Qa,i=am(i),uu(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var b=0,A=-1,w=-1,B=0,K=0,W=i,F=null;t:for(;;){for(var G;W!==a||g!==0&&W.nodeType!==3||(A=b+g),W!==v||d!==0&&W.nodeType!==3||(w=b+d),W.nodeType===3&&(b+=W.nodeValue.length),(G=W.firstChild)!==null;)F=W,W=G;for(;;){if(W===i)break t;if(F===a&&++B===g&&(A=b),F===v&&++K===d&&(w=b),(G=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=G}a=A===-1||w===-1?null:{start:A,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pc={focusedElem:i,selectionRange:a},Qa=!1,zt=r;zt!==null;)if(r=zt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,zt=i;else for(;zt!==null;){switch(r=zt,v=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,a=r,g=v.memoizedProps,v=v.memoizedState,d=a.stateNode;try{var Ie=fl(a.type,g,a.elementType===a.type);i=d.getSnapshotBeforeUpdate(Ie,v),d.__reactInternalSnapshotBeforeUpdate=i}catch(Re){pt(a,a.return,Re)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Vc(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Vc(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(l(163))}if(i=r.sibling,i!==null){i.return=r.return,zt=i;break}zt=r.return}}function Qh(i,r,a){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(i,a),d&4&&ao(5,a);break;case 1:if(Ri(i,a),d&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(b){pt(a,a.return,b)}else{var g=fl(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){pt(a,a.return,b)}}d&64&&$h(a),d&512&&so(a,a.return);break;case 3:if(Ri(i,a),d&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Dm(i,r)}catch(b){pt(a,a.return,b)}}break;case 27:r===null&&d&4&&Zh(a);case 26:case 5:Ri(i,a),r===null&&d&4&&Yh(a),d&512&&so(a,a.return);break;case 12:Ri(i,a);break;case 13:Ri(i,a),d&4&&ep(i,a),d&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=tT.bind(null,a),xT(i,a))));break;case 22:if(d=a.memoizedState!==null||ci,!d){r=r!==null&&r.memoizedState!==null||kt,g=ci;var v=kt;ci=d,(kt=r)&&!v?Di(i,a,(a.subtreeFlags&8772)!==0):Ri(i,a),ci=g,kt=v}break;case 30:break;default:Ri(i,a)}}function Wh(i){var r=i.alternate;r!==null&&(i.alternate=null,Wh(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Hs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tt=null,on=!1;function fi(i,r,a){for(a=a.child;a!==null;)jh(i,r,a),a=a.sibling}function jh(i,r,a){if(Y&&typeof Y.onCommitFiberUnmount=="function")try{Y.onCommitFiberUnmount(q,a)}catch{}switch(a.tag){case 26:kt||Hn(a,r),fi(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||Hn(a,r);var d=Tt,g=on;zi(a.type)&&(Tt=a.stateNode,on=!1),fi(i,r,a),vo(a.stateNode),Tt=d,on=g;break;case 5:kt||Hn(a,r);case 6:if(d=Tt,g=on,Tt=null,fi(i,r,a),Tt=d,on=g,Tt!==null)if(on)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(a.stateNode)}catch(v){pt(a,r,v)}else try{Tt.removeChild(a.stateNode)}catch(v){pt(a,r,v)}break;case 18:Tt!==null&&(on?(i=Tt,qp(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Eo(i)):qp(Tt,a.stateNode));break;case 4:d=Tt,g=on,Tt=a.stateNode.containerInfo,on=!0,fi(i,r,a),Tt=d,on=g;break;case 0:case 11:case 14:case 15:kt||Ni(2,a,r),kt||Ni(4,a,r),fi(i,r,a);break;case 1:kt||(Hn(a,r),d=a.stateNode,typeof d.componentWillUnmount=="function"&&Jh(a,r,d)),fi(i,r,a);break;case 21:fi(i,r,a);break;case 22:kt=(d=kt)||a.memoizedState!==null,fi(i,r,a),kt=d;break;default:fi(i,r,a)}}function ep(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Eo(i)}catch(a){pt(r,r.return,a)}}function YC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Xh),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Xh),r;default:throw Error(l(435,i.tag))}}function dc(i,r){var a=YC(i);r.forEach(function(d){var g=nT.bind(null,i,d);a.has(d)||(a.add(d),d.then(g,g))})}function mn(i,r){var a=r.deletions;if(a!==null)for(var d=0;d<a.length;d++){var g=a[d],v=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(zi(A.type)){Tt=A.stateNode,on=!1;break e}break;case 5:Tt=A.stateNode,on=!1;break e;case 3:case 4:Tt=A.stateNode.containerInfo,on=!0;break e}A=A.return}if(Tt===null)throw Error(l(160));jh(v,b,g),Tt=null,on=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)tp(r,i),r=r.sibling}var On=null;function tp(i,r){var a=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mn(r,i),hn(i),d&4&&(Ni(3,i,i.return),ao(3,i),Ni(5,i,i.return));break;case 1:mn(r,i),hn(i),d&512&&(kt||a===null||Hn(a,a.return)),d&64&&ci&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?d:a.concat(d))));break;case 26:var g=On;if(mn(r,i),hn(i),d&512&&(kt||a===null||Hn(a,a.return)),d&4){var v=a!==null?a.memoizedState:null;if(d=i.memoizedState,a===null)if(d===null)if(i.stateNode===null){e:{d=i.type,a=i.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Dr]||v[$t]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),Gt(v,d,a),v[$t]=i,Pt(v),d=v;break e;case"link":var b=Zp("link","href",g).get(d+(a.href||""));if(b){for(var A=0;A<b.length;A++)if(v=b[A],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(A,1);break t}}v=g.createElement(d),Gt(v,d,a),g.head.appendChild(v);break;case"meta":if(b=Zp("meta","content",g).get(d+(a.content||""))){for(A=0;A<b.length;A++)if(v=b[A],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(A,1);break t}}v=g.createElement(d),Gt(v,d,a),g.head.appendChild(v);break;default:throw Error(l(468,d))}v[$t]=i,Pt(v),d=v}i.stateNode=d}else Xp(g,i.type,i.stateNode);else i.stateNode=Kp(g,d,i.memoizedProps);else v!==d?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,d===null?Xp(g,i.type,i.stateNode):Kp(g,d,i.memoizedProps)):d===null&&i.stateNode!==null&&sc(i,i.memoizedProps,a.memoizedProps)}break;case 27:mn(r,i),hn(i),d&512&&(kt||a===null||Hn(a,a.return)),a!==null&&d&4&&sc(i,i.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,i),hn(i),d&512&&(kt||a===null||Hn(a,a.return)),i.flags&32){g=i.stateNode;try{Il(g,"")}catch(G){pt(i,i.return,G)}}d&4&&i.stateNode!=null&&(g=i.memoizedProps,sc(i,g,a!==null?a.memoizedProps:g)),d&1024&&(fc=!0);break;case 6:if(mn(r,i),hn(i),d&4){if(i.stateNode===null)throw Error(l(162));d=i.memoizedProps,a=i.stateNode;try{a.nodeValue=d}catch(G){pt(i,i.return,G)}}break;case 3:if(Ka=null,g=On,On=Ja(r.containerInfo),mn(r,i),On=g,hn(i),d&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(G){pt(i,i.return,G)}fc&&(fc=!1,np(i));break;case 4:d=On,On=Ja(i.stateNode.containerInfo),mn(r,i),hn(i),On=d;break;case 12:mn(r,i),hn(i);break;case 13:mn(r,i),hn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vc=Ht()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,dc(i,d)));break;case 22:g=i.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=ci,K=kt;if(ci=B||g,kt=K||w,mn(r,i),kt=K,ci=B,hn(i),d&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(a===null||w||ci||kt||dl(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){w=a=r;try{if(v=w.stateNode,g)b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=w.stateNode;var W=w.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){pt(w,w.return,G)}}}else if(r.tag===6){if(a===null){w=r;try{w.stateNode.nodeValue=g?"":w.memoizedProps}catch(G){pt(w,w.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=i.updateQueue,d!==null&&(a=d.retryQueue,a!==null&&(d.retryQueue=null,dc(i,a))));break;case 19:mn(r,i),hn(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,dc(i,d)));break;case 30:break;case 21:break;default:mn(r,i),hn(i)}}function hn(i){var r=i.flags;if(r&2){try{for(var a,d=i.return;d!==null;){if(Kh(d)){a=d;break}d=d.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var g=a.stateNode,v=uc(i);Ia(i,v,g);break;case 5:var b=a.stateNode;a.flags&32&&(Il(b,""),a.flags&=-33);var A=uc(i);Ia(i,A,b);break;case 3:case 4:var w=a.stateNode.containerInfo,B=uc(i);cc(i,B,w);break;default:throw Error(l(161))}}catch(K){pt(i,i.return,K)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function np(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;np(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ri(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Qh(i,r.alternate,r),r=r.sibling}function dl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ni(4,r,r.return),dl(r);break;case 1:Hn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Jh(r,r.return,a),dl(r);break;case 27:vo(r.stateNode);case 26:case 5:Hn(r,r.return),dl(r);break;case 22:r.memoizedState===null&&dl(r);break;case 30:dl(r);break;default:dl(r)}i=i.sibling}}function Di(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,g=i,v=r,b=v.flags;switch(v.tag){case 0:case 11:case 15:Di(g,v,a),ao(4,v);break;case 1:if(Di(g,v,a),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(B){pt(d,d.return,B)}if(d=v,g=d.updateQueue,g!==null){var A=d.stateNode;try{var w=g.shared.hiddenCallbacks;if(w!==null)for(g.shared.hiddenCallbacks=null,g=0;g<w.length;g++)Rm(w[g],A)}catch(B){pt(d,d.return,B)}}a&&b&64&&$h(v),so(v,v.return);break;case 27:Zh(v);case 26:case 5:Di(g,v,a),a&&d===null&&b&4&&Yh(v),so(v,v.return);break;case 12:Di(g,v,a);break;case 13:Di(g,v,a),a&&b&4&&ep(g,v);break;case 22:v.memoizedState===null&&Di(g,v,a),so(v,v.return);break;case 30:break;default:Di(g,v,a)}r=r.sibling}}function mc(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Yr(a))}function hc(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Yr(i))}function $n(i,r,a,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ip(i,r,a,d),r=r.sibling}function ip(i,r,a,d){var g=r.flags;switch(r.tag){case 0:case 11:case 15:$n(i,r,a,d),g&2048&&ao(9,r);break;case 1:$n(i,r,a,d);break;case 3:$n(i,r,a,d),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Yr(i)));break;case 12:if(g&2048){$n(i,r,a,d),i=r.stateNode;try{var v=r.memoizedProps,b=v.id,A=v.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(w){pt(r,r.return,w)}}else $n(i,r,a,d);break;case 13:$n(i,r,a,d);break;case 23:break;case 22:v=r.stateNode,b=r.alternate,r.memoizedState!==null?v._visibility&2?$n(i,r,a,d):uo(i,r):v._visibility&2?$n(i,r,a,d):(v._visibility|=2,Wl(i,r,a,d,(r.subtreeFlags&10256)!==0)),g&2048&&mc(b,r);break;case 24:$n(i,r,a,d),g&2048&&hc(r.alternate,r);break;default:$n(i,r,a,d)}}function Wl(i,r,a,d,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=i,b=r,A=a,w=d,B=b.flags;switch(b.tag){case 0:case 11:case 15:Wl(v,b,A,w,g),ao(8,b);break;case 23:break;case 22:var K=b.stateNode;b.memoizedState!==null?K._visibility&2?Wl(v,b,A,w,g):uo(v,b):(K._visibility|=2,Wl(v,b,A,w,g)),g&&B&2048&&mc(b.alternate,b);break;case 24:Wl(v,b,A,w,g),g&&B&2048&&hc(b.alternate,b);break;default:Wl(v,b,A,w,g)}r=r.sibling}}function uo(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,d=r,g=d.flags;switch(d.tag){case 22:uo(a,d),g&2048&&mc(d.alternate,d);break;case 24:uo(a,d),g&2048&&hc(d.alternate,d);break;default:uo(a,d)}r=r.sibling}}var co=8192;function jl(i){if(i.subtreeFlags&co)for(i=i.child;i!==null;)lp(i),i=i.sibling}function lp(i){switch(i.tag){case 26:jl(i),i.flags&co&&i.memoizedState!==null&&DT(On,i.memoizedState,i.memoizedProps);break;case 5:jl(i);break;case 3:case 4:var r=On;On=Ja(i.stateNode.containerInfo),jl(i),On=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=co,co=16777216,jl(i),co=r):jl(i));break;default:jl(i)}}function rp(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function fo(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var d=r[a];zt=d,ap(d,i)}rp(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)op(i),i=i.sibling}function op(i){switch(i.tag){case 0:case 11:case 15:fo(i),i.flags&2048&&Ni(9,i,i.return);break;case 3:fo(i);break;case 12:fo(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ua(i)):fo(i);break;default:fo(i)}}function Ua(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var d=r[a];zt=d,ap(d,i)}rp(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ni(8,r,r.return),Ua(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ua(r));break;default:Ua(r)}i=i.sibling}}function ap(i,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Ni(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var d=a.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Yr(a.memoizedState.cache)}if(d=a.child,d!==null)d.return=a,zt=d;else e:for(a=i;zt!==null;){d=zt;var g=d.sibling,v=d.return;if(Wh(d),d===a){zt=null;break e}if(g!==null){g.return=v,zt=g;break e}zt=v}}}var KC={getCacheForType:function(i){var r=Jt(It),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},ZC=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Je=null,et=0,at=0,pn=null,Ii=!1,er=!1,pc=!1,di=0,At=0,Ui=0,ml=0,gc=0,wn=0,tr=0,mo=null,an=null,yc=!1,vc=0,La=1/0,Pa=null,Li=null,Ft=0,Pi=null,nr=null,ir=0,xc=0,Cc=null,sp=null,ho=0,Tc=null;function gn(){if((ot&2)!==0&&et!==0)return et&-et;if(H.T!==null){var i=Hl;return i!==0?i:kc()}return _d()}function up(){wn===0&&(wn=(et&536870912)===0||rt?tn():536870912);var i=kn.current;return i!==null&&(i.flags|=32),wn}function yn(i,r,a){(i===vt&&(at===2||at===9)||i.cancelPendingCommit!==null)&&(lr(i,0),Oi(i,et,wn,!1)),ht(i,a),((ot&2)===0||i!==vt)&&(i===vt&&((ot&2)===0&&(ml|=a),At===4&&Oi(i,et,wn,!1)),Jn(i))}function cp(i,r,a){if((ot&6)!==0)throw Error(l(327));var d=!a&&(r&124)===0&&(r&i.expiredLanes)===0||Xe(i,r),g=d?WC(i,r):_c(i,r,!0),v=d;do{if(g===0){er&&!d&&Oi(i,r,0,!1);break}else{if(a=i.current.alternate,v&&!XC(a)){g=_c(i,r,!1),v=!1;continue}if(g===2){if(v=r,i.errorRecoveryDisabledLanes&v)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;g=mo;var w=A.current.memoizedState.isDehydrated;if(w&&(lr(A,b).flags|=256),b=_c(A,b,!1),b!==2){if(pc&&!w){A.errorRecoveryDisabledLanes|=v,ml|=v,g=4;break e}v=an,an=g,v!==null&&(an===null?an=v:an.push.apply(an,v))}g=b}if(v=!1,g!==2)continue}}if(g===1){lr(i,0),Oi(i,r,0,!0);break}e:{switch(d=i,v=g,v){case 0:case 1:throw Error(l(345));case 4:if((r&4194048)!==r)break;case 6:Oi(d,r,wn,!Ii);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(l(329))}if((r&62914560)===r&&(g=vc+300-Ht(),10<g)){if(Oi(d,r,wn,!Ii),he(d,0,!0)!==0)break e;d.timeoutHandle=Vp(fp.bind(null,d,a,an,Pa,yc,r,wn,ml,tr,Ii,v,2,-0,0),g);break e}fp(d,a,an,Pa,yc,r,wn,ml,tr,Ii,v,0,-0,0)}}break}while(!0);Jn(i)}function fp(i,r,a,d,g,v,b,A,w,B,K,W,F,G){if(i.timeoutHandle=-1,W=r.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(To={stylesheets:null,count:0,unsuspend:RT},lp(r),W=IT(),W!==null)){i.cancelPendingCommit=W(vp.bind(null,i,r,v,a,d,g,b,A,w,K,1,F,G)),Oi(i,v,b,!B);return}vp(i,r,v,a,d,g,b,A,w)}function XC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var d=0;d<a.length;d++){var g=a[d],v=g.getSnapshot;g=g.value;try{if(!fn(v(),g))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Oi(i,r,a,d){r&=~gc,r&=~ml,i.suspendedLanes|=r,i.pingedLanes&=~r,d&&(i.warmLanes|=r),d=i.expirationTimes;for(var g=r;0<g;){var v=31-se(g),b=1<<v;d[v]=-1,g&=~b}a!==0&&Bt(i,a,r)}function Oa(){return(ot&6)===0?(po(0),!1):!0}function Sc(){if(Je!==null){if(at===0)var i=Je.return;else i=Je,li=al=null,Vu(i),Xl=null,lo=0,i=Je;for(;i!==null;)Hh(i.alternate,i),i=i.return;Je=null}}function lr(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,hT(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Sc(),vt=i,Je=a=ti(i.current,null),et=r,at=0,pn=null,Ii=!1,er=Xe(i,r),pc=!1,tr=wn=gc=ml=Ui=At=0,an=mo=null,yc=!1,(r&8)!==0&&(r|=r&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=r;0<d;){var g=31-se(d),v=1<<g;r|=i[g],d&=~v}return di=r,ra(),a}function dp(i,r){Fe=null,H.H=_a,r===Zr||r===ha?(r=wm(),at=3):r===Em?(r=wm(),at=4):at=r===Nh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,Je===null&&(At=1,wa(i,_n(r,i.current)))}function mp(){var i=H.H;return H.H=_a,i===null?_a:i}function hp(){var i=H.A;return H.A=KC,i}function bc(){At=4,Ii||(et&4194048)!==et&&kn.current!==null||(er=!0),(Ui&134217727)===0&&(ml&134217727)===0||vt===null||Oi(vt,et,wn,!1)}function _c(i,r,a){var d=ot;ot|=2;var g=mp(),v=hp();(vt!==i||et!==r)&&(Pa=null,lr(i,r)),r=!1;var b=At;e:do try{if(at!==0&&Je!==null){var A=Je,w=pn;switch(at){case 8:Sc(),b=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var B=at;if(at=0,pn=null,rr(i,A,w,B),a&&er){b=0;break e}break;default:B=at,at=0,pn=null,rr(i,A,w,B)}}QC(),b=At;break}catch(K){dp(i,K)}while(!0);return r&&i.shellSuspendCounter++,li=al=null,ot=d,H.H=g,H.A=v,Je===null&&(vt=null,et=0,ra()),b}function QC(){for(;Je!==null;)pp(Je)}function WC(i,r){var a=ot;ot|=2;var d=mp(),g=hp();vt!==i||et!==r?(Pa=null,La=Ht()+500,lr(i,r)):er=Xe(i,r);e:do try{if(at!==0&&Je!==null){r=Je;var v=pn;t:switch(at){case 1:at=0,pn=null,rr(i,r,v,1);break;case 2:case 9:if(Mm(v)){at=0,pn=null,gp(r);break}r=function(){at!==2&&at!==9||vt!==i||(at=7),Jn(i)},v.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Mm(v)?(at=0,pn=null,gp(r)):(at=0,pn=null,rr(i,r,v,7));break;case 5:var b=null;switch(Je.tag){case 26:b=Je.memoizedState;case 5:case 27:var A=Je;if(!b||Qp(b)){at=0,pn=null;var w=A.sibling;if(w!==null)Je=w;else{var B=A.return;B!==null?(Je=B,za(B)):Je=null}break t}}at=0,pn=null,rr(i,r,v,5);break;case 6:at=0,pn=null,rr(i,r,v,6);break;case 8:Sc(),At=6;break e;default:throw Error(l(462))}}jC();break}catch(K){dp(i,K)}while(!0);return li=al=null,H.H=d,H.A=g,ot=a,Je!==null?0:(vt=null,et=0,ra(),At)}function jC(){for(;Je!==null&&!Xi();)pp(Je)}function pp(i){var r=Fh(i.alternate,i,di);i.memoizedProps=i.pendingProps,r===null?za(i):Je=r}function gp(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Ph(a,r,r.pendingProps,r.type,void 0,et);break;case 11:r=Ph(a,r,r.pendingProps,r.type.render,r.ref,et);break;case 5:Vu(r);default:Hh(a,r),r=Je=ym(r,di),r=Fh(a,r,di)}i.memoizedProps=i.pendingProps,r===null?za(i):Je=r}function rr(i,r,a,d){li=al=null,Vu(r),Xl=null,lo=0;var g=r.return;try{if(FC(i,g,r,a,et)){At=1,wa(i,_n(a,i.current)),Je=null;return}}catch(v){if(g!==null)throw Je=g,v;At=1,wa(i,_n(a,i.current)),Je=null;return}r.flags&32768?(rt||d===1?i=!0:er||(et&536870912)!==0?i=!1:(Ii=i=!0,(d===2||d===9||d===3||d===6)&&(d=kn.current,d!==null&&d.tag===13&&(d.flags|=16384))),yp(r,i)):za(r)}function za(i){var r=i;do{if((r.flags&32768)!==0){yp(r,Ii);return}i=r.return;var a=HC(r.alternate,r,di);if(a!==null){Je=a;return}if(r=r.sibling,r!==null){Je=r;return}Je=r=i}while(r!==null);At===0&&(At=5)}function yp(i,r){do{var a=$C(i.alternate,i);if(a!==null){a.flags&=32767,Je=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Je=i;return}Je=i=a}while(i!==null);At=6,Je=null}function vp(i,r,a,d,g,v,b,A,w){i.cancelPendingCommit=null;do Va();while(Ft!==0);if((ot&6)!==0)throw Error(l(327));if(r!==null){if(r===i.current)throw Error(l(177));if(v=r.lanes|r.childLanes,v|=hu,Ge(i,a,v,b,A,w),i===vt&&(Je=vt=null,et=0),nr=r,Pi=i,ir=a,xc=v,Cc=g,sp=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iT(Se,function(){return bp(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,g=ne.p,ne.p=2,b=ot,ot|=4;try{JC(i,r,a)}finally{ot=b,ne.p=g,H.T=d}}Ft=1,xp(),Cp(),Tp()}}function xp(){if(Ft===1){Ft=0;var i=Pi,r=nr,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var d=ne.p;ne.p=2;var g=ot;ot|=4;try{tp(r,i);var v=Pc,b=am(i.containerInfo),A=v.focusedElem,w=v.selectionRange;if(b!==A&&A&&A.ownerDocument&&om(A.ownerDocument.documentElement,A)){if(w!==null&&uu(A)){var B=w.start,K=w.end;if(K===void 0&&(K=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min(K,A.value.length);else{var W=A.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var G=F.getSelection(),Ie=A.textContent.length,Re=Math.min(w.start,Ie),dt=w.end===void 0?Re:Math.min(w.end,Ie);!G.extend&&Re>dt&&(b=dt,dt=Re,Re=b);var U=rm(A,Re),D=rm(A,dt);if(U&&D&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var V=W.createRange();V.setStart(U.node,U.offset),G.removeAllRanges(),Re>dt?(G.addRange(V),G.extend(D.node,D.offset)):(V.setEnd(D.node,D.offset),G.addRange(V))}}}}for(W=[],G=A;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var Z=W[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Qa=!!Lc,Pc=Lc=null}finally{ot=g,ne.p=d,H.T=a}}i.current=r,Ft=2}}function Cp(){if(Ft===2){Ft=0;var i=Pi,r=nr,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var d=ne.p;ne.p=2;var g=ot;ot|=4;try{Qh(i,r.alternate,r)}finally{ot=g,ne.p=d,H.T=a}}Ft=3}}function Tp(){if(Ft===4||Ft===3){Ft=0,Qi();var i=Pi,r=nr,a=ir,d=sp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,nr=Pi=null,Sp(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Li=null),Fs(a),r=r.stateNode,Y&&typeof Y.onCommitFiberRoot=="function")try{Y.onCommitFiberRoot(q,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=H.T,g=ne.p,ne.p=2,H.T=null;try{for(var v=i.onRecoverableError,b=0;b<d.length;b++){var A=d[b];v(A.value,{componentStack:A.stack})}}finally{H.T=r,ne.p=g}}(ir&3)!==0&&Va(),Jn(i),g=i.pendingLanes,(a&4194090)!==0&&(g&42)!==0?i===Tc?ho++:(ho=0,Tc=i):ho=0,po(0)}}function Sp(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Yr(r)))}function Va(i){return xp(),Cp(),Tp(),bp()}function bp(){if(Ft!==5)return!1;var i=Pi,r=xc;xc=0;var a=Fs(ir),d=H.T,g=ne.p;try{ne.p=32>a?32:a,H.T=null,a=Cc,Cc=null;var v=Pi,b=ir;if(Ft=0,nr=Pi=null,ir=0,(ot&6)!==0)throw Error(l(331));var A=ot;if(ot|=4,op(v.current),ip(v,v.current,b,a),ot=A,po(0,!1),Y&&typeof Y.onPostCommitFiberRoot=="function")try{Y.onPostCommitFiberRoot(q,v)}catch{}return!0}finally{ne.p=g,H.T=d,Sp(i,r)}}function _p(i,r,a){r=_n(a,r),r=ju(i.stateNode,r,2),i=Ei(i,r,2),i!==null&&(ht(i,2),Jn(i))}function pt(i,r,a){if(i.tag===3)_p(i,i,a);else for(;r!==null;){if(r.tag===3){_p(r,i,a);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Li===null||!Li.has(d))){i=_n(a,i),a=kh(2),d=Ei(r,a,2),d!==null&&(wh(a,d,r,i),ht(d,2),Jn(d));break}}r=r.return}}function Ac(i,r,a){var d=i.pingCache;if(d===null){d=i.pingCache=new ZC;var g=new Set;d.set(r,g)}else g=d.get(r),g===void 0&&(g=new Set,d.set(r,g));g.has(a)||(pc=!0,g.add(a),i=eT.bind(null,i,r,a),r.then(i,i))}function eT(i,r,a){var d=i.pingCache;d!==null&&d.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,vt===i&&(et&a)===a&&(At===4||At===3&&(et&62914560)===et&&300>Ht()-vc?(ot&2)===0&&lr(i,0):gc|=a,tr===et&&(tr=0)),Jn(i)}function Ap(i,r){r===0&&(r=Tn()),i=Bl(i,r),i!==null&&(ht(i,r),Jn(i))}function tT(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),Ap(i,a)}function nT(i,r){var a=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(l(314))}d!==null&&d.delete(r),Ap(i,a)}function iT(i,r){return xi(i,r)}var Ba=null,or=null,Ec=!1,qa=!1,Mc=!1,hl=0;function Jn(i){i!==or&&i.next===null&&(or===null?Ba=or=i:or=or.next=i),qa=!0,Ec||(Ec=!0,rT())}function po(i,r){if(!Mc&&qa){Mc=!0;do for(var a=!1,d=Ba;d!==null;){if(i!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var b=d.suspendedLanes,A=d.pingedLanes;v=(1<<31-se(42|i)+1)-1,v&=g&~(b&~A),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,wp(d,v))}else v=et,v=he(d,d===vt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Xe(d,v)||(a=!0,wp(d,v));d=d.next}while(a);Mc=!1}}function lT(){Ep()}function Ep(){qa=Ec=!1;var i=0;hl!==0&&(mT()&&(i=hl),hl=0);for(var r=Ht(),a=null,d=Ba;d!==null;){var g=d.next,v=Mp(d,r);v===0?(d.next=null,a===null?Ba=g:a.next=g,g===null&&(or=a)):(a=d,(i!==0||(v&3)!==0)&&(qa=!0)),d=g}po(i)}function Mp(i,r){for(var a=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var b=31-se(v),A=1<<b,w=g[b];w===-1?((A&a)===0||(A&d)!==0)&&(g[b]=$e(A,r)):w<=r&&(i.expiredLanes|=A),v&=~A}if(r=vt,a=et,a=he(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,a===0||i===r&&(at===2||at===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Ci(d),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Xe(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(d!==null&&Ci(d),Fs(a)){case 2:case 8:a=Q;break;case 32:a=Se;break;case 268435456:a=ke;break;default:a=Se}return d=kp.bind(null,i),a=xi(a,d),i.callbackPriority=r,i.callbackNode=a,r}return d!==null&&d!==null&&Ci(d),i.callbackPriority=2,i.callbackNode=null,2}function kp(i,r){if(Ft!==0&&Ft!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Va()&&i.callbackNode!==a)return null;var d=et;return d=he(i,i===vt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(cp(i,d,r),Mp(i,Ht()),i.callbackNode!=null&&i.callbackNode===a?kp.bind(null,i):null)}function wp(i,r){if(Va())return null;cp(i,r,!0)}function rT(){pT(function(){(ot&6)!==0?xi(O,lT):Ep()})}function kc(){return hl===0&&(hl=tn()),hl}function Np(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wo(""+i)}function Rp(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function oT(i,r,a,d,g){if(r==="submit"&&a&&a.stateNode===g){var v=Np((g[nn]||null).action),b=d.submitter;b&&(r=(r=b[nn]||null)?Np(r.formAction):b.getAttribute("formAction"),r!==null&&(v=r,b=null));var A=new na("action","action",null,d,g);i.push({event:A,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(hl!==0){var w=b?Rp(g,b):new FormData(g);Ku(a,{pending:!0,data:w,method:g.method,action:v},null,w)}}else typeof v=="function"&&(A.preventDefault(),w=b?Rp(g,b):new FormData(g),Ku(a,{pending:!0,data:w,method:g.method,action:v},v,w))},currentTarget:g}]})}}for(var wc=0;wc<mu.length;wc++){var Nc=mu[wc],aT=Nc.toLowerCase(),sT=Nc[0].toUpperCase()+Nc.slice(1);Pn(aT,"on"+sT)}Pn(cm,"onAnimationEnd"),Pn(fm,"onAnimationIteration"),Pn(dm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(AC,"onTransitionRun"),Pn(EC,"onTransitionStart"),Pn(MC,"onTransitionCancel"),Pn(mm,"onTransitionEnd"),Nl("onMouseEnter",["mouseout","mouseover"]),Nl("onMouseLeave",["mouseout","mouseover"]),Nl("onPointerEnter",["pointerout","pointerover"]),Nl("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function Dp(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var d=i[a],g=d.event;d=d.listeners;e:{var v=void 0;if(r)for(var b=d.length-1;0<=b;b--){var A=d[b],w=A.instance,B=A.currentTarget;if(A=A.listener,w!==v&&g.isPropagationStopped())break e;v=A,g.currentTarget=B;try{v(g)}catch(K){ka(K)}g.currentTarget=null,v=w}else for(b=0;b<d.length;b++){if(A=d[b],w=A.instance,B=A.currentTarget,A=A.listener,w!==v&&g.isPropagationStopped())break e;v=A,g.currentTarget=B;try{v(g)}catch(K){ka(K)}g.currentTarget=null,v=w}}}}function Ye(i,r){var a=r[Gs];a===void 0&&(a=r[Gs]=new Set);var d=i+"__bubble";a.has(d)||(Ip(r,i,2,!1),a.add(d))}function Rc(i,r,a){var d=0;r&&(d|=4),Ip(a,i,d,r)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function Dc(i){if(!i[Fa]){i[Fa]=!0,Ed.forEach(function(a){a!=="selectionchange"&&(uT.has(a)||Rc(a,!1,i),Rc(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Fa]||(r[Fa]=!0,Rc("selectionchange",!1,r))}}function Ip(i,r,a,d){switch(ig(r)){case 2:var g=PT;break;case 8:g=OT;break;default:g=Jc}a=g.bind(null,r,a,i),g=void 0,!eu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(r,a,{capture:!0,passive:g}):i.addEventListener(r,a,!0):g!==void 0?i.addEventListener(r,a,{passive:g}):i.addEventListener(r,a,!1)}function Ic(i,r,a,d,g){var v=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var A=d.stateNode.containerInfo;if(A===g)break;if(b===4)for(b=d.return;b!==null;){var w=b.tag;if((w===3||w===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;A!==null;){if(b=Ml(A),b===null)return;if(w=b.tag,w===5||w===6||w===26||w===27){d=v=b;continue e}A=A.parentNode}}d=d.return}Bd(function(){var B=v,K=Ws(a),W=[];e:{var F=hm.get(i);if(F!==void 0){var G=na,Ie=i;switch(i){case"keypress":if(ea(a)===0)break e;case"keydown":case"keyup":G=iC;break;case"focusin":Ie="focus",G=lu;break;case"focusout":Ie="blur",G=lu;break;case"beforeblur":case"afterblur":G=lu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=$x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=oC;break;case cm:case fm:case dm:G=Kx;break;case mm:G=sC;break;case"scroll":case"scrollend":G=Gx;break;case"wheel":G=cC;break;case"copy":case"cut":case"paste":G=Xx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=$d;break;case"toggle":case"beforetoggle":G=dC}var Re=(r&4)!==0,dt=!Re&&(i==="scroll"||i==="scrollend"),U=Re?F!==null?F+"Capture":null:F;Re=[];for(var D=B,V;D!==null;){var Z=D;if(V=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||V===null||U===null||(Z=Ur(D,U),Z!=null&&Re.push(yo(D,Z,V))),dt)break;D=D.return}0<Re.length&&(F=new G(F,Ie,null,a,K),W.push({event:F,listeners:Re}))}}if((r&7)===0){e:{if(F=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",F&&a!==Qs&&(Ie=a.relatedTarget||a.fromElement)&&(Ml(Ie)||Ie[El]))break e;if((G||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Ie=a.relatedTarget||a.toElement,G=B,Ie=Ie?Ml(Ie):null,Ie!==null&&(dt=s(Ie),Re=Ie.tag,Ie!==dt||Re!==5&&Re!==27&&Re!==6)&&(Ie=null)):(G=null,Ie=B),G!==Ie)){if(Re=Gd,Z="onMouseLeave",U="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(Re=$d,Z="onPointerLeave",U="onPointerEnter",D="pointer"),dt=G==null?F:Ir(G),V=Ie==null?F:Ir(Ie),F=new Re(Z,D+"leave",G,a,K),F.target=dt,F.relatedTarget=V,Z=null,Ml(K)===B&&(Re=new Re(U,D+"enter",Ie,a,K),Re.target=V,Re.relatedTarget=dt,Z=Re),dt=Z,G&&Ie)t:{for(Re=G,U=Ie,D=0,V=Re;V;V=ar(V))D++;for(V=0,Z=U;Z;Z=ar(Z))V++;for(;0<D-V;)Re=ar(Re),D--;for(;0<V-D;)U=ar(U),V--;for(;D--;){if(Re===U||U!==null&&Re===U.alternate)break t;Re=ar(Re),U=ar(U)}Re=null}else Re=null;G!==null&&Up(W,F,G,Re,!1),Ie!==null&&dt!==null&&Up(W,dt,Ie,Re,!0)}}e:{if(F=B?Ir(B):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var ve=jd;else if(Qd(F))if(em)ve=SC;else{ve=CC;var He=xC}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Xs(B.elementType)&&(ve=jd):ve=TC;if(ve&&(ve=ve(i,B))){Wd(W,ve,a,K);break e}He&&He(i,F,B),i==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Zs(F,"number",F.value)}switch(He=B?Ir(B):window,i){case"focusin":(Qd(He)||He.contentEditable==="true")&&(Ol=He,cu=B,Fr=null);break;case"focusout":Fr=cu=Ol=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,sm(W,a,K);break;case"selectionchange":if(_C)break;case"keydown":case"keyup":sm(W,a,K)}var Me;if(ou)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Pl?Zd(i,a)&&(De="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(Jd&&a.locale!=="ko"&&(Pl||De!=="onCompositionStart"?De==="onCompositionEnd"&&Pl&&(Me=qd()):(Si=K,tu="value"in Si?Si.value:Si.textContent,Pl=!0)),He=Ga(B,De),0<He.length&&(De=new Hd(De,i,null,a,K),W.push({event:De,listeners:He}),Me?De.data=Me:(Me=Xd(a),Me!==null&&(De.data=Me)))),(Me=hC?pC(i,a):gC(i,a))&&(De=Ga(B,"onBeforeInput"),0<De.length&&(He=new Hd("onBeforeInput","beforeinput",null,a,K),W.push({event:He,listeners:De}),He.data=Me)),oT(W,i,B,a,K)}Dp(W,r)})}function yo(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Ga(i,r){for(var a=r+"Capture",d=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ur(i,a),g!=null&&d.unshift(yo(i,g,v)),g=Ur(i,r),g!=null&&d.push(yo(i,g,v))),i.tag===3)return d;i=i.return}return[]}function ar(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Up(i,r,a,d,g){for(var v=r._reactName,b=[];a!==null&&a!==d;){var A=a,w=A.alternate,B=A.stateNode;if(A=A.tag,w!==null&&w===d)break;A!==5&&A!==26&&A!==27||B===null||(w=B,g?(B=Ur(a,v),B!=null&&b.unshift(yo(a,B,w))):g||(B=Ur(a,v),B!=null&&b.push(yo(a,B,w)))),a=a.return}b.length!==0&&i.push({event:r,listeners:b})}var cT=/\r\n?/g,fT=/\u0000|\uFFFD/g;function Lp(i){return(typeof i=="string"?i:""+i).replace(cT,`
`).replace(fT,"")}function Pp(i,r){return r=Lp(r),Lp(i)===r}function Ha(){}function ft(i,r,a,d,g,v){switch(a){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Il(i,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Il(i,""+d);break;case"className":Zo(i,"class",d);break;case"tabIndex":Zo(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Zo(i,a,d);break;case"style":zd(i,d,v);break;case"data":if(r!=="object"){Zo(i,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(a);break}d=Wo(""+d),i.setAttribute(a,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(r!=="input"&&ft(i,r,"name",g.name,g,null),ft(i,r,"formEncType",g.formEncType,g,null),ft(i,r,"formMethod",g.formMethod,g,null),ft(i,r,"formTarget",g.formTarget,g,null)):(ft(i,r,"encType",g.encType,g,null),ft(i,r,"method",g.method,g,null),ft(i,r,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(a);break}d=Wo(""+d),i.setAttribute(a,d);break;case"onClick":d!=null&&(i.onclick=Ha);break;case"onScroll":d!=null&&Ye("scroll",i);break;case"onScrollEnd":d!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(l(61));if(a=d.__html,a!=null){if(g.children!=null)throw Error(l(60));i.innerHTML=a}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}a=Wo(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(a,""+d):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":d===!0?i.setAttribute(a,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(a,d):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(a,d):i.removeAttribute(a);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(a):i.setAttribute(a,d);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),Ko(i,"popover",d);break;case"xlinkActuate":jn(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":jn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":jn(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":jn(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":jn(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":jn(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":jn(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":jn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":jn(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ko(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qx.get(a)||a,Ko(i,a,d))}}function Uc(i,r,a,d,g,v){switch(a){case"style":zd(i,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(l(61));if(a=d.__html,a!=null){if(g.children!=null)throw Error(l(60));i.innerHTML=a}}break;case"children":typeof d=="string"?Il(i,d):(typeof d=="number"||typeof d=="bigint")&&Il(i,""+d);break;case"onScroll":d!=null&&Ye("scroll",i);break;case"onScrollEnd":d!=null&&Ye("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Ha);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Md.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),r=a.slice(2,g?a.length-7:void 0),v=i[nn]||null,v=v!=null?v[a]:null,typeof v=="function"&&i.removeEventListener(r,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,d,g);break e}a in i?i[a]=d:d===!0?i.setAttribute(a,""):Ko(i,a,d)}}}function Gt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var d=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var b=a[v];if(b!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:ft(i,r,v,b,a,null)}}g&&ft(i,r,"srcSet",a.srcSet,a,null),d&&ft(i,r,"src",a.src,a,null);return;case"input":Ye("invalid",i);var A=v=b=g=null,w=null,B=null;for(d in a)if(a.hasOwnProperty(d)){var K=a[d];if(K!=null)switch(d){case"name":g=K;break;case"type":b=K;break;case"checked":w=K;break;case"defaultChecked":B=K;break;case"value":v=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,r));break;default:ft(i,r,d,K,a,null)}}Ud(i,v,A,w,B,b,g,!1),Xo(i);return;case"select":Ye("invalid",i),d=b=v=null;for(g in a)if(a.hasOwnProperty(g)&&(A=a[g],A!=null))switch(g){case"value":v=A;break;case"defaultValue":b=A;break;case"multiple":d=A;default:ft(i,r,g,A,a,null)}r=v,a=b,i.multiple=!!d,r!=null?Dl(i,!!d,r,!1):a!=null&&Dl(i,!!d,a,!0);return;case"textarea":Ye("invalid",i),v=g=d=null;for(b in a)if(a.hasOwnProperty(b)&&(A=a[b],A!=null))switch(b){case"value":d=A;break;case"defaultValue":g=A;break;case"children":v=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(91));break;default:ft(i,r,b,A,a,null)}Pd(i,d,g,v),Xo(i);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(d=a[w],d!=null))switch(w){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ft(i,r,w,d,a,null)}return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(d=0;d<go.length;d++)Ye(go[d],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(d=a[B],d!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:ft(i,r,B,d,a,null)}return;default:if(Xs(r)){for(K in a)a.hasOwnProperty(K)&&(d=a[K],d!==void 0&&Uc(i,r,K,d,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(d=a[A],d!=null&&ft(i,r,A,d,a,null))}function dT(i,r,a,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,b=null,A=null,w=null,B=null,K=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":w=W;default:d.hasOwnProperty(G)||ft(i,r,G,null,d,W)}}for(var F in d){var G=d[F];if(W=a[F],d.hasOwnProperty(F)&&(G!=null||W!=null))switch(F){case"type":v=G;break;case"name":g=G;break;case"checked":B=G;break;case"defaultChecked":K=G;break;case"value":b=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,r));break;default:G!==W&&ft(i,r,F,G,d,W)}}Ks(i,b,A,w,B,K,v,g);return;case"select":G=b=A=F=null;for(v in a)if(w=a[v],a.hasOwnProperty(v)&&w!=null)switch(v){case"value":break;case"multiple":G=w;default:d.hasOwnProperty(v)||ft(i,r,v,null,d,w)}for(g in d)if(v=d[g],w=a[g],d.hasOwnProperty(g)&&(v!=null||w!=null))switch(g){case"value":F=v;break;case"defaultValue":A=v;break;case"multiple":b=v;default:v!==w&&ft(i,r,g,v,d,w)}r=A,a=b,d=G,F!=null?Dl(i,!!a,F,!1):!!d!=!!a&&(r!=null?Dl(i,!!a,r,!0):Dl(i,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(A in a)if(g=a[A],a.hasOwnProperty(A)&&g!=null&&!d.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ft(i,r,A,null,d,g)}for(b in d)if(g=d[b],v=a[b],d.hasOwnProperty(b)&&(g!=null||v!=null))switch(b){case"value":F=g;break;case"defaultValue":G=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(l(91));break;default:g!==v&&ft(i,r,b,g,d,v)}Ld(i,F,G);return;case"option":for(var Ie in a)if(F=a[Ie],a.hasOwnProperty(Ie)&&F!=null&&!d.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:ft(i,r,Ie,null,d,F)}for(w in d)if(F=d[w],G=a[w],d.hasOwnProperty(w)&&F!==G&&(F!=null||G!=null))switch(w){case"selected":i.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ft(i,r,w,F,d,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)F=a[Re],a.hasOwnProperty(Re)&&F!=null&&!d.hasOwnProperty(Re)&&ft(i,r,Re,null,d,F);for(B in d)if(F=d[B],G=a[B],d.hasOwnProperty(B)&&F!==G&&(F!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(l(137,r));break;default:ft(i,r,B,F,d,G)}return;default:if(Xs(r)){for(var dt in a)F=a[dt],a.hasOwnProperty(dt)&&F!==void 0&&!d.hasOwnProperty(dt)&&Uc(i,r,dt,void 0,d,F);for(K in d)F=d[K],G=a[K],!d.hasOwnProperty(K)||F===G||F===void 0&&G===void 0||Uc(i,r,K,F,d,G);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!d.hasOwnProperty(U)&&ft(i,r,U,null,d,F);for(W in d)F=d[W],G=a[W],!d.hasOwnProperty(W)||F===G||F==null&&G==null||ft(i,r,W,F,d,G)}var Lc=null,Pc=null;function $a(i){return i.nodeType===9?i:i.ownerDocument}function Op(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zp(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Oc(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zc=null;function mT(){var i=window.event;return i&&i.type==="popstate"?i===zc?!1:(zc=i,!0):(zc=null,!1)}var Vp=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,pT=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(i){return Bp.resolve(null).then(i).catch(gT)}:Vp;function gT(i){setTimeout(function(){throw i})}function zi(i){return i==="head"}function qp(i,r){var a=r,d=0,g=0;do{var v=a.nextSibling;if(i.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"){if(0<d&&8>d){a=d;var b=i.ownerDocument;if(a&1&&vo(b.documentElement),a&2&&vo(b.body),a&4)for(a=b.head,vo(a),b=a.firstChild;b;){var A=b.nextSibling,w=b.nodeName;b[Dr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=A}}if(g===0){i.removeChild(v),Eo(r);return}g--}else a==="$"||a==="$?"||a==="$!"?g++:d=a.charCodeAt(0)-48;else d=0;a=v}while(a);Eo(r)}function Vc(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vc(a),Hs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function yT(i,r,a,d){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Dr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=zn(i.nextSibling),i===null)break}return null}function vT(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=zn(i.nextSibling),i===null))return null;return i}function Bc(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function xT(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var d=function(){r(),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function zn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var qc=null;function Fp(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function Gp(i,r,a){switch(r=$a(a),i){case"html":if(i=r.documentElement,!i)throw Error(l(452));return i;case"head":if(i=r.head,!i)throw Error(l(453));return i;case"body":if(i=r.body,!i)throw Error(l(454));return i;default:throw Error(l(451))}}function vo(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Hs(i)}var Nn=new Map,Hp=new Set;function Ja(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var mi=ne.d;ne.d={f:CT,r:TT,D:ST,C:bT,L:_T,m:AT,X:MT,S:ET,M:kT};function CT(){var i=mi.f(),r=Oa();return i||r}function TT(i){var r=kl(i);r!==null&&r.tag===5&&r.type==="form"?ch(r):mi.r(i)}var sr=typeof document>"u"?null:document;function $p(i,r,a){var d=sr;if(d&&typeof r=="string"&&r){var g=bn(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),Hp.has(g)||(Hp.add(g),i={rel:i,crossOrigin:a,href:r},d.querySelector(g)===null&&(r=d.createElement("link"),Gt(r,"link",i),Pt(r),d.head.appendChild(r)))}}function ST(i){mi.D(i),$p("dns-prefetch",i,null)}function bT(i,r){mi.C(i,r),$p("preconnect",i,r)}function _T(i,r,a){mi.L(i,r,a);var d=sr;if(d&&i&&r){var g='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+bn(a.imageSizes)+'"]')):g+='[href="'+bn(i)+'"]';var v=g;switch(r){case"style":v=ur(i);break;case"script":v=cr(i)}Nn.has(v)||(i=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Nn.set(v,i),d.querySelector(g)!==null||r==="style"&&d.querySelector(xo(v))||r==="script"&&d.querySelector(Co(v))||(r=d.createElement("link"),Gt(r,"link",i),Pt(r),d.head.appendChild(r)))}}function AT(i,r){mi.m(i,r);var a=sr;if(a&&i){var d=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+bn(d)+'"][href="'+bn(i)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=cr(i)}if(!Nn.has(v)&&(i=y({rel:"modulepreload",href:i},r),Nn.set(v,i),a.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Co(v)))return}d=a.createElement("link"),Gt(d,"link",i),Pt(d),a.head.appendChild(d)}}}function ET(i,r,a){mi.S(i,r,a);var d=sr;if(d&&i){var g=wl(d).hoistableStyles,v=ur(i);r=r||"default";var b=g.get(v);if(!b){var A={loading:0,preload:null};if(b=d.querySelector(xo(v)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Nn.get(v))&&Fc(i,a);var w=b=d.createElement("link");Pt(w),Gt(w,"link",i),w._p=new Promise(function(B,K){w.onload=B,w.onerror=K}),w.addEventListener("load",function(){A.loading|=1}),w.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ya(b,r,d)}b={type:"stylesheet",instance:b,count:1,state:A},g.set(v,b)}}}function MT(i,r){mi.X(i,r);var a=sr;if(a&&i){var d=wl(a).hoistableScripts,g=cr(i),v=d.get(g);v||(v=a.querySelector(Co(g)),v||(i=y({src:i,async:!0},r),(r=Nn.get(g))&&Gc(i,r),v=a.createElement("script"),Pt(v),Gt(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function kT(i,r){mi.M(i,r);var a=sr;if(a&&i){var d=wl(a).hoistableScripts,g=cr(i),v=d.get(g);v||(v=a.querySelector(Co(g)),v||(i=y({src:i,async:!0,type:"module"},r),(r=Nn.get(g))&&Gc(i,r),v=a.createElement("script"),Pt(v),Gt(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function Jp(i,r,a,d){var g=(g=ye.current)?Ja(g):null;if(!g)throw Error(l(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ur(a.href),a=wl(g).hoistableStyles,d=a.get(r),d||(d={type:"style",instance:null,count:0,state:null},a.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=ur(a.href);var v=wl(g).hoistableStyles,b=v.get(i);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,b),(v=g.querySelector(xo(i)))&&!v._p&&(b.instance=v,b.state.loading=5),Nn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(i,a),v||wT(g,i,a,b.state))),r&&d===null)throw Error(l(528,""));return b}if(r&&d!==null)throw Error(l(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=cr(a),a=wl(g).hoistableScripts,d=a.get(r),d||(d={type:"script",instance:null,count:0,state:null},a.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,i))}}function ur(i){return'href="'+bn(i)+'"'}function xo(i){return'link[rel="stylesheet"]['+i+"]"}function Yp(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function wT(i,r,a,d){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=i.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Gt(r,"link",a),Pt(r),i.head.appendChild(r))}function cr(i){return'[src="'+bn(i)+'"]'}function Co(i){return"script[async]"+i}function Kp(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var d=i.querySelector('style[data-href~="'+bn(a.href)+'"]');if(d)return r.instance=d,Pt(d),d;var g=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Pt(d),Gt(d,"style",g),Ya(d,a.precedence,i),r.instance=d;case"stylesheet":g=ur(a.href);var v=i.querySelector(xo(g));if(v)return r.state.loading|=4,r.instance=v,Pt(v),v;d=Yp(a),(g=Nn.get(g))&&Fc(d,g),v=(i.ownerDocument||i).createElement("link"),Pt(v);var b=v;return b._p=new Promise(function(A,w){b.onload=A,b.onerror=w}),Gt(v,"link",d),r.state.loading|=4,Ya(v,a.precedence,i),r.instance=v;case"script":return v=cr(a.src),(g=i.querySelector(Co(v)))?(r.instance=g,Pt(g),g):(d=a,(g=Nn.get(v))&&(d=y({},a),Gc(d,g)),i=i.ownerDocument||i,g=i.createElement("script"),Pt(g),Gt(g,"link",d),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(l(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Ya(d,a.precedence,i));return r.instance}function Ya(i,r,a){for(var d=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,b=0;b<d.length;b++){var A=d[b];if(A.dataset.precedence===r)v=A;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Fc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Gc(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ka=null;function Zp(i,r,a){if(Ka===null){var d=new Map,g=Ka=new Map;g.set(a,d)}else g=Ka,d=g.get(a),d||(d=new Map,g.set(a,d));if(d.has(i))return d;for(d.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var v=a[g];if(!(v[Dr]||v[$t]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var b=v.getAttribute(r)||"";b=i+b;var A=d.get(b);A?A.push(v):d.set(b,[v])}}return d}function Xp(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function NT(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qp(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var To=null;function RT(){}function DT(i,r,a){if(To===null)throw Error(l(475));var d=To;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=ur(a.href),v=i.querySelector(xo(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=Za.bind(d),i.then(d,d)),r.state.loading|=4,r.instance=v,Pt(v);return}v=i.ownerDocument||i,a=Yp(a),(g=Nn.get(g))&&Fc(a,g),v=v.createElement("link"),Pt(v);var b=v;b._p=new Promise(function(A,w){b.onload=A,b.onerror=w}),Gt(v,"link",a),r.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=Za.bind(d),i.addEventListener("load",r),i.addEventListener("error",r))}}function IT(){if(To===null)throw Error(l(475));var i=To;return i.stylesheets&&i.count===0&&Hc(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&Hc(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Za(){if(this.count--,this.count===0){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xa=null;function Hc(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xa=new Map,r.forEach(UT,i),Xa=null,Za.call(i))}function UT(i,r){if(!(r.state.loading&4)){var a=Xa.get(i);if(a)var d=a.get(null);else{a=new Map,Xa.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var b=g[v];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),d=b)}d&&a.set(null,d)}g=r.instance,b=g.getAttribute("data-precedence"),v=a.get(b)||d,v===d&&a.set(null,g),a.set(b,g),this.count++,d=Za.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var So={$$typeof:L,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function LT(i,r,a,d,g,v,b,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.hiddenUpdates=Et(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Wp(i,r,a,d,g,v,b,A,w,B,K,W){return i=new LT(i,r,a,b,A,w,B,W),r=1,v===!0&&(r|=24),v=dn(3,null,null,r),i.current=v,v.stateNode=i,r=Au(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:d,isDehydrated:a,cache:r},wu(v),i}function jp(i){return i?(i=ql,i):ql}function eg(i,r,a,d,g,v){g=jp(g),d.context===null?d.context=g:d.pendingContext=g,d=Ai(r),d.payload={element:a},v=v===void 0?null:v,v!==null&&(d.callback=v),a=Ei(i,d,r),a!==null&&(yn(a,i,r),Qr(a,i,r))}function tg(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function $c(i,r){tg(i,r),(i=i.alternate)&&tg(i,r)}function ng(i){if(i.tag===13){var r=Bl(i,67108864);r!==null&&yn(r,i,67108864),$c(i,67108864)}}var Qa=!0;function PT(i,r,a,d){var g=H.T;H.T=null;var v=ne.p;try{ne.p=2,Jc(i,r,a,d)}finally{ne.p=v,H.T=g}}function OT(i,r,a,d){var g=H.T;H.T=null;var v=ne.p;try{ne.p=8,Jc(i,r,a,d)}finally{ne.p=v,H.T=g}}function Jc(i,r,a,d){if(Qa){var g=Yc(d);if(g===null)Ic(i,r,d,Wa,a),lg(i,d);else if(VT(g,i,r,a,d))d.stopPropagation();else if(lg(i,d),r&4&&-1<zT.indexOf(i)){for(;g!==null;){var v=kl(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var b=yt(v.pendingLanes);if(b!==0){var A=v;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var w=1<<31-se(b);A.entanglements[1]|=w,b&=~w}Jn(v),(ot&6)===0&&(La=Ht()+500,po(0))}}break;case 13:A=Bl(v,2),A!==null&&yn(A,v,2),Oa(),$c(v,2)}if(v=Yc(d),v===null&&Ic(i,r,d,Wa,a),v===g)break;g=v}g!==null&&d.stopPropagation()}else Ic(i,r,d,null,a)}}function Yc(i){return i=Ws(i),Kc(i)}var Wa=null;function Kc(i){if(Wa=null,i=Ml(i),i!==null){var r=s(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Wa=i,null}function ig(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_l()){case O:return 2;case Q:return 8;case Se:case Te:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Zc=!1,Vi=null,Bi=null,qi=null,bo=new Map,_o=new Map,Fi=[],zT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(i,r){switch(i){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":bo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(r.pointerId)}}function Ao(i,r,a,d,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:a,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},r!==null&&(r=kl(r),r!==null&&ng(r)),i):(i.eventSystemFlags|=d,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function VT(i,r,a,d,g){switch(r){case"focusin":return Vi=Ao(Vi,i,r,a,d,g),!0;case"dragenter":return Bi=Ao(Bi,i,r,a,d,g),!0;case"mouseover":return qi=Ao(qi,i,r,a,d,g),!0;case"pointerover":var v=g.pointerId;return bo.set(v,Ao(bo.get(v)||null,i,r,a,d,g)),!0;case"gotpointercapture":return v=g.pointerId,_o.set(v,Ao(_o.get(v)||null,i,r,a,d,g)),!0}return!1}function rg(i){var r=Ml(i.target);if(r!==null){var a=s(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,Dx(i.priority,function(){if(a.tag===13){var d=gn();d=Al(d);var g=Bl(a,d);g!==null&&yn(g,a,d),$c(a,d)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ja(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Yc(i.nativeEvent);if(a===null){a=i.nativeEvent;var d=new a.constructor(a.type,a);Qs=d,a.target.dispatchEvent(d),Qs=null}else return r=kl(a),r!==null&&ng(r),i.blockedOn=a,!1;r.shift()}return!0}function og(i,r,a){ja(i)&&a.delete(r)}function BT(){Zc=!1,Vi!==null&&ja(Vi)&&(Vi=null),Bi!==null&&ja(Bi)&&(Bi=null),qi!==null&&ja(qi)&&(qi=null),bo.forEach(og),_o.forEach(og)}function es(i,r){i.blockedOn===r&&(i.blockedOn=null,Zc||(Zc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BT)))}var ts=null;function ag(i){ts!==i&&(ts=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ts===i&&(ts=null);for(var r=0;r<i.length;r+=3){var a=i[r],d=i[r+1],g=i[r+2];if(typeof d!="function"){if(Kc(d||a)===null)continue;break}var v=kl(a);v!==null&&(i.splice(r,3),r-=3,Ku(v,{pending:!0,data:g,method:a.method,action:d},d,g))}}))}function Eo(i){function r(w){return es(w,i)}Vi!==null&&es(Vi,i),Bi!==null&&es(Bi,i),qi!==null&&es(qi,i),bo.forEach(r),_o.forEach(r);for(var a=0;a<Fi.length;a++){var d=Fi[a];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Fi.length&&(a=Fi[0],a.blockedOn===null);)rg(a),a.blockedOn===null&&Fi.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(d=0;d<a.length;d+=3){var g=a[d],v=a[d+1],b=g[nn]||null;if(typeof v=="function")b||ag(a);else if(b){var A=null;if(v&&v.hasAttribute("formAction")){if(g=v,b=v[nn]||null)A=b.formAction;else if(Kc(g)!==null)continue}else A=b.action;typeof A=="function"?a[d+1]=A:(a.splice(d,3),d-=3),ag(a)}}}function Xc(i){this._internalRoot=i}ns.prototype.render=Xc.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(l(409));var a=r.current,d=gn();eg(a,d,i,r,null,null)},ns.prototype.unmount=Xc.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;eg(i.current,2,null,i,null,null),Oa(),r[El]=null}};function ns(i){this._internalRoot=i}ns.prototype.unstable_scheduleHydration=function(i){if(i){var r=_d();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Fi.length&&r!==0&&r<Fi[a].priority;a++);Fi.splice(a,0,i),a===0&&rg(i)}};var sg=e.version;if(sg!=="19.1.0")throw Error(l(527,sg,"19.1.0"));ne.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(l(188)):(i=Object.keys(i).join(","),Error(l(268,i)));return i=p(r),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var qT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{q=is.inject(qT),Y=is}catch{}}return ko.createRoot=function(i,r){if(!o(i))throw Error(l(299));var a=!1,d="",g=_h,v=Ah,b=Eh,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=Wp(i,1,!1,null,null,a,d,g,v,b,A,null),i[El]=r.current,Dc(i),new Xc(r)},ko.hydrateRoot=function(i,r,a){if(!o(i))throw Error(l(299));var d=!1,g="",v=_h,b=Ah,A=Eh,w=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=Wp(i,1,!0,r,a??null,d,g,v,b,A,w,B),r.context=jp(null),a=r.current,d=gn(),d=Al(d),g=Ai(d),g.callback=null,Ei(a,g,d),a=d,r.current.lanes=a,ht(r,a),Jn(r),i[El]=r.current,Dc(i),new ns(r)},ko.version="19.1.0",ko}var vg;function WT(){if(vg)return jc.exports;vg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jc.exports=QT(),jc.exports}var jT=WT();const eS=Ds(jT);var lt;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const s={};for(const c of o)s[c]=c;return s},t.getValidEnumValues=o=>{const s=t.objectKeys(o).filter(m=>typeof o[o[m]]!="number"),c={};for(const m of s)c[m]=o[m];return t.objectValues(c)},t.objectValues=o=>t.objectKeys(o).map(function(s){return o[s]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const s=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&s.push(c);return s},t.find=(o,s)=>{for(const c of o)if(s(c))return c},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function l(o,s=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(s)}t.joinValues=l,t.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(lt||(lt={}));var xg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(xg||(xg={}));const xe=lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ji=t=>{switch(typeof t){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(t)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(t)?xe.array:t===null?xe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?xe.promise:typeof Map<"u"&&t instanceof Map?xe.map:typeof Set<"u"&&t instanceof Set?xe.set:typeof Date<"u"&&t instanceof Date?xe.date:xe.object;default:return xe.unknown}},re=lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=l=>{this.issues=[...this.issues,l]},this.addIssues=(l=[])=>{this.issues=[...this.issues,...l]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},l={_errors:[]},o=s=>{for(const c of s.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)l._errors.push(n(c));else{let m=l,p=0;for(;p<c.path.length;){const h=c.path[p];p===c.path.length-1?(m[h]=m[h]||{_errors:[]},m[h]._errors.push(n(c))):m[h]=m[h]||{_errors:[]},m=m[h],p++}}};return o(this),l}static assert(e){if(!(e instanceof hi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},l=[];for(const o of this.issues)if(o.path.length>0){const s=o.path[0];n[s]=n[s]||[],n[s].push(e(o))}else l.push(e(o));return{formErrors:l,fieldErrors:n}}get formErrors(){return this.flatten()}}hi.create=t=>new hi(t);const _f=(t,e)=>{let n;switch(t.code){case re.invalid_type:t.received===xe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,lt.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:n=`Unrecognized key(s) in object: ${lt.joinValues(t.keys,", ")}`;break;case re.invalid_union:n="Invalid input";break;case re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${lt.joinValues(t.options)}`;break;case re.invalid_enum_value:n=`Invalid enum value. Expected ${lt.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:n="Invalid function arguments";break;case re.invalid_return_type:n="Invalid function return type";break;case re.invalid_date:n="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:lt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case re.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case re.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case re.custom:n="Invalid input";break;case re.invalid_intersection_types:n="Intersection results could not be merged";break;case re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:n="Number must be finite";break;default:n=e.defaultError,lt.assertNever(t)}return{message:n}};let tS=_f;function nS(){return tS}const iS=t=>{const{data:e,path:n,errorMaps:l,issueData:o}=t,s=[...n,...o.path||[]],c={...o,path:s};if(o.message!==void 0)return{...o,path:s,message:o.message};let m="";const p=l.filter(h=>!!h).slice().reverse();for(const h of p)m=h(c,{data:e,defaultError:m}).message;return{...o,path:s,message:m}};function de(t,e){const n=nS(),l=iS({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===_f?void 0:_f].filter(o=>!!o)});t.common.issues.push(l)}class en{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const l=[];for(const o of n){if(o.status==="aborted")return Le;o.status==="dirty"&&e.dirty(),l.push(o.value)}return{status:e.value,value:l}}static async mergeObjectAsync(e,n){const l=[];for(const o of n){const s=await o.key,c=await o.value;l.push({key:s,value:c})}return en.mergeObjectSync(e,l)}static mergeObjectSync(e,n){const l={};for(const o of n){const{key:s,value:c}=o;if(s.status==="aborted"||c.status==="aborted")return Le;s.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(l[s.value]=c.value)}return{status:e.value,value:l}}}const Le=Object.freeze({status:"aborted"}),Uo=t=>({status:"dirty",value:t}),Un=t=>({status:"valid",value:t}),Cg=t=>t.status==="aborted",Tg=t=>t.status==="dirty",Cr=t=>t.status==="valid",xs=t=>typeof Promise<"u"&&t instanceof Promise;var _e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_e||(_e={}));class Qn{constructor(e,n,l,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=l,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Sg=(t,e)=>{if(Cr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new hi(t.common.issues);return this._error=n,this._error}}};function Be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:l,description:o}=t;if(e&&(n||l))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,m)=>{const{message:p}=t;return c.code==="invalid_enum_value"?{message:p??m.defaultError}:typeof m.data>"u"?{message:p??l??m.defaultError}:c.code!=="invalid_type"?{message:m.defaultError}:{message:p??n??m.defaultError}},description:o}}class je{get description(){return this._def.description}_getType(e){return Ji(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ji(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new en,ctx:{common:e.parent.common,data:e.data,parsedType:Ji(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(xs(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const l=this.safeParse(e,n);if(l.success)return l.data;throw l.error}safeParse(e,n){const l={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)},o=this._parseSync({data:e,path:l.path,parent:l});return Sg(l,o)}"~validate"(e){var l,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Cr(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(o=(l=s==null?void 0:s.message)==null?void 0:l.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Cr(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const l=await this.safeParseAsync(e,n);if(l.success)return l.data;throw l.error}async safeParseAsync(e,n){const l={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)},o=this._parse({data:e,path:l.path,parent:l}),s=await(xs(o)?o:Promise.resolve(o));return Sg(l,s)}refine(e,n){const l=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,s)=>{const c=e(o),m=()=>s.addIssue({code:re.custom,...l(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(m(),!1)):c?!0:(m(),!1)})}refinement(e,n){return this._refinement((l,o)=>e(l)?!0:(o.addIssue(typeof n=="function"?n(l,o):n),!1))}_refinement(e){return new br({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Yi.create(this,this._def)}nullable(){return _r.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xn.create(this)}promise(){return _s.create(this,this._def)}or(e){return Ts.create([this,e],this._def)}and(e){return Ss.create(this,e,this._def)}transform(e){return new br({...Be(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new kf({...Be(this._def),innerType:this,defaultValue:n,typeName:Ue.ZodDefault})}brand(){return new ES({typeName:Ue.ZodBranded,type:this,...Be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new wf({...Be(this._def),innerType:this,catchValue:n,typeName:Ue.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ed.create(this,e)}readonly(){return Nf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lS=/^c[^\s-]{8,}$/i,rS=/^[0-9a-z]+$/,oS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,aS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sS=/^[a-z0-9_-]{21}$/i,uS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lf;const mS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$v="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xS=new RegExp(`^${$v}$`);function Jv(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function CS(t){return new RegExp(`^${Jv(t)}$`)}function TS(t){let e=`${$v}T${Jv(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function SS(t,e){return!!((e==="v4"||!e)&&mS.test(t)||(e==="v6"||!e)&&pS.test(t))}function bS(t,e){if(!uS.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const l=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(l));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function _S(t,e){return!!((e==="v4"||!e)&&hS.test(t)||(e==="v6"||!e)&&gS.test(t))}class Kn extends je{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const s=this._getOrReturnCtx(e);return de(s,{code:re.invalid_type,expected:xe.string,received:s.parsedType}),Le}const l=new en;let o;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),l.dirty());else if(s.kind==="max")e.data.length>s.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),l.dirty());else if(s.kind==="length"){const c=e.data.length>s.value,m=e.data.length<s.value;(c||m)&&(o=this._getOrReturnCtx(e,o),c?de(o,{code:re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):m&&de(o,{code:re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),l.dirty())}else if(s.kind==="email")fS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"email",code:re.invalid_string,message:s.message}),l.dirty());else if(s.kind==="emoji")lf||(lf=new RegExp(dS,"u")),lf.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"emoji",code:re.invalid_string,message:s.message}),l.dirty());else if(s.kind==="uuid")aS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"uuid",code:re.invalid_string,message:s.message}),l.dirty());else if(s.kind==="nanoid")sS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"nanoid",code:re.invalid_string,message:s.message}),l.dirty());else if(s.kind==="cuid")lS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"cuid",code:re.invalid_string,message:s.message}),l.dirty());else if(s.kind==="cuid2")rS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"cuid2",code:re.invalid_string,message:s.message}),l.dirty());else if(s.kind==="ulid")oS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"ulid",code:re.invalid_string,message:s.message}),l.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),de(o,{validation:"url",code:re.invalid_string,message:s.message}),l.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"regex",code:re.invalid_string,message:s.message}),l.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(e,o),de(o,{code:re.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),l.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(o=this._getOrReturnCtx(e,o),de(o,{code:re.invalid_string,validation:{startsWith:s.value},message:s.message}),l.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(o=this._getOrReturnCtx(e,o),de(o,{code:re.invalid_string,validation:{endsWith:s.value},message:s.message}),l.dirty()):s.kind==="datetime"?TS(s).test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{code:re.invalid_string,validation:"datetime",message:s.message}),l.dirty()):s.kind==="date"?xS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{code:re.invalid_string,validation:"date",message:s.message}),l.dirty()):s.kind==="time"?CS(s).test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{code:re.invalid_string,validation:"time",message:s.message}),l.dirty()):s.kind==="duration"?cS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"duration",code:re.invalid_string,message:s.message}),l.dirty()):s.kind==="ip"?SS(e.data,s.version)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"ip",code:re.invalid_string,message:s.message}),l.dirty()):s.kind==="jwt"?bS(e.data,s.alg)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"jwt",code:re.invalid_string,message:s.message}),l.dirty()):s.kind==="cidr"?_S(e.data,s.version)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"cidr",code:re.invalid_string,message:s.message}),l.dirty()):s.kind==="base64"?yS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"base64",code:re.invalid_string,message:s.message}),l.dirty()):s.kind==="base64url"?vS.test(e.data)||(o=this._getOrReturnCtx(e,o),de(o,{validation:"base64url",code:re.invalid_string,message:s.message}),l.dirty()):lt.assertNever(s);return{status:l.value,value:e.data}}_regex(e,n,l){return this.refinement(o=>e.test(o),{validation:n,code:re.invalid_string,..._e.errToObj(l)})}_addCheck(e){return new Kn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._e.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._e.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._e.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._e.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._e.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._e.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._e.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._e.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._e.errToObj(n)})}nonempty(e){return this.min(1,_e.errToObj(e))}trim(){return new Kn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Kn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Kn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Kn.create=t=>new Kn({checks:[],typeName:Ue.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Be(t)});function AS(t,e){const n=(t.toString().split(".")[1]||"").length,l=(e.toString().split(".")[1]||"").length,o=n>l?n:l,s=Number.parseInt(t.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return s%c/10**o}class yl extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const s=this._getOrReturnCtx(e);return de(s,{code:re.invalid_type,expected:xe.number,received:s.parsedType}),Le}let l;const o=new en;for(const s of this._def.checks)s.kind==="int"?lt.isInteger(e.data)||(l=this._getOrReturnCtx(e,l),de(l,{code:re.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(l=this._getOrReturnCtx(e,l),de(l,{code:re.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(l=this._getOrReturnCtx(e,l),de(l,{code:re.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?AS(e.data,s.value)!==0&&(l=this._getOrReturnCtx(e,l),de(l,{code:re.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(l=this._getOrReturnCtx(e,l),de(l,{code:re.not_finite,message:s.message}),o.dirty()):lt.assertNever(s);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,l,o){return new yl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:l,message:_e.toString(o)}]})}_addCheck(e){return new yl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&lt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const l of this._def.checks){if(l.kind==="finite"||l.kind==="int"||l.kind==="multipleOf")return!0;l.kind==="min"?(n===null||l.value>n)&&(n=l.value):l.kind==="max"&&(e===null||l.value<e)&&(e=l.value)}return Number.isFinite(n)&&Number.isFinite(e)}}yl.create=t=>new yl({checks:[],typeName:Ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class vl extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xe.bigint)return this._getInvalidInput(e);let l;const o=new en;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(l=this._getOrReturnCtx(e,l),de(l,{code:re.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(l=this._getOrReturnCtx(e,l),de(l,{code:re.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(l=this._getOrReturnCtx(e,l),de(l,{code:re.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):lt.assertNever(s);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return de(n,{code:re.invalid_type,expected:xe.bigint,received:n.parsedType}),Le}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,l,o){return new vl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:l,message:_e.toString(o)}]})}_addCheck(e){return new vl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vl.create=t=>new vl({checks:[],typeName:Ue.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Be(t)});class Cs extends je{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const l=this._getOrReturnCtx(e);return de(l,{code:re.invalid_type,expected:xe.boolean,received:l.parsedType}),Le}return Un(e.data)}}Cs.create=t=>new Cs({typeName:Ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class Tr extends je{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const s=this._getOrReturnCtx(e);return de(s,{code:re.invalid_type,expected:xe.date,received:s.parsedType}),Le}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return de(s,{code:re.invalid_date}),Le}const l=new en;let o;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:re.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),l.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(o=this._getOrReturnCtx(e,o),de(o,{code:re.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),l.dirty()):lt.assertNever(s);return{status:l.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Tr({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_e.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_e.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Tr.create=t=>new Tr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ue.ZodDate,...Be(t)});class bg extends je{_parse(e){if(this._getType(e)!==xe.symbol){const l=this._getOrReturnCtx(e);return de(l,{code:re.invalid_type,expected:xe.symbol,received:l.parsedType}),Le}return Un(e.data)}}bg.create=t=>new bg({typeName:Ue.ZodSymbol,...Be(t)});class _g extends je{_parse(e){if(this._getType(e)!==xe.undefined){const l=this._getOrReturnCtx(e);return de(l,{code:re.invalid_type,expected:xe.undefined,received:l.parsedType}),Le}return Un(e.data)}}_g.create=t=>new _g({typeName:Ue.ZodUndefined,...Be(t)});class Ag extends je{_parse(e){if(this._getType(e)!==xe.null){const l=this._getOrReturnCtx(e);return de(l,{code:re.invalid_type,expected:xe.null,received:l.parsedType}),Le}return Un(e.data)}}Ag.create=t=>new Ag({typeName:Ue.ZodNull,...Be(t)});class Eg extends je{constructor(){super(...arguments),this._any=!0}_parse(e){return Un(e.data)}}Eg.create=t=>new Eg({typeName:Ue.ZodAny,...Be(t)});class Af extends je{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Un(e.data)}}Af.create=t=>new Af({typeName:Ue.ZodUnknown,...Be(t)});class Ki extends je{_parse(e){const n=this._getOrReturnCtx(e);return de(n,{code:re.invalid_type,expected:xe.never,received:n.parsedType}),Le}}Ki.create=t=>new Ki({typeName:Ue.ZodNever,...Be(t)});class Mg extends je{_parse(e){if(this._getType(e)!==xe.undefined){const l=this._getOrReturnCtx(e);return de(l,{code:re.invalid_type,expected:xe.void,received:l.parsedType}),Le}return Un(e.data)}}Mg.create=t=>new Mg({typeName:Ue.ZodVoid,...Be(t)});class Xn extends je{_parse(e){const{ctx:n,status:l}=this._processInputParams(e),o=this._def;if(n.parsedType!==xe.array)return de(n,{code:re.invalid_type,expected:xe.array,received:n.parsedType}),Le;if(o.exactLength!==null){const c=n.data.length>o.exactLength.value,m=n.data.length<o.exactLength.value;(c||m)&&(de(n,{code:c?re.too_big:re.too_small,minimum:m?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),l.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(de(n,{code:re.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),l.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(de(n,{code:re.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),l.dirty()),n.common.async)return Promise.all([...n.data].map((c,m)=>o.type._parseAsync(new Qn(n,c,n.path,m)))).then(c=>en.mergeArray(l,c));const s=[...n.data].map((c,m)=>o.type._parseSync(new Qn(n,c,n.path,m)));return en.mergeArray(l,s)}get element(){return this._def.type}min(e,n){return new Xn({...this._def,minLength:{value:e,message:_e.toString(n)}})}max(e,n){return new Xn({...this._def,maxLength:{value:e,message:_e.toString(n)}})}length(e,n){return new Xn({...this._def,exactLength:{value:e,message:_e.toString(n)}})}nonempty(e){return this.min(1,e)}}Xn.create=(t,e)=>new Xn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...Be(e)});function hr(t){if(t instanceof Dt){const e={};for(const n in t.shape){const l=t.shape[n];e[n]=Yi.create(hr(l))}return new Dt({...t._def,shape:()=>e})}else return t instanceof Xn?new Xn({...t._def,type:hr(t.element)}):t instanceof Yi?Yi.create(hr(t.unwrap())):t instanceof _r?_r.create(hr(t.unwrap())):t instanceof xl?xl.create(t.items.map(e=>hr(e))):t}class Dt extends je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=lt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==xe.object){const h=this._getOrReturnCtx(e);return de(h,{code:re.invalid_type,expected:xe.object,received:h.parsedType}),Le}const{status:l,ctx:o}=this._processInputParams(e),{shape:s,keys:c}=this._getCached(),m=[];if(!(this._def.catchall instanceof Ki&&this._def.unknownKeys==="strip"))for(const h in o.data)c.includes(h)||m.push(h);const p=[];for(const h of c){const y=s[h],x=o.data[h];p.push({key:{status:"valid",value:h},value:y._parse(new Qn(o,x,o.path,h)),alwaysSet:h in o.data})}if(this._def.catchall instanceof Ki){const h=this._def.unknownKeys;if(h==="passthrough")for(const y of m)p.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(h==="strict")m.length>0&&(de(o,{code:re.unrecognized_keys,keys:m}),l.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const y of m){const x=o.data[y];p.push({key:{status:"valid",value:y},value:h._parse(new Qn(o,x,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const h=[];for(const y of p){const x=await y.key,C=await y.value;h.push({key:x,value:C,alwaysSet:y.alwaysSet})}return h}).then(h=>en.mergeObjectSync(l,h)):en.mergeObjectSync(l,p)}get shape(){return this._def.shape()}strict(e){return _e.errToObj,new Dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,l)=>{var s,c;const o=((c=(s=this._def).errorMap)==null?void 0:c.call(s,n,l).message)??l.defaultError;return n.code==="unrecognized_keys"?{message:_e.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Dt({...this._def,unknownKeys:"strip"})}passthrough(){return new Dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ue.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Dt({...this._def,catchall:e})}pick(e){const n={};for(const l of lt.objectKeys(e))e[l]&&this.shape[l]&&(n[l]=this.shape[l]);return new Dt({...this._def,shape:()=>n})}omit(e){const n={};for(const l of lt.objectKeys(this.shape))e[l]||(n[l]=this.shape[l]);return new Dt({...this._def,shape:()=>n})}deepPartial(){return hr(this)}partial(e){const n={};for(const l of lt.objectKeys(this.shape)){const o=this.shape[l];e&&!e[l]?n[l]=o:n[l]=o.optional()}return new Dt({...this._def,shape:()=>n})}required(e){const n={};for(const l of lt.objectKeys(this.shape))if(e&&!e[l])n[l]=this.shape[l];else{let s=this.shape[l];for(;s instanceof Yi;)s=s._def.innerType;n[l]=s}return new Dt({...this._def,shape:()=>n})}keyof(){return Yv(lt.objectKeys(this.shape))}}Dt.create=(t,e)=>new Dt({shape:()=>t,unknownKeys:"strip",catchall:Ki.create(),typeName:Ue.ZodObject,...Be(e)});Dt.strictCreate=(t,e)=>new Dt({shape:()=>t,unknownKeys:"strict",catchall:Ki.create(),typeName:Ue.ZodObject,...Be(e)});Dt.lazycreate=(t,e)=>new Dt({shape:t,unknownKeys:"strip",catchall:Ki.create(),typeName:Ue.ZodObject,...Be(e)});class Ts extends je{_parse(e){const{ctx:n}=this._processInputParams(e),l=this._def.options;function o(s){for(const m of s)if(m.result.status==="valid")return m.result;for(const m of s)if(m.result.status==="dirty")return n.common.issues.push(...m.ctx.common.issues),m.result;const c=s.map(m=>new hi(m.ctx.common.issues));return de(n,{code:re.invalid_union,unionErrors:c}),Le}if(n.common.async)return Promise.all(l.map(async s=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(o);{let s;const c=[];for(const p of l){const h={...n,common:{...n.common,issues:[]},parent:null},y=p._parseSync({data:n.data,path:n.path,parent:h});if(y.status==="valid")return y;y.status==="dirty"&&!s&&(s={result:y,ctx:h}),h.common.issues.length&&c.push(h.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const m=c.map(p=>new hi(p));return de(n,{code:re.invalid_union,unionErrors:m}),Le}}get options(){return this._def.options}}Ts.create=(t,e)=>new Ts({options:t,typeName:Ue.ZodUnion,...Be(e)});function Ef(t,e){const n=Ji(t),l=Ji(e);if(t===e)return{valid:!0,data:t};if(n===xe.object&&l===xe.object){const o=lt.objectKeys(e),s=lt.objectKeys(t).filter(m=>o.indexOf(m)!==-1),c={...t,...e};for(const m of s){const p=Ef(t[m],e[m]);if(!p.valid)return{valid:!1};c[m]=p.data}return{valid:!0,data:c}}else if(n===xe.array&&l===xe.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let s=0;s<t.length;s++){const c=t[s],m=e[s],p=Ef(c,m);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return n===xe.date&&l===xe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ss extends je{_parse(e){const{status:n,ctx:l}=this._processInputParams(e),o=(s,c)=>{if(Cg(s)||Cg(c))return Le;const m=Ef(s.value,c.value);return m.valid?((Tg(s)||Tg(c))&&n.dirty(),{status:n.value,value:m.data}):(de(l,{code:re.invalid_intersection_types}),Le)};return l.common.async?Promise.all([this._def.left._parseAsync({data:l.data,path:l.path,parent:l}),this._def.right._parseAsync({data:l.data,path:l.path,parent:l})]).then(([s,c])=>o(s,c)):o(this._def.left._parseSync({data:l.data,path:l.path,parent:l}),this._def.right._parseSync({data:l.data,path:l.path,parent:l}))}}Ss.create=(t,e,n)=>new Ss({left:t,right:e,typeName:Ue.ZodIntersection,...Be(n)});class xl extends je{_parse(e){const{status:n,ctx:l}=this._processInputParams(e);if(l.parsedType!==xe.array)return de(l,{code:re.invalid_type,expected:xe.array,received:l.parsedType}),Le;if(l.data.length<this._def.items.length)return de(l,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Le;!this._def.rest&&l.data.length>this._def.items.length&&(de(l,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...l.data].map((c,m)=>{const p=this._def.items[m]||this._def.rest;return p?p._parse(new Qn(l,c,l.path,m)):null}).filter(c=>!!c);return l.common.async?Promise.all(s).then(c=>en.mergeArray(n,c)):en.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new xl({...this._def,rest:e})}}xl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xl({items:t,typeName:Ue.ZodTuple,rest:null,...Be(e)})};class bs extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:l}=this._processInputParams(e);if(l.parsedType!==xe.object)return de(l,{code:re.invalid_type,expected:xe.object,received:l.parsedType}),Le;const o=[],s=this._def.keyType,c=this._def.valueType;for(const m in l.data)o.push({key:s._parse(new Qn(l,m,l.path,m)),value:c._parse(new Qn(l,l.data[m],l.path,m)),alwaysSet:m in l.data});return l.common.async?en.mergeObjectAsync(n,o):en.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,l){return n instanceof je?new bs({keyType:e,valueType:n,typeName:Ue.ZodRecord,...Be(l)}):new bs({keyType:Kn.create(),valueType:e,typeName:Ue.ZodRecord,...Be(n)})}}class kg extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:l}=this._processInputParams(e);if(l.parsedType!==xe.map)return de(l,{code:re.invalid_type,expected:xe.map,received:l.parsedType}),Le;const o=this._def.keyType,s=this._def.valueType,c=[...l.data.entries()].map(([m,p],h)=>({key:o._parse(new Qn(l,m,l.path,[h,"key"])),value:s._parse(new Qn(l,p,l.path,[h,"value"]))}));if(l.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const p of c){const h=await p.key,y=await p.value;if(h.status==="aborted"||y.status==="aborted")return Le;(h.status==="dirty"||y.status==="dirty")&&n.dirty(),m.set(h.value,y.value)}return{status:n.value,value:m}})}else{const m=new Map;for(const p of c){const h=p.key,y=p.value;if(h.status==="aborted"||y.status==="aborted")return Le;(h.status==="dirty"||y.status==="dirty")&&n.dirty(),m.set(h.value,y.value)}return{status:n.value,value:m}}}}kg.create=(t,e,n)=>new kg({valueType:e,keyType:t,typeName:Ue.ZodMap,...Be(n)});class Bo extends je{_parse(e){const{status:n,ctx:l}=this._processInputParams(e);if(l.parsedType!==xe.set)return de(l,{code:re.invalid_type,expected:xe.set,received:l.parsedType}),Le;const o=this._def;o.minSize!==null&&l.data.size<o.minSize.value&&(de(l,{code:re.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&l.data.size>o.maxSize.value&&(de(l,{code:re.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const s=this._def.valueType;function c(p){const h=new Set;for(const y of p){if(y.status==="aborted")return Le;y.status==="dirty"&&n.dirty(),h.add(y.value)}return{status:n.value,value:h}}const m=[...l.data.values()].map((p,h)=>s._parse(new Qn(l,p,l.path,h)));return l.common.async?Promise.all(m).then(p=>c(p)):c(m)}min(e,n){return new Bo({...this._def,minSize:{value:e,message:_e.toString(n)}})}max(e,n){return new Bo({...this._def,maxSize:{value:e,message:_e.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Bo.create=(t,e)=>new Bo({valueType:t,minSize:null,maxSize:null,typeName:Ue.ZodSet,...Be(e)});class Mf extends je{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Mf.create=(t,e)=>new Mf({getter:t,typeName:Ue.ZodLazy,...Be(e)});class wg extends je{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return de(n,{received:n.data,code:re.invalid_literal,expected:this._def.value}),Le}return{status:"valid",value:e.data}}get value(){return this._def.value}}wg.create=(t,e)=>new wg({value:t,typeName:Ue.ZodLiteral,...Be(e)});function Yv(t,e){return new Sr({values:t,typeName:Ue.ZodEnum,...Be(e)})}class Sr extends je{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),l=this._def.values;return de(n,{expected:lt.joinValues(l),received:n.parsedType,code:re.invalid_type}),Le}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),l=this._def.values;return de(n,{received:n.data,code:re.invalid_enum_value,options:l}),Le}return Un(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Sr.create(e,{...this._def,...n})}exclude(e,n=this._def){return Sr.create(this.options.filter(l=>!e.includes(l)),{...this._def,...n})}}Sr.create=Yv;class Ng extends je{_parse(e){const n=lt.getValidEnumValues(this._def.values),l=this._getOrReturnCtx(e);if(l.parsedType!==xe.string&&l.parsedType!==xe.number){const o=lt.objectValues(n);return de(l,{expected:lt.joinValues(o),received:l.parsedType,code:re.invalid_type}),Le}if(this._cache||(this._cache=new Set(lt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=lt.objectValues(n);return de(l,{received:l.data,code:re.invalid_enum_value,options:o}),Le}return Un(e.data)}get enum(){return this._def.values}}Ng.create=(t,e)=>new Ng({values:t,typeName:Ue.ZodNativeEnum,...Be(e)});class _s extends je{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.promise&&n.common.async===!1)return de(n,{code:re.invalid_type,expected:xe.promise,received:n.parsedType}),Le;const l=n.parsedType===xe.promise?n.data:Promise.resolve(n.data);return Un(l.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_s.create=(t,e)=>new _s({type:t,typeName:Ue.ZodPromise,...Be(e)});class br extends je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:l}=this._processInputParams(e),o=this._def.effect||null,s={addIssue:c=>{de(l,c),c.fatal?n.abort():n.dirty()},get path(){return l.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){const c=o.transform(l.data,s);if(l.common.async)return Promise.resolve(c).then(async m=>{if(n.value==="aborted")return Le;const p=await this._def.schema._parseAsync({data:m,path:l.path,parent:l});return p.status==="aborted"?Le:p.status==="dirty"||n.value==="dirty"?Uo(p.value):p});{if(n.value==="aborted")return Le;const m=this._def.schema._parseSync({data:c,path:l.path,parent:l});return m.status==="aborted"?Le:m.status==="dirty"||n.value==="dirty"?Uo(m.value):m}}if(o.type==="refinement"){const c=m=>{const p=o.refinement(m,s);if(l.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(l.common.async===!1){const m=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return m.status==="aborted"?Le:(m.status==="dirty"&&n.dirty(),c(m.value),{status:n.value,value:m.value})}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(m=>m.status==="aborted"?Le:(m.status==="dirty"&&n.dirty(),c(m.value).then(()=>({status:n.value,value:m.value}))))}if(o.type==="transform")if(l.common.async===!1){const c=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!Cr(c))return Le;const m=o.transform(c.value,s);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:m}}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(c=>Cr(c)?Promise.resolve(o.transform(c.value,s)).then(m=>({status:n.value,value:m})):Le);lt.assertNever(o)}}br.create=(t,e,n)=>new br({schema:t,typeName:Ue.ZodEffects,effect:e,...Be(n)});br.createWithPreprocess=(t,e,n)=>new br({schema:e,effect:{type:"preprocess",transform:t},typeName:Ue.ZodEffects,...Be(n)});class Yi extends je{_parse(e){return this._getType(e)===xe.undefined?Un(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yi.create=(t,e)=>new Yi({innerType:t,typeName:Ue.ZodOptional,...Be(e)});class _r extends je{_parse(e){return this._getType(e)===xe.null?Un(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_r.create=(t,e)=>new _r({innerType:t,typeName:Ue.ZodNullable,...Be(e)});class kf extends je{_parse(e){const{ctx:n}=this._processInputParams(e);let l=n.data;return n.parsedType===xe.undefined&&(l=this._def.defaultValue()),this._def.innerType._parse({data:l,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}kf.create=(t,e)=>new kf({innerType:t,typeName:Ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});class wf extends je{_parse(e){const{ctx:n}=this._processInputParams(e),l={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:l.data,path:l.path,parent:{...l}});return xs(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hi(l.common.issues)},input:l.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new hi(l.common.issues)},input:l.data})}}removeCatch(){return this._def.innerType}}wf.create=(t,e)=>new wf({innerType:t,typeName:Ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});class Rg extends je{_parse(e){if(this._getType(e)!==xe.nan){const l=this._getOrReturnCtx(e);return de(l,{code:re.invalid_type,expected:xe.nan,received:l.parsedType}),Le}return{status:"valid",value:e.data}}}Rg.create=t=>new Rg({typeName:Ue.ZodNaN,...Be(t)});class ES extends je{_parse(e){const{ctx:n}=this._processInputParams(e),l=n.data;return this._def.type._parse({data:l,path:n.path,parent:n})}unwrap(){return this._def.type}}class ed extends je{_parse(e){const{status:n,ctx:l}=this._processInputParams(e);if(l.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:l.data,path:l.path,parent:l});return s.status==="aborted"?Le:s.status==="dirty"?(n.dirty(),Uo(s.value)):this._def.out._parseAsync({data:s.value,path:l.path,parent:l})})();{const o=this._def.in._parseSync({data:l.data,path:l.path,parent:l});return o.status==="aborted"?Le:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:l.path,parent:l})}}static create(e,n){return new ed({in:e,out:n,typeName:Ue.ZodPipeline})}}class Nf extends je{_parse(e){const n=this._def.innerType._parse(e),l=o=>(Cr(o)&&(o.value=Object.freeze(o.value)),o);return xs(n)?n.then(o=>l(o)):l(n)}unwrap(){return this._def.innerType}}Nf.create=(t,e)=>new Nf({innerType:t,typeName:Ue.ZodReadonly,...Be(e)});var Ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const pl=Kn.create,Dg=yl.create;vl.create;const MS=Cs.create;Tr.create;const Ig=Af.create;Ki.create;const Lo=Xn.create,kS=Dt.create,wS=Ts.create;Ss.create;xl.create;const NS=bs.create,RS=Mf.create,DS=Sr.create;_s.create;Yi.create;_r.create;const fr={string:t=>Kn.create({...t,coerce:!0}),number:t=>yl.create({...t,coerce:!0}),boolean:t=>Cs.create({...t,coerce:!0}),bigint:t=>vl.create({...t,coerce:!0}),date:t=>Tr.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let IS,US;function LS(){return{geminiUrl:IS,vertexUrl:US}}function PS(t,e,n){var l,o,s;if(!(!((l=t.httpOptions)===null||l===void 0)&&l.baseUrl)){const c=LS();return t.vertexai?(o=c.vertexUrl)!==null&&o!==void 0?o:e:(s=c.geminiUrl)!==null&&s!==void 0?s:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sl{}function Ee(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(l,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function f(t,e,n){for(let s=0;s<e.length-1;s++){const c=e[s];if(c.endsWith("[]")){const m=c.slice(0,-2);if(!(m in t))if(Array.isArray(n))t[m]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[m])){const p=t[m];if(Array.isArray(n))for(let h=0;h<p.length;h++){const y=p[h];f(y,e.slice(s+1),n[h])}else for(const h of p)f(h,e.slice(s+1),n)}return}else if(c.endsWith("[0]")){const m=c.slice(0,-3);m in t||(t[m]=[{}]);const p=t[m];f(p[0],e.slice(s+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const l=e[e.length-1],o=t[l];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else t[l]=n}function u(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const l=e[n];if(l.endsWith("[]")){const o=l.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(c=>u(c,e.slice(n+1))):void 0}else return}else t=t[l]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ug;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ug||(Ug={}));var Lg;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Lg||(Lg={}));var Zn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Zn||(Zn={}));var Pg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Pg||(Pg={}));var Og;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Og||(Og={}));var zg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(zg||(zg={}));var Vg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Vg||(Vg={}));var Bg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Bg||(Bg={}));var qg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qg||(qg={}));var Fg;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Fg||(Fg={}));var Gg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Gg||(Gg={}));var Hg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Hg||(Hg={}));var $g;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($g||($g={}));var Jg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jg||(Jg={}));var Yg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Yg||(Yg={}));var Kg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Kg||(Kg={}));var As;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(As||(As={}));var Zg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zg||(Zg={}));var Rf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Rf||(Rf={}));var Xg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Xg||(Xg={}));var Qg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Qg||(Qg={}));var Wg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Wg||(Wg={}));var jg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jg||(jg={}));var ey;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ey||(ey={}));var ty;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ty||(ty={}));var ny;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ny||(ny={}));var iy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(iy||(iy={}));var ly;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ly||(ly={}));var ry;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ry||(ry={}));var oy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(oy||(oy={}));var ay;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ay||(ay={}));var sy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(sy||(sy={}));var uy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(uy||(uy={}));var cy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(cy||(cy={}));var fy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(fy||(fy={}));var dy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dy||(dy={}));var my;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(my||(my={}));var hy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(hy||(hy={}));var py;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(py||(py={}));var gy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(gy||(gy={}));var yy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yy||(yy={}));var gr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(gr||(gr={}));class Df{constructor(e){const n={};for(const l of e.headers.entries())n[l[0]]=l[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class wo{get text(){var e,n,l,o,s,c,m,p;if(((o=(l=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const x=[];for(const C of(p=(m=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&p!==void 0?p:[]){for(const[T,E]of Object.entries(C))T!=="text"&&T!=="thought"&&(E!==null||E!==void 0)&&x.push(T);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;y=!0,h+=C.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var e,n,l,o,s,c,m,p;if(((o=(l=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const x of(p=(m=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&p!==void 0?p:[]){for(const[C,T]of Object.entries(x))C!=="inlineData"&&(T!==null||T!==void 0)&&y.push(C);x.inlineData&&typeof x.inlineData.data=="string"&&(h+=atob(x.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,l,o,s,c,m,p;if(((o=(l=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(m=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,l,o,s,c,m,p,h;if(((o=(l=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(m=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||p===void 0?void 0:p.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,l,o,s,c,m,p,h;if(((o=(l=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||l===void 0?void 0:l.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(m=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||p===void 0?void 0:p.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class vy{}class xy{}class OS{}class zS{}class Cy{}class Ty{}class Sy{}class VS{}class by{}class _y{}class Ay{}class BS{}class qS{}class FS{}class Ey{}class GS{get text(){var e,n,l;let o="",s=!1;const c=[];for(const m of(l=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&l!==void 0?l:[]){for(const[p,h]of Object.entries(m))p!=="text"&&p!=="thought"&&h!==null&&c.push(p);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;s=!0,o+=m.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,n,l;let o="";const s=[];for(const c of(l=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&l!==void 0?l:[]){for(const[m,p]of Object.entries(c))m!=="inlineData"&&p!==null&&s.push(m);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class HS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function st(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Kv(t,e){const n=st(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Zv(t){return Array.isArray(t)?t.map(e=>Es(e)):[Es(t)]}function Es(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Xv(t){const e=Es(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qv(t){const e=Es(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function My(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Wv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>My(e)):[My(t)]}function If(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function ky(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function wy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Zt(t){if(t==null)throw new Error("ContentUnion is required");return If(t)?t:{role:"user",parts:Wv(t)}}function jv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const l=Zt(n);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(t.isVertexAI()){const n=Zt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Zt(n)):[Zt(e)]}function In(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(ky(t)||wy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Zt(t)]}const e=[],n=[],l=If(t[0]);for(const o of t){const s=If(o);if(s!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(o);else{if(ky(o)||wy(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return l||e.push({role:"user",parts:Wv(n)}),e}const $S=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Ny=DS(["string","number","integer","object","array","boolean","null"]),JS=wS([Ny,Lo(Ny)]);function YS(t=!0){const e=RS(()=>{const n=kS({type:JS.optional(),format:pl().optional(),title:pl().optional(),description:pl().optional(),default:Ig().optional(),items:e.optional(),minItems:fr.string().optional(),maxItems:fr.string().optional(),enum:Lo(Ig()).optional(),properties:NS(pl(),e).optional(),required:Lo(pl()).optional(),minProperties:fr.string().optional(),maxProperties:fr.string().optional(),propertyOrdering:Lo(pl()).optional(),minimum:Dg().optional(),maximum:Dg().optional(),minLength:fr.string().optional(),maxLength:fr.string().optional(),pattern:pl().optional(),anyOf:Lo(e).optional(),additionalProperties:MS().optional()});return t?n.strict():n});return e}function KS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(l=>l!=="null");if(n.length===1)e.type=Object.values(Zn).includes(n[0].toUpperCase())?n[0].toUpperCase():Zn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of n)e.anyOf.push({type:Object.values(Zn).includes(l.toUpperCase())?l.toUpperCase():Zn.TYPE_UNSPECIFIED})}}function yr(t){const e={},n=["items"],l=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&KS(t.type,e);for(const[c,m]of Object.entries(t))if(m!=null)if(c=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(Zn).includes(m.toUpperCase())?m.toUpperCase():Zn.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=yr(m);else if(l.includes(c)){const p=[];for(const h of m){if(h.type=="null"){e.nullable=!0;continue}p.push(yr(h))}e[c]=p}else if(o.includes(c)){const p={};for(const[h,y]of Object.entries(m))p[h]=yr(y);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=m}return e}function qo(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=YS().parse(t);return yr(e)}else return yr(t)}function td(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function nd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Er(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=qo(e.parameters)),e.response&&(e.response=qo(e.response));return t}function Mr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function ZS(t,e,n,l=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===l;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function pi(t,e){if(typeof e!="string")throw new Error("name must be a string");return ZS(t,e,"cachedContents")}function e0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function gi(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function XS(t){return t!=null&&typeof t=="object"&&"name"in t}function QS(t){return t!=null&&typeof t=="object"&&"video"in t}function WS(t){return t!=null&&typeof t=="object"&&"uri"in t}function t0(t){var e;let n;if(XS(t)&&(n=t.name),!(WS(t)&&(n=t.uri,n===void 0))&&!(QS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function n0(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function i0(t){for(const e of["models","tunedModels","publisherModels"])if(jS(t,e))return t[e];return[]}function jS(t,e){return t!==null&&typeof t=="object"&&e in t}function eb(t,e={}){const n=t,l={name:n.name,description:n.description,parameters:yr(Is(n.inputSchema))};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function tb(t,e={}){const n=[],l=new Set;for(const o of t){const s=o.name;if(l.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);l.add(s);const c=eb(o,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function nb(t){const e=[];for(const n of t)e.push(Is(n));return e}function ib(t){const e={};for(const[n,l]of Object.entries(t)){const o=l;e[n]=Is(o)}return e}function Is(t){const e=new Set(["items"]),n=new Set(["anyOf"]),l=new Set(["properties"]),o={};for(const[s,c]of Object.entries(t))if(e.has(s))o[s]=Is(c);else if(n.has(s))o[s]=nb(c);else if(l.has(s))o[s]=ib(c);else if(s==="type"){const m=c.toUpperCase();o[s]=Object.values(Zn).includes(m)?m:Zn.TYPE_UNSPECIFIED}else $S.has(s)&&(o[s]=c);return o}function l0(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function lb(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function kr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function r0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function ob(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function ab(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function sb(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],rb(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],ob(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],ab(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function o0(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>sb(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function ub(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const l=u(t,["default"]);l!=null&&f(e,["default"],l);const o=u(t,["description"]);o!=null&&f(e,["description"],o);const s=u(t,["enum"]);s!=null&&f(e,["enum"],s);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const m=u(t,["format"]);m!=null&&f(e,["format"],m);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const h=u(t,["maxItems"]);h!=null&&f(e,["maxItems"],h);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const x=u(t,["maxProperties"]);x!=null&&f(e,["maxProperties"],x);const C=u(t,["maximum"]);C!=null&&f(e,["maximum"],C);const T=u(t,["minItems"]);T!=null&&f(e,["minItems"],T);const E=u(t,["minLength"]);E!=null&&f(e,["minLength"],E);const k=u(t,["minProperties"]);k!=null&&f(e,["minProperties"],k);const I=u(t,["minimum"]);I!=null&&f(e,["minimum"],I);const N=u(t,["nullable"]);N!=null&&f(e,["nullable"],N);const z=u(t,["pattern"]);z!=null&&f(e,["pattern"],z);const L=u(t,["properties"]);L!=null&&f(e,["properties"],L);const J=u(t,["propertyOrdering"]);J!=null&&f(e,["propertyOrdering"],J);const $=u(t,["required"]);$!=null&&f(e,["required"],$);const R=u(t,["title"]);R!=null&&f(e,["title"],R);const ie=u(t,["type"]);return ie!=null&&f(e,["type"],ie),e}function cb(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const l=u(t,["threshold"]);return l!=null&&f(e,["threshold"],l),e}function fb(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const l=u(t,["description"]);l!=null&&f(e,["description"],l);const o=u(t,["name"]);o!=null&&f(e,["name"],o);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const m=u(t,["response"]);m!=null&&f(e,["response"],m);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function db(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const l=u(t,["endTime"]);return l!=null&&f(e,["endTime"],l),e}function mb(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],db(n)),e}function hb(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["dynamicThreshold"]);return l!=null&&f(e,["dynamicThreshold"],l),e}function pb(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],hb(n)),e}function gb(){return{}}function yb(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>fb(h))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],mb(l));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&f(e,["googleSearchRetrieval"],pb(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],gb());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const m=u(t,["computerUse"]);return m!=null&&f(e,["computerUse"],m),e}function vb(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["allowedFunctionNames"]);return l!=null&&f(e,["allowedFunctionNames"],l),e}function xb(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const l=u(t,["longitude"]);return l!=null&&f(e,["longitude"],l),e}function Cb(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],xb(n));const l=u(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function Tb(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],vb(n));const l=u(t,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],Cb(l)),e}function Sb(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function a0(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],Sb(n)),e}function bb(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const l=u(t,["voiceConfig"]);return l!=null&&f(e,["voiceConfig"],a0(l)),e}function _b(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>bb(o))),f(e,["speakerVoiceConfigs"],l)}return e}function Ab(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],a0(n));const l=u(t,["multiSpeakerVoiceConfig"]);l!=null&&f(e,["multiSpeakerVoiceConfig"],_b(l));const o=u(t,["languageCode"]);return o!=null&&f(e,["languageCode"],o),e}function Eb(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const l=u(t,["thinkingBudget"]);return l!=null&&f(e,["thinkingBudget"],l),e}function Mb(t,e,n){const l={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],o0(Zt(o)));const s=u(e,["temperature"]);s!=null&&f(l,["temperature"],s);const c=u(e,["topP"]);c!=null&&f(l,["topP"],c);const m=u(e,["topK"]);m!=null&&f(l,["topK"],m);const p=u(e,["candidateCount"]);p!=null&&f(l,["candidateCount"],p);const h=u(e,["maxOutputTokens"]);h!=null&&f(l,["maxOutputTokens"],h);const y=u(e,["stopSequences"]);y!=null&&f(l,["stopSequences"],y);const x=u(e,["responseLogprobs"]);x!=null&&f(l,["responseLogprobs"],x);const C=u(e,["logprobs"]);C!=null&&f(l,["logprobs"],C);const T=u(e,["presencePenalty"]);T!=null&&f(l,["presencePenalty"],T);const E=u(e,["frequencyPenalty"]);E!=null&&f(l,["frequencyPenalty"],E);const k=u(e,["seed"]);k!=null&&f(l,["seed"],k);const I=u(e,["responseMimeType"]);I!=null&&f(l,["responseMimeType"],I);const N=u(e,["responseSchema"]);N!=null&&f(l,["responseSchema"],ub(qo(N)));const z=u(e,["responseJsonSchema"]);if(z!=null&&f(l,["responseJsonSchema"],z),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=u(e,["safetySettings"]);if(n!==void 0&&L!=null){let ee=L;Array.isArray(ee)&&(ee=ee.map(te=>cb(te))),f(n,["safetySettings"],ee)}const J=u(e,["tools"]);if(n!==void 0&&J!=null){let ee=Mr(J);Array.isArray(ee)&&(ee=ee.map(te=>yb(Er(te)))),f(n,["tools"],ee)}const $=u(e,["toolConfig"]);if(n!==void 0&&$!=null&&f(n,["toolConfig"],Tb($)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=u(e,["cachedContent"]);n!==void 0&&R!=null&&f(n,["cachedContent"],pi(t,R));const ie=u(e,["responseModalities"]);ie!=null&&f(l,["responseModalities"],ie);const j=u(e,["mediaResolution"]);j!=null&&f(l,["mediaResolution"],j);const oe=u(e,["speechConfig"]);if(oe!=null&&f(l,["speechConfig"],Ab(td(oe))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=u(e,["thinkingConfig"]);return P!=null&&f(l,["thinkingConfig"],Eb(P)),l}function kb(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["request","model"],st(t,l));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(m=>o0(m))),f(n,["request","contents"],c)}const s=u(e,["config"]);return s!=null&&f(n,["request","generationConfig"],Mb(t,s,n)),n}function wb(t,e){const n={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=u(e,["fileName"]);l!=null&&f(n,["fileName"],l);const o=u(e,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>kb(t,c))),f(n,["requests","requests"],s)}return n}function Nb(t,e){const n={},l=u(t,["displayName"]);if(e!==void 0&&l!=null&&f(e,["batch","displayName"],l),u(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Rb(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["src"]);o!=null&&f(n,["batch","inputConfig"],wb(t,l0(t,o)));const s=u(e,["config"]);return s!=null&&f(n,["config"],Nb(s,n)),n}function Db(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],kr(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function Ib(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],kr(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function Ub(t,e){const n={},l=u(t,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const o=u(t,["pageToken"]);if(e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),u(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Lb(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],Ub(n,e)),e}function Pb(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],kr(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function Ob(t){const e={},n=u(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const l=u(t,["gcsUri"]);l!=null&&f(e,["gcsSource","uris"],l);const o=u(t,["bigqueryUri"]);if(o!=null&&f(e,["bigquerySource","inputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function zb(t){const e={},n=u(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const l=u(t,["gcsUri"]);l!=null&&f(e,["gcsDestination","outputUriPrefix"],l);const o=u(t,["bigqueryUri"]);if(o!=null&&f(e,["bigqueryDestination","outputUri"],o),u(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Vb(t,e){const n={},l=u(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const o=u(t,["dest"]);return e!==void 0&&o!=null&&f(e,["outputConfig"],zb(lb(o))),n}function Bb(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["model"],st(t,l));const o=u(e,["src"]);o!=null&&f(n,["inputConfig"],Ob(l0(t,o)));const s=u(e,["config"]);return s!=null&&f(n,["config"],Vb(s,n)),n}function qb(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],kr(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function Fb(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],kr(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function Gb(t,e){const n={},l=u(t,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const s=u(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function Hb(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],Gb(n,e)),e}function $b(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],kr(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function s0(){return{}}function Jb(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function Yb(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Kb(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Zb(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],Jb(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],Yb(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],Kb(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function Xb(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Zb(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function Qb(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function Wb(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const l=u(t,["urlRetrievalStatus"]);return l!=null&&f(e,["urlRetrievalStatus"],l),e}function jb(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>Wb(o))),f(e,["urlMetadata"],l)}return e}function e_(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],Xb(n));const l=u(t,["citationMetadata"]);l!=null&&f(e,["citationMetadata"],Qb(l));const o=u(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const s=u(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],jb(c));const m=u(t,["avgLogprobs"]);m!=null&&f(e,["avgLogprobs"],m);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const h=u(t,["index"]);h!=null&&f(e,["index"],h);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const x=u(t,["safetyRatings"]);return x!=null&&f(e,["safetyRatings"],x),e}function t_(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(m=>e_(m))),f(e,["candidates"],c)}const l=u(t,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const o=u(t,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);const s=u(t,["usageMetadata"]);return s!=null&&f(e,["usageMetadata"],s),e}function n_(t){const e={},n=u(t,["response"]);return n!=null&&f(e,["response"],t_(n)),u(t,["error"])!=null&&f(e,["error"],s0()),e}function i_(t){const e={},n=u(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const l=u(t,["inlinedResponses","inlinedResponses"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>n_(s))),f(e,["inlinedResponses"],o)}return e}function Uf(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["metadata","displayName"]);l!=null&&f(e,["displayName"],l);const o=u(t,["metadata","state"]);o!=null&&f(e,["state"],r0(o));const s=u(t,["metadata","createTime"]);s!=null&&f(e,["createTime"],s);const c=u(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const m=u(t,["metadata","updateTime"]);m!=null&&f(e,["updateTime"],m);const p=u(t,["metadata","model"]);p!=null&&f(e,["model"],p);const h=u(t,["metadata","output"]);return h!=null&&f(e,["dest"],i_(h)),e}function l_(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const l=u(t,["operations"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Uf(s))),f(e,["batchJobs"],o)}return e}function r_(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["done"]);return l!=null&&f(e,["done"],l),u(t,["error"])!=null&&f(e,["error"],s0()),e}function u0(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const l=u(t,["code"]);l!=null&&f(e,["code"],l);const o=u(t,["message"]);return o!=null&&f(e,["message"],o),e}function o_(t){const e={},n=u(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const l=u(t,["gcsSource","uris"]);l!=null&&f(e,["gcsUri"],l);const o=u(t,["bigquerySource","inputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function a_(t){const e={},n=u(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const l=u(t,["gcsDestination","outputUriPrefix"]);l!=null&&f(e,["gcsUri"],l);const o=u(t,["bigqueryDestination","outputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function Lf(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["displayName"]);l!=null&&f(e,["displayName"],l);const o=u(t,["state"]);o!=null&&f(e,["state"],r0(o));const s=u(t,["error"]);s!=null&&f(e,["error"],u0(s));const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const m=u(t,["startTime"]);m!=null&&f(e,["startTime"],m);const p=u(t,["endTime"]);p!=null&&f(e,["endTime"],p);const h=u(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const y=u(t,["model"]);y!=null&&f(e,["model"],y);const x=u(t,["inputConfig"]);x!=null&&f(e,["src"],o_(x));const C=u(t,["outputConfig"]);return C!=null&&f(e,["dest"],a_(C)),e}function s_(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const l=u(t,["batchPredictionJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Lf(s))),f(e,["batchJobs"],o)}return e}function u_(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["done"]);l!=null&&f(e,["done"],l);const o=u(t,["error"]);return o!=null&&f(e,["error"],u0(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Cl||(Cl={}));class Ho{constructor(e,n,l,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,l,o)}init(e,n,l){var o,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};l?typeof l=="object"?c=Object.assign({},l):c=l:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(s=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c_ extends Sl{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Ho(Cl.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(n),n)}async createInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=Bb(this.apiClient,e);return m=Ee("batchPredictionJobs",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Lf(y))}else{const h=Rb(this.apiClient,e);return m=Ee("{model}:batchGenerateContent",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Uf(y))}}async get(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=qb(this.apiClient,e);return m=Ee("batchPredictionJobs/{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Lf(y))}else{const h=Db(this.apiClient,e);return m=Ee("batches/{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Uf(y))}}async cancel(e){var n,l,o,s;let c="",m={};if(this.apiClient.isVertexAI()){const p=Fb(this.apiClient,e);c=Ee("batchPredictionJobs/{name}:cancel",p._url),m=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const p=Ib(this.apiClient,e);c=Ee("batches/{name}:cancel",p._url),m=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=Hb(e);return m=Ee("batchPredictionJobs",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const x=s_(y),C=new Ey;return Object.assign(C,x),C})}else{const h=Lb(e);return m=Ee("batches",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const x=l_(y),C=new Ey;return Object.assign(C,x),C})}}async delete(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=$b(this.apiClient,e);return m=Ee("batchPredictionJobs/{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>u_(y))}else{const h=Pb(this.apiClient,e);return m=Ee("batches/{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>r_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f_(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function d_(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function m_(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function h_(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],f_(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],d_(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],m_(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function Ry(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>h_(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function p_(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const l=u(t,["description"]);l!=null&&f(e,["description"],l);const o=u(t,["name"]);o!=null&&f(e,["name"],o);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const m=u(t,["response"]);m!=null&&f(e,["response"],m);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function g_(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const l=u(t,["endTime"]);return l!=null&&f(e,["endTime"],l),e}function y_(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],g_(n)),e}function v_(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["dynamicThreshold"]);return l!=null&&f(e,["dynamicThreshold"],l),e}function x_(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],v_(n)),e}function C_(){return{}}function T_(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>p_(h))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],y_(l));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&f(e,["googleSearchRetrieval"],x_(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],C_());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const m=u(t,["computerUse"]);return m!=null&&f(e,["computerUse"],m),e}function S_(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["allowedFunctionNames"]);return l!=null&&f(e,["allowedFunctionNames"],l),e}function b_(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const l=u(t,["longitude"]);return l!=null&&f(e,["longitude"],l),e}function __(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],b_(n));const l=u(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function A_(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],S_(n));const l=u(t,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],__(l)),e}function E_(t,e){const n={},l=u(t,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const s=u(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let y=In(c);Array.isArray(y)&&(y=y.map(x=>Ry(x))),f(e,["contents"],y)}const m=u(t,["systemInstruction"]);e!==void 0&&m!=null&&f(e,["systemInstruction"],Ry(Zt(m)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(x=>T_(x))),f(e,["tools"],y)}const h=u(t,["toolConfig"]);if(e!==void 0&&h!=null&&f(e,["toolConfig"],A_(h)),u(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function M_(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["model"],Kv(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],E_(o,n)),n}function k_(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],pi(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function w_(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],pi(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function N_(t,e){const n={},l=u(t,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),n}function R_(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],pi(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],N_(o,n)),n}function D_(t,e){const n={},l=u(t,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function I_(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],D_(n,e)),e}function U_(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function L_(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["data"]);l!=null&&f(e,["data"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function P_(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["fileUri"]);l!=null&&f(e,["fileUri"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function O_(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],U_(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],L_(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],P_(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function Dy(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>O_(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function z_(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const l=u(t,["name"]);l!=null&&f(e,["name"],l);const o=u(t,["parameters"]);o!=null&&f(e,["parameters"],o);const s=u(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const m=u(t,["responseJsonSchema"]);return m!=null&&f(e,["responseJsonSchema"],m),e}function V_(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const l=u(t,["endTime"]);return l!=null&&f(e,["endTime"],l),e}function B_(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],V_(n)),e}function q_(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["dynamicThreshold"]);return l!=null&&f(e,["dynamicThreshold"],l),e}function F_(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],q_(n)),e}function G_(){return{}}function H_(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function $_(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],H_(n));const l=u(t,["authType"]);l!=null&&f(e,["authType"],l);const o=u(t,["googleServiceAccountConfig"]);o!=null&&f(e,["googleServiceAccountConfig"],o);const s=u(t,["httpBasicAuthConfig"]);s!=null&&f(e,["httpBasicAuthConfig"],s);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const m=u(t,["oidcConfig"]);return m!=null&&f(e,["oidcConfig"],m),e}function J_(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],$_(n)),e}function Y_(){return{}}function K_(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(C=>z_(C))),f(e,["functionDeclarations"],x)}const l=u(t,["retrieval"]);l!=null&&f(e,["retrieval"],l);const o=u(t,["googleSearch"]);o!=null&&f(e,["googleSearch"],B_(o));const s=u(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],F_(s)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],G_());const m=u(t,["googleMaps"]);m!=null&&f(e,["googleMaps"],J_(m)),u(t,["urlContext"])!=null&&f(e,["urlContext"],Y_());const h=u(t,["codeExecution"]);h!=null&&f(e,["codeExecution"],h);const y=u(t,["computerUse"]);return y!=null&&f(e,["computerUse"],y),e}function Z_(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["allowedFunctionNames"]);return l!=null&&f(e,["allowedFunctionNames"],l),e}function X_(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const l=u(t,["longitude"]);return l!=null&&f(e,["longitude"],l),e}function Q_(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],X_(n));const l=u(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function W_(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],Z_(n));const l=u(t,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],Q_(l)),e}function j_(t,e){const n={},l=u(t,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const o=u(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const s=u(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const c=u(t,["contents"]);if(e!==void 0&&c!=null){let x=In(c);Array.isArray(x)&&(x=x.map(C=>Dy(C))),f(e,["contents"],x)}const m=u(t,["systemInstruction"]);e!==void 0&&m!=null&&f(e,["systemInstruction"],Dy(Zt(m)));const p=u(t,["tools"]);if(e!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(C=>K_(C))),f(e,["tools"],x)}const h=u(t,["toolConfig"]);e!==void 0&&h!=null&&f(e,["toolConfig"],W_(h));const y=u(t,["kmsKeyName"]);return e!==void 0&&y!=null&&f(e,["encryption_spec","kmsKeyName"],y),n}function eA(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["model"],Kv(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],j_(o,n)),n}function tA(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],pi(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function nA(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],pi(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function iA(t,e){const n={},l=u(t,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const o=u(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),n}function lA(t,e){const n={},l=u(e,["name"]);l!=null&&f(n,["_url","name"],pi(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],iA(o,n)),n}function rA(t,e){const n={},l=u(t,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function oA(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],rA(n,e)),e}function hs(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["displayName"]);l!=null&&f(e,["displayName"],l);const o=u(t,["model"]);o!=null&&f(e,["model"],o);const s=u(t,["createTime"]);s!=null&&f(e,["createTime"],s);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const m=u(t,["expireTime"]);m!=null&&f(e,["expireTime"],m);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function aA(){return{}}function sA(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const l=u(t,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>hs(s))),f(e,["cachedContents"],o)}return e}function ps(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["displayName"]);l!=null&&f(e,["displayName"],l);const o=u(t,["model"]);o!=null&&f(e,["model"],o);const s=u(t,["createTime"]);s!=null&&f(e,["createTime"],s);const c=u(t,["updateTime"]);c!=null&&f(e,["updateTime"],c);const m=u(t,["expireTime"]);m!=null&&f(e,["expireTime"],m);const p=u(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function uA(){return{}}function cA(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const l=u(t,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>ps(s))),f(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fA extends Sl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ho(Cl.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(n),n)}async create(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=eA(this.apiClient,e);return m=Ee("cachedContents",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>ps(y))}else{const h=M_(this.apiClient,e);return m=Ee("cachedContents",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>hs(y))}}async get(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=tA(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>ps(y))}else{const h=k_(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>hs(y))}}async delete(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=nA(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=uA(),x=new _y;return Object.assign(x,y),x})}else{const h=w_(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(()=>{const y=aA(),x=new _y;return Object.assign(x,y),x})}}async update(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=lA(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>ps(y))}else{const h=R_(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>hs(y))}}async listInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=oA(e);return m=Ee("cachedContents",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const x=cA(y),C=new Ay;return Object.assign(C,x),C})}else{const h=I_(e);return m=Ee("cachedContents",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const x=sA(y),C=new Ay;return Object.assign(C,x),C})}}}function Iy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],l=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ct(t){return this instanceof Ct?(this.v=t,this):new Ct(t)}function vr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=n.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(T){return function(E){return Promise.resolve(E).then(T,x)}}function m(T,E){l[T]&&(o[T]=function(k){return new Promise(function(I,N){s.push([T,k,I,N])>1||p(T,k)})},E&&(o[T]=E(o[T])))}function p(T,E){try{h(l[T](E))}catch(k){C(s[0][3],k)}}function h(T){T.value instanceof Ct?Promise.resolve(T.value.v).then(y,x):C(s[0][2],T)}function y(T){p("next",T)}function x(T){p("throw",T)}function C(T,E){T(E),s.shift(),s.length&&p(s[0][0],s[0][1])}}function Po(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Iy=="function"?Iy(t):t[Symbol.iterator](),n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n);function l(s){n[s]=t[s]&&function(c){return new Promise(function(m,p){c=t[s](c),o(m,p,c.done,c.value)})}}function o(s,c,m,p){Promise.resolve(p).then(function(h){s({value:h,done:m})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dA(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:c0(n)}function c0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function mA(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Uy(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let l=0;for(;l<n;)if(t[l].role==="user")e.push(t[l]),l++;else{const o=[];let s=!0;for(;l<n&&t[l].role==="model";)o.push(t[l]),s&&!c0(t[l])&&(s=!1),l++;s?e.push(...o):e.pop()}return e}class hA{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new pA(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class pA{constructor(e,n,l,o={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=l,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),mA(s)}async sendMessage(e){var n;await this.sendPromise;const l=Zt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,c,m;const p=await o,h=(c=(s=p.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content,y=p.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let C=[];y!=null&&(C=(m=y.slice(x))!==null&&m!==void 0?m:[]);const T=h?[h]:[];this.recordHistory(l,T,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const l=Zt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,l)}getHistory(e=!1){const n=e?Uy(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var l,o;return vr(this,arguments,function*(){var c,m,p,h;const y=[];try{for(var x=!0,C=Po(e),T;T=yield Ct(C.next()),c=T.done,!c;x=!0){h=T.value,x=!1;const E=h;if(dA(E)){const k=(o=(l=E.candidates)===null||l===void 0?void 0:l[0])===null||o===void 0?void 0:o.content;k!==void 0&&y.push(k)}yield yield Ct(E)}}catch(E){m={error:E}}finally{try{!x&&!c&&(p=C.return)&&(yield Ct(p.call(C)))}finally{if(m)throw m.error}}this.recordHistory(n,y)})}recordHistory(e,n,l){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Uy(l)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Us extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Us.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(t,e){const n={},l=u(t,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const o=u(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function yA(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],gA(n,e)),e}function vA(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const l=u(t,["message"]);l!=null&&f(e,["message"],l);const o=u(t,["code"]);return o!=null&&f(e,["code"],o),e}function xA(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["displayName"]);l!=null&&f(e,["displayName"],l);const o=u(t,["mimeType"]);o!=null&&f(e,["mimeType"],o);const s=u(t,["sizeBytes"]);s!=null&&f(e,["sizeBytes"],s);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const m=u(t,["expirationTime"]);m!=null&&f(e,["expirationTime"],m);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const h=u(t,["sha256Hash"]);h!=null&&f(e,["sha256Hash"],h);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const x=u(t,["downloadUri"]);x!=null&&f(e,["downloadUri"],x);const C=u(t,["state"]);C!=null&&f(e,["state"],C);const T=u(t,["source"]);T!=null&&f(e,["source"],T);const E=u(t,["videoMetadata"]);E!=null&&f(e,["videoMetadata"],E);const k=u(t,["error"]);return k!=null&&f(e,["error"],vA(k)),e}function CA(t){const e={},n=u(t,["file"]);n!=null&&f(e,["file"],xA(n));const l=u(t,["config"]);return l!=null&&f(e,["config"],l),e}function TA(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],t0(n));const l=u(t,["config"]);return l!=null&&f(e,["config"],l),e}function SA(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","file"],t0(n));const l=u(t,["config"]);return l!=null&&f(e,["config"],l),e}function bA(t){const e={},n=u(t,["details"]);n!=null&&f(e,["details"],n);const l=u(t,["message"]);l!=null&&f(e,["message"],l);const o=u(t,["code"]);return o!=null&&f(e,["code"],o),e}function Pf(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["displayName"]);l!=null&&f(e,["displayName"],l);const o=u(t,["mimeType"]);o!=null&&f(e,["mimeType"],o);const s=u(t,["sizeBytes"]);s!=null&&f(e,["sizeBytes"],s);const c=u(t,["createTime"]);c!=null&&f(e,["createTime"],c);const m=u(t,["expirationTime"]);m!=null&&f(e,["expirationTime"],m);const p=u(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const h=u(t,["sha256Hash"]);h!=null&&f(e,["sha256Hash"],h);const y=u(t,["uri"]);y!=null&&f(e,["uri"],y);const x=u(t,["downloadUri"]);x!=null&&f(e,["downloadUri"],x);const C=u(t,["state"]);C!=null&&f(e,["state"],C);const T=u(t,["source"]);T!=null&&f(e,["source"],T);const E=u(t,["videoMetadata"]);E!=null&&f(e,["videoMetadata"],E);const k=u(t,["error"]);return k!=null&&f(e,["error"],bA(k)),e}function _A(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const l=u(t,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Pf(s))),f(e,["files"],o)}return e}function AA(){return{}}function EA(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA extends Sl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ho(Cl.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Pf(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=yA(e);return s=Ee("files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(p=>{const h=_A(p),y=new BS;return Object.assign(y,h),y})}}async createInternal(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=CA(e);return s=Ee("upload/v1beta/files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(()=>{const p=AA(),h=new qS;return Object.assign(h,p),h})}}async get(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=TA(e);return s=Ee("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(p=>Pf(p))}}async delete(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=SA(e);return s=Ee("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(()=>{const p=EA(),h=new FS;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function wA(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function f0(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],kA(n)),e}function NA(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],wA(n)),e}function RA(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const l=u(t,["voiceConfig"]);return l!=null&&f(e,["voiceConfig"],f0(l)),e}function DA(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>RA(o))),f(e,["speakerVoiceConfigs"],l)}return e}function IA(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],f0(n));const l=u(t,["multiSpeakerVoiceConfig"]);l!=null&&f(e,["multiSpeakerVoiceConfig"],DA(l));const o=u(t,["languageCode"]);return o!=null&&f(e,["languageCode"],o),e}function UA(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],NA(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=u(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function LA(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function PA(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function OA(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function zA(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["data"]);l!=null&&f(e,["data"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function VA(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function BA(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["fileUri"]);l!=null&&f(e,["fileUri"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function qA(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],LA(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],OA(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],VA(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function FA(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],PA(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],zA(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],BA(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function GA(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>qA(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function HA(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>FA(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function $A(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const l=u(t,["description"]);l!=null&&f(e,["description"],l);const o=u(t,["name"]);o!=null&&f(e,["name"],o);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const m=u(t,["response"]);m!=null&&f(e,["response"],m);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function JA(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const l=u(t,["name"]);l!=null&&f(e,["name"],l);const o=u(t,["parameters"]);o!=null&&f(e,["parameters"],o);const s=u(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const m=u(t,["responseJsonSchema"]);return m!=null&&f(e,["responseJsonSchema"],m),e}function YA(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const l=u(t,["endTime"]);return l!=null&&f(e,["endTime"],l),e}function KA(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const l=u(t,["endTime"]);return l!=null&&f(e,["endTime"],l),e}function ZA(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],YA(n)),e}function XA(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],KA(n)),e}function QA(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["dynamicThreshold"]);return l!=null&&f(e,["dynamicThreshold"],l),e}function WA(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["dynamicThreshold"]);return l!=null&&f(e,["dynamicThreshold"],l),e}function jA(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],QA(n)),e}function eE(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],WA(n)),e}function tE(){return{}}function nE(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function iE(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],nE(n));const l=u(t,["authType"]);l!=null&&f(e,["authType"],l);const o=u(t,["googleServiceAccountConfig"]);o!=null&&f(e,["googleServiceAccountConfig"],o);const s=u(t,["httpBasicAuthConfig"]);s!=null&&f(e,["httpBasicAuthConfig"],s);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const m=u(t,["oidcConfig"]);return m!=null&&f(e,["oidcConfig"],m),e}function lE(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],iE(n)),e}function rE(){return{}}function oE(){return{}}function aE(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>$A(h))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],ZA(l));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&f(e,["googleSearchRetrieval"],jA(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],rE());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const m=u(t,["computerUse"]);return m!=null&&f(e,["computerUse"],m),e}function sE(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(C=>JA(C))),f(e,["functionDeclarations"],x)}const l=u(t,["retrieval"]);l!=null&&f(e,["retrieval"],l);const o=u(t,["googleSearch"]);o!=null&&f(e,["googleSearch"],XA(o));const s=u(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],eE(s)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],tE());const m=u(t,["googleMaps"]);m!=null&&f(e,["googleMaps"],lE(m)),u(t,["urlContext"])!=null&&f(e,["urlContext"],oE());const h=u(t,["codeExecution"]);h!=null&&f(e,["codeExecution"],h);const y=u(t,["computerUse"]);return y!=null&&f(e,["computerUse"],y),e}function uE(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cE(t){const e={},n=u(t,["handle"]);n!=null&&f(e,["handle"],n);const l=u(t,["transparent"]);return l!=null&&f(e,["transparent"],l),e}function Ly(){return{}}function Py(){return{}}function fE(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const l=u(t,["startOfSpeechSensitivity"]);l!=null&&f(e,["startOfSpeechSensitivity"],l);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&f(e,["endOfSpeechSensitivity"],o);const s=u(t,["prefixPaddingMs"]);s!=null&&f(e,["prefixPaddingMs"],s);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function dE(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const l=u(t,["startOfSpeechSensitivity"]);l!=null&&f(e,["startOfSpeechSensitivity"],l);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&f(e,["endOfSpeechSensitivity"],o);const s=u(t,["prefixPaddingMs"]);s!=null&&f(e,["prefixPaddingMs"],s);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function mE(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],fE(n));const l=u(t,["activityHandling"]);l!=null&&f(e,["activityHandling"],l);const o=u(t,["turnCoverage"]);return o!=null&&f(e,["turnCoverage"],o),e}function hE(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],dE(n));const l=u(t,["activityHandling"]);l!=null&&f(e,["activityHandling"],l);const o=u(t,["turnCoverage"]);return o!=null&&f(e,["turnCoverage"],o),e}function pE(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function gE(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function yE(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const l=u(t,["slidingWindow"]);return l!=null&&f(e,["slidingWindow"],pE(l)),e}function vE(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const l=u(t,["slidingWindow"]);return l!=null&&f(e,["slidingWindow"],gE(l)),e}function xE(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function CE(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function TE(t,e){const n={},l=u(t,["generationConfig"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig"],l);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const s=u(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const m=u(t,["topK"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topK"],m);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const h=u(t,["mediaResolution"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","mediaResolution"],h);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const x=u(t,["speechConfig"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","speechConfig"],IA(nd(x)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=u(t,["systemInstruction"]);e!==void 0&&T!=null&&f(e,["setup","systemInstruction"],GA(Zt(T)));const E=u(t,["tools"]);if(e!==void 0&&E!=null){let $=Mr(E);Array.isArray($)&&($=$.map(R=>aE(Er(R)))),f(e,["setup","tools"],$)}const k=u(t,["sessionResumption"]);e!==void 0&&k!=null&&f(e,["setup","sessionResumption"],uE(k));const I=u(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&f(e,["setup","inputAudioTranscription"],Ly());const N=u(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&f(e,["setup","outputAudioTranscription"],Ly());const z=u(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],mE(z));const L=u(t,["contextWindowCompression"]);e!==void 0&&L!=null&&f(e,["setup","contextWindowCompression"],yE(L));const J=u(t,["proactivity"]);return e!==void 0&&J!=null&&f(e,["setup","proactivity"],xE(J)),n}function SE(t,e){const n={},l=u(t,["generationConfig"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig"],l);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const s=u(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const m=u(t,["topK"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topK"],m);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const h=u(t,["mediaResolution"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","mediaResolution"],h);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const x=u(t,["speechConfig"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","speechConfig"],UA(nd(x)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=u(t,["systemInstruction"]);e!==void 0&&T!=null&&f(e,["setup","systemInstruction"],HA(Zt(T)));const E=u(t,["tools"]);if(e!==void 0&&E!=null){let $=Mr(E);Array.isArray($)&&($=$.map(R=>sE(Er(R)))),f(e,["setup","tools"],$)}const k=u(t,["sessionResumption"]);e!==void 0&&k!=null&&f(e,["setup","sessionResumption"],cE(k));const I=u(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&f(e,["setup","inputAudioTranscription"],Py());const N=u(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&f(e,["setup","outputAudioTranscription"],Py());const z=u(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],hE(z));const L=u(t,["contextWindowCompression"]);e!==void 0&&L!=null&&f(e,["setup","contextWindowCompression"],vE(L));const J=u(t,["proactivity"]);return e!==void 0&&J!=null&&f(e,["setup","proactivity"],CE(J)),n}function bE(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["setup","model"],st(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],TE(o,n)),n}function _E(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["setup","model"],st(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],SE(o,n)),n}function AE(){return{}}function EE(){return{}}function ME(){return{}}function kE(){return{}}function wE(t){const e={},n=u(t,["media"]);n!=null&&f(e,["mediaChunks"],Zv(n));const l=u(t,["audio"]);l!=null&&f(e,["audio"],Qv(l));const o=u(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const s=u(t,["video"]);s!=null&&f(e,["video"],Xv(s));const c=u(t,["text"]);return c!=null&&f(e,["text"],c),u(t,["activityStart"])!=null&&f(e,["activityStart"],AE()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],ME()),e}function NE(t){const e={},n=u(t,["media"]);n!=null&&f(e,["mediaChunks"],Zv(n));const l=u(t,["audio"]);l!=null&&f(e,["audio"],Qv(l));const o=u(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const s=u(t,["video"]);s!=null&&f(e,["video"],Xv(s));const c=u(t,["text"]);return c!=null&&f(e,["text"],c),u(t,["activityStart"])!=null&&f(e,["activityStart"],EE()),u(t,["activityEnd"])!=null&&f(e,["activityEnd"],kE()),e}function d0(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const l=u(t,["weight"]);return l!=null&&f(e,["weight"],l),e}function RE(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>d0(o))),f(e,["weightedPrompts"],l)}return e}function m0(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const l=u(t,["topK"]);l!=null&&f(e,["topK"],l);const o=u(t,["seed"]);o!=null&&f(e,["seed"],o);const s=u(t,["guidance"]);s!=null&&f(e,["guidance"],s);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const m=u(t,["density"]);m!=null&&f(e,["density"],m);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const h=u(t,["scale"]);h!=null&&f(e,["scale"],h);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const x=u(t,["muteDrums"]);x!=null&&f(e,["muteDrums"],x);const C=u(t,["onlyBassAndDrums"]);return C!=null&&f(e,["onlyBassAndDrums"],C),e}function DE(t){const e={},n=u(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],m0(n)),e}function h0(t){const e={},n=u(t,["model"]);return n!=null&&f(e,["model"],n),e}function p0(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>d0(o))),f(e,["weightedPrompts"],l)}return e}function Of(t){const e={},n=u(t,["setup"]);n!=null&&f(e,["setup"],h0(n));const l=u(t,["clientContent"]);l!=null&&f(e,["clientContent"],p0(l));const o=u(t,["musicGenerationConfig"]);o!=null&&f(e,["musicGenerationConfig"],m0(o));const s=u(t,["playbackControl"]);return s!=null&&f(e,["playbackControl"],s),e}function IE(){return{}}function UE(t){const e={},n=u(t,["sessionId"]);return n!=null&&f(e,["sessionId"],n),e}function LE(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function PE(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function OE(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function zE(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["data"]);l!=null&&f(e,["data"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function VE(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function BE(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["fileUri"]);l!=null&&f(e,["fileUri"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function qE(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],LE(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],OE(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],VE(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function FE(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],PE(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],zE(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],BE(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function GE(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>qE(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function HE(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>FE(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function Oy(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const l=u(t,["finished"]);return l!=null&&f(e,["finished"],l),e}function zy(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const l=u(t,["finished"]);return l!=null&&f(e,["finished"],l),e}function $E(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const l=u(t,["urlRetrievalStatus"]);return l!=null&&f(e,["urlRetrievalStatus"],l),e}function JE(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>$E(o))),f(e,["urlMetadata"],l)}return e}function YE(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],GE(n));const l=u(t,["turnComplete"]);l!=null&&f(e,["turnComplete"],l);const o=u(t,["interrupted"]);o!=null&&f(e,["interrupted"],o);const s=u(t,["groundingMetadata"]);s!=null&&f(e,["groundingMetadata"],s);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const m=u(t,["inputTranscription"]);m!=null&&f(e,["inputTranscription"],Oy(m));const p=u(t,["outputTranscription"]);p!=null&&f(e,["outputTranscription"],Oy(p));const h=u(t,["urlContextMetadata"]);return h!=null&&f(e,["urlContextMetadata"],JE(h)),e}function KE(t){const e={},n=u(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],HE(n));const l=u(t,["turnComplete"]);l!=null&&f(e,["turnComplete"],l);const o=u(t,["interrupted"]);o!=null&&f(e,["interrupted"],o);const s=u(t,["groundingMetadata"]);s!=null&&f(e,["groundingMetadata"],s);const c=u(t,["generationComplete"]);c!=null&&f(e,["generationComplete"],c);const m=u(t,["inputTranscription"]);m!=null&&f(e,["inputTranscription"],zy(m));const p=u(t,["outputTranscription"]);return p!=null&&f(e,["outputTranscription"],zy(p)),e}function ZE(t){const e={},n=u(t,["id"]);n!=null&&f(e,["id"],n);const l=u(t,["args"]);l!=null&&f(e,["args"],l);const o=u(t,["name"]);return o!=null&&f(e,["name"],o),e}function XE(t){const e={},n=u(t,["args"]);n!=null&&f(e,["args"],n);const l=u(t,["name"]);return l!=null&&f(e,["name"],l),e}function QE(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>ZE(o))),f(e,["functionCalls"],l)}return e}function WE(t){const e={},n=u(t,["functionCalls"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>XE(o))),f(e,["functionCalls"],l)}return e}function jE(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function eM(t){const e={},n=u(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function ls(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const l=u(t,["tokenCount"]);return l!=null&&f(e,["tokenCount"],l),e}function rs(t){const e={},n=u(t,["modality"]);n!=null&&f(e,["modality"],n);const l=u(t,["tokenCount"]);return l!=null&&f(e,["tokenCount"],l),e}function tM(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const l=u(t,["cachedContentTokenCount"]);l!=null&&f(e,["cachedContentTokenCount"],l);const o=u(t,["responseTokenCount"]);o!=null&&f(e,["responseTokenCount"],o);const s=u(t,["toolUsePromptTokenCount"]);s!=null&&f(e,["toolUsePromptTokenCount"],s);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const m=u(t,["totalTokenCount"]);m!=null&&f(e,["totalTokenCount"],m);const p=u(t,["promptTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(T=>ls(T))),f(e,["promptTokensDetails"],C)}const h=u(t,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(T=>ls(T))),f(e,["cacheTokensDetails"],C)}const y=u(t,["responseTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(T=>ls(T))),f(e,["responseTokensDetails"],C)}const x=u(t,["toolUsePromptTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(T=>ls(T))),f(e,["toolUsePromptTokensDetails"],C)}return e}function nM(t){const e={},n=u(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const l=u(t,["cachedContentTokenCount"]);l!=null&&f(e,["cachedContentTokenCount"],l);const o=u(t,["candidatesTokenCount"]);o!=null&&f(e,["responseTokenCount"],o);const s=u(t,["toolUsePromptTokenCount"]);s!=null&&f(e,["toolUsePromptTokenCount"],s);const c=u(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const m=u(t,["totalTokenCount"]);m!=null&&f(e,["totalTokenCount"],m);const p=u(t,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>rs(E))),f(e,["promptTokensDetails"],T)}const h=u(t,["cacheTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(E=>rs(E))),f(e,["cacheTokensDetails"],T)}const y=u(t,["candidatesTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>rs(E))),f(e,["responseTokensDetails"],T)}const x=u(t,["toolUsePromptTokensDetails"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(E=>rs(E))),f(e,["toolUsePromptTokensDetails"],T)}const C=u(t,["trafficType"]);return C!=null&&f(e,["trafficType"],C),e}function iM(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function lM(t){const e={},n=u(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function rM(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const l=u(t,["resumable"]);l!=null&&f(e,["resumable"],l);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&f(e,["lastConsumedClientMessageIndex"],o),e}function oM(t){const e={},n=u(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const l=u(t,["resumable"]);l!=null&&f(e,["resumable"],l);const o=u(t,["lastConsumedClientMessageIndex"]);return o!=null&&f(e,["lastConsumedClientMessageIndex"],o),e}function aM(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],IE());const l=u(t,["serverContent"]);l!=null&&f(e,["serverContent"],YE(l));const o=u(t,["toolCall"]);o!=null&&f(e,["toolCall"],QE(o));const s=u(t,["toolCallCancellation"]);s!=null&&f(e,["toolCallCancellation"],jE(s));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],tM(c));const m=u(t,["goAway"]);m!=null&&f(e,["goAway"],iM(m));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],rM(p)),e}function sM(t){const e={},n=u(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],UE(n));const l=u(t,["serverContent"]);l!=null&&f(e,["serverContent"],KE(l));const o=u(t,["toolCall"]);o!=null&&f(e,["toolCall"],WE(o));const s=u(t,["toolCallCancellation"]);s!=null&&f(e,["toolCallCancellation"],eM(s));const c=u(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],nM(c));const m=u(t,["goAway"]);m!=null&&f(e,["goAway"],lM(m));const p=u(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],oM(p)),e}function uM(){return{}}function cM(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const l=u(t,["weight"]);return l!=null&&f(e,["weight"],l),e}function fM(t){const e={},n=u(t,["weightedPrompts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>cM(o))),f(e,["weightedPrompts"],l)}return e}function dM(t){const e={},n=u(t,["temperature"]);n!=null&&f(e,["temperature"],n);const l=u(t,["topK"]);l!=null&&f(e,["topK"],l);const o=u(t,["seed"]);o!=null&&f(e,["seed"],o);const s=u(t,["guidance"]);s!=null&&f(e,["guidance"],s);const c=u(t,["bpm"]);c!=null&&f(e,["bpm"],c);const m=u(t,["density"]);m!=null&&f(e,["density"],m);const p=u(t,["brightness"]);p!=null&&f(e,["brightness"],p);const h=u(t,["scale"]);h!=null&&f(e,["scale"],h);const y=u(t,["muteBass"]);y!=null&&f(e,["muteBass"],y);const x=u(t,["muteDrums"]);x!=null&&f(e,["muteDrums"],x);const C=u(t,["onlyBassAndDrums"]);return C!=null&&f(e,["onlyBassAndDrums"],C),e}function mM(t){const e={},n=u(t,["clientContent"]);n!=null&&f(e,["clientContent"],fM(n));const l=u(t,["musicGenerationConfig"]);return l!=null&&f(e,["musicGenerationConfig"],dM(l)),e}function hM(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const l=u(t,["mimeType"]);l!=null&&f(e,["mimeType"],l);const o=u(t,["sourceMetadata"]);return o!=null&&f(e,["sourceMetadata"],mM(o)),e}function pM(t){const e={},n=u(t,["audioChunks"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>hM(o))),f(e,["audioChunks"],l)}return e}function gM(t){const e={},n=u(t,["text"]);n!=null&&f(e,["text"],n);const l=u(t,["filteredReason"]);return l!=null&&f(e,["filteredReason"],l),e}function yM(t){const e={};u(t,["setupComplete"])!=null&&f(e,["setupComplete"],uM());const l=u(t,["serverContent"]);l!=null&&f(e,["serverContent"],pM(l));const o=u(t,["filteredPrompt"]);return o!=null&&f(e,["filteredPrompt"],gM(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vM(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function xM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function CM(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function TM(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],vM(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],xM(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],CM(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function Ls(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>TM(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function SM(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const l=u(t,["default"]);l!=null&&f(e,["default"],l);const o=u(t,["description"]);o!=null&&f(e,["description"],o);const s=u(t,["enum"]);s!=null&&f(e,["enum"],s);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const m=u(t,["format"]);m!=null&&f(e,["format"],m);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const h=u(t,["maxItems"]);h!=null&&f(e,["maxItems"],h);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const x=u(t,["maxProperties"]);x!=null&&f(e,["maxProperties"],x);const C=u(t,["maximum"]);C!=null&&f(e,["maximum"],C);const T=u(t,["minItems"]);T!=null&&f(e,["minItems"],T);const E=u(t,["minLength"]);E!=null&&f(e,["minLength"],E);const k=u(t,["minProperties"]);k!=null&&f(e,["minProperties"],k);const I=u(t,["minimum"]);I!=null&&f(e,["minimum"],I);const N=u(t,["nullable"]);N!=null&&f(e,["nullable"],N);const z=u(t,["pattern"]);z!=null&&f(e,["pattern"],z);const L=u(t,["properties"]);L!=null&&f(e,["properties"],L);const J=u(t,["propertyOrdering"]);J!=null&&f(e,["propertyOrdering"],J);const $=u(t,["required"]);$!=null&&f(e,["required"],$);const R=u(t,["title"]);R!=null&&f(e,["title"],R);const ie=u(t,["type"]);return ie!=null&&f(e,["type"],ie),e}function bM(t){const e={};if(u(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=u(t,["category"]);n!=null&&f(e,["category"],n);const l=u(t,["threshold"]);return l!=null&&f(e,["threshold"],l),e}function _M(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const l=u(t,["description"]);l!=null&&f(e,["description"],l);const o=u(t,["name"]);o!=null&&f(e,["name"],o);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const m=u(t,["response"]);m!=null&&f(e,["response"],m);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function AM(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const l=u(t,["endTime"]);return l!=null&&f(e,["endTime"],l),e}function EM(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],AM(n)),e}function MM(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["dynamicThreshold"]);return l!=null&&f(e,["dynamicThreshold"],l),e}function kM(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],MM(n)),e}function wM(){return{}}function NM(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>_M(h))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],EM(l));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&f(e,["googleSearchRetrieval"],kM(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],wM());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const m=u(t,["computerUse"]);return m!=null&&f(e,["computerUse"],m),e}function RM(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["allowedFunctionNames"]);return l!=null&&f(e,["allowedFunctionNames"],l),e}function DM(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const l=u(t,["longitude"]);return l!=null&&f(e,["longitude"],l),e}function IM(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],DM(n));const l=u(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function UM(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],RM(n));const l=u(t,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],IM(l)),e}function LM(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function g0(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],LM(n)),e}function PM(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const l=u(t,["voiceConfig"]);return l!=null&&f(e,["voiceConfig"],g0(l)),e}function OM(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>PM(o))),f(e,["speakerVoiceConfigs"],l)}return e}function zM(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],g0(n));const l=u(t,["multiSpeakerVoiceConfig"]);l!=null&&f(e,["multiSpeakerVoiceConfig"],OM(l));const o=u(t,["languageCode"]);return o!=null&&f(e,["languageCode"],o),e}function VM(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const l=u(t,["thinkingBudget"]);return l!=null&&f(e,["thinkingBudget"],l),e}function BM(t,e,n){const l={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],Ls(Zt(o)));const s=u(e,["temperature"]);s!=null&&f(l,["temperature"],s);const c=u(e,["topP"]);c!=null&&f(l,["topP"],c);const m=u(e,["topK"]);m!=null&&f(l,["topK"],m);const p=u(e,["candidateCount"]);p!=null&&f(l,["candidateCount"],p);const h=u(e,["maxOutputTokens"]);h!=null&&f(l,["maxOutputTokens"],h);const y=u(e,["stopSequences"]);y!=null&&f(l,["stopSequences"],y);const x=u(e,["responseLogprobs"]);x!=null&&f(l,["responseLogprobs"],x);const C=u(e,["logprobs"]);C!=null&&f(l,["logprobs"],C);const T=u(e,["presencePenalty"]);T!=null&&f(l,["presencePenalty"],T);const E=u(e,["frequencyPenalty"]);E!=null&&f(l,["frequencyPenalty"],E);const k=u(e,["seed"]);k!=null&&f(l,["seed"],k);const I=u(e,["responseMimeType"]);I!=null&&f(l,["responseMimeType"],I);const N=u(e,["responseSchema"]);N!=null&&f(l,["responseSchema"],SM(qo(N)));const z=u(e,["responseJsonSchema"]);if(z!=null&&f(l,["responseJsonSchema"],z),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=u(e,["safetySettings"]);if(n!==void 0&&L!=null){let ee=L;Array.isArray(ee)&&(ee=ee.map(te=>bM(te))),f(n,["safetySettings"],ee)}const J=u(e,["tools"]);if(n!==void 0&&J!=null){let ee=Mr(J);Array.isArray(ee)&&(ee=ee.map(te=>NM(Er(te)))),f(n,["tools"],ee)}const $=u(e,["toolConfig"]);if(n!==void 0&&$!=null&&f(n,["toolConfig"],UM($)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=u(e,["cachedContent"]);n!==void 0&&R!=null&&f(n,["cachedContent"],pi(t,R));const ie=u(e,["responseModalities"]);ie!=null&&f(l,["responseModalities"],ie);const j=u(e,["mediaResolution"]);j!=null&&f(l,["mediaResolution"],j);const oe=u(e,["speechConfig"]);if(oe!=null&&f(l,["speechConfig"],zM(td(oe))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=u(e,["thinkingConfig"]);return P!=null&&f(l,["thinkingConfig"],VM(P)),l}function Vy(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(m=>Ls(m))),f(n,["contents"],c)}const s=u(e,["config"]);return s!=null&&f(n,["generationConfig"],BM(t,s,n)),n}function qM(t,e){const n={},l=u(t,["taskType"]);e!==void 0&&l!=null&&f(e,["requests[]","taskType"],l);const o=u(t,["title"]);e!==void 0&&o!=null&&f(e,["requests[]","title"],o);const s=u(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&f(e,["requests[]","outputDimensionality"],s),u(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function FM(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["contents"]);o!=null&&f(n,["requests[]","content"],jv(t,o));const s=u(e,["config"]);s!=null&&f(n,["config"],qM(s,n));const c=u(e,["model"]);return c!==void 0&&f(n,["requests[]","model"],st(t,c)),n}function GM(t,e){const n={};if(u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=u(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const o=u(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);const s=u(t,["guidanceScale"]);if(e!==void 0&&s!=null&&f(e,["parameters","guidanceScale"],s),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const m=u(t,["personGeneration"]);e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m);const p=u(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const h=u(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);const y=u(t,["language"]);e!==void 0&&y!=null&&f(e,["parameters","language"],y);const x=u(t,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const C=u(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&f(e,["parameters","outputOptions","compressionQuality"],C),u(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function HM(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=u(e,["config"]);return s!=null&&f(n,["config"],GM(s,n)),n}function $M(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","name"],st(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function JM(t,e,n){const l={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const s=u(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const m=u(e,["queryBase"]);return n!==void 0&&m!=null&&f(n,["_url","models_url"],n0(t,m)),l}function YM(t,e){const n={},l=u(e,["config"]);return l!=null&&f(n,["config"],JM(t,l,n)),n}function KM(t,e){const n={},l=u(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const o=u(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const s=u(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function ZM(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","name"],st(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],KM(o,n)),n}function XM(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","name"],st(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function QM(t){const e={};if(u(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function WM(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(m=>Ls(m))),f(n,["contents"],c)}const s=u(e,["config"]);return s!=null&&f(n,["config"],QM(s)),n}function jM(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],gi(n));const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function e1(t,e){const n={},l=u(t,["numberOfVideos"]);if(e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l),u(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=u(t,["durationSeconds"]);if(e!==void 0&&o!=null&&f(e,["parameters","durationSeconds"],o),u(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=u(t,["aspectRatio"]);if(e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s),u(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=u(t,["personGeneration"]);if(e!==void 0&&c!=null&&f(e,["parameters","personGeneration"],c),u(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=u(t,["negativePrompt"]);e!==void 0&&m!=null&&f(e,["parameters","negativePrompt"],m);const p=u(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&f(e,["parameters","enhancePrompt"],p),u(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(u(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function t1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=u(e,["image"]);if(s!=null&&f(n,["instances[0]","image"],jM(s)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=u(e,["config"]);return c!=null&&f(n,["config"],e1(c,n)),n}function n1(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function i1(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["data"]);l!=null&&f(e,["data"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function l1(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["fileUri"]);l!=null&&f(e,["fileUri"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function r1(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],n1(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],i1(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],l1(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function wr(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>r1(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function o1(t){const e={},n=u(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const l=u(t,["default"]);l!=null&&f(e,["default"],l);const o=u(t,["description"]);o!=null&&f(e,["description"],o);const s=u(t,["enum"]);s!=null&&f(e,["enum"],s);const c=u(t,["example"]);c!=null&&f(e,["example"],c);const m=u(t,["format"]);m!=null&&f(e,["format"],m);const p=u(t,["items"]);p!=null&&f(e,["items"],p);const h=u(t,["maxItems"]);h!=null&&f(e,["maxItems"],h);const y=u(t,["maxLength"]);y!=null&&f(e,["maxLength"],y);const x=u(t,["maxProperties"]);x!=null&&f(e,["maxProperties"],x);const C=u(t,["maximum"]);C!=null&&f(e,["maximum"],C);const T=u(t,["minItems"]);T!=null&&f(e,["minItems"],T);const E=u(t,["minLength"]);E!=null&&f(e,["minLength"],E);const k=u(t,["minProperties"]);k!=null&&f(e,["minProperties"],k);const I=u(t,["minimum"]);I!=null&&f(e,["minimum"],I);const N=u(t,["nullable"]);N!=null&&f(e,["nullable"],N);const z=u(t,["pattern"]);z!=null&&f(e,["pattern"],z);const L=u(t,["properties"]);L!=null&&f(e,["properties"],L);const J=u(t,["propertyOrdering"]);J!=null&&f(e,["propertyOrdering"],J);const $=u(t,["required"]);$!=null&&f(e,["required"],$);const R=u(t,["title"]);R!=null&&f(e,["title"],R);const ie=u(t,["type"]);return ie!=null&&f(e,["type"],ie),e}function a1(t){const e={},n=u(t,["featureSelectionPreference"]);return n!=null&&f(e,["featureSelectionPreference"],n),e}function s1(t){const e={},n=u(t,["method"]);n!=null&&f(e,["method"],n);const l=u(t,["category"]);l!=null&&f(e,["category"],l);const o=u(t,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function u1(t){const e={};if(u(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(t,["description"]);n!=null&&f(e,["description"],n);const l=u(t,["name"]);l!=null&&f(e,["name"],l);const o=u(t,["parameters"]);o!=null&&f(e,["parameters"],o);const s=u(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const c=u(t,["response"]);c!=null&&f(e,["response"],c);const m=u(t,["responseJsonSchema"]);return m!=null&&f(e,["responseJsonSchema"],m),e}function c1(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const l=u(t,["endTime"]);return l!=null&&f(e,["endTime"],l),e}function f1(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],c1(n)),e}function d1(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["dynamicThreshold"]);return l!=null&&f(e,["dynamicThreshold"],l),e}function m1(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],d1(n)),e}function h1(){return{}}function p1(t){const e={},n=u(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function g1(t){const e={},n=u(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],p1(n));const l=u(t,["authType"]);l!=null&&f(e,["authType"],l);const o=u(t,["googleServiceAccountConfig"]);o!=null&&f(e,["googleServiceAccountConfig"],o);const s=u(t,["httpBasicAuthConfig"]);s!=null&&f(e,["httpBasicAuthConfig"],s);const c=u(t,["oauthConfig"]);c!=null&&f(e,["oauthConfig"],c);const m=u(t,["oidcConfig"]);return m!=null&&f(e,["oidcConfig"],m),e}function y1(t){const e={},n=u(t,["authConfig"]);return n!=null&&f(e,["authConfig"],g1(n)),e}function v1(){return{}}function y0(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(C=>u1(C))),f(e,["functionDeclarations"],x)}const l=u(t,["retrieval"]);l!=null&&f(e,["retrieval"],l);const o=u(t,["googleSearch"]);o!=null&&f(e,["googleSearch"],f1(o));const s=u(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],m1(s)),u(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],h1());const m=u(t,["googleMaps"]);m!=null&&f(e,["googleMaps"],y1(m)),u(t,["urlContext"])!=null&&f(e,["urlContext"],v1());const h=u(t,["codeExecution"]);h!=null&&f(e,["codeExecution"],h);const y=u(t,["computerUse"]);return y!=null&&f(e,["computerUse"],y),e}function x1(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["allowedFunctionNames"]);return l!=null&&f(e,["allowedFunctionNames"],l),e}function C1(t){const e={},n=u(t,["latitude"]);n!=null&&f(e,["latitude"],n);const l=u(t,["longitude"]);return l!=null&&f(e,["longitude"],l),e}function T1(t){const e={},n=u(t,["latLng"]);n!=null&&f(e,["latLng"],C1(n));const l=u(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function S1(t){const e={},n=u(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],x1(n));const l=u(t,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],T1(l)),e}function b1(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function _1(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],b1(n)),e}function A1(t){const e={},n=u(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],_1(n)),u(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=u(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function E1(t){const e={},n=u(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const l=u(t,["thinkingBudget"]);return l!=null&&f(e,["thinkingBudget"],l),e}function M1(t,e,n){const l={},o=u(e,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],wr(Zt(o)));const s=u(e,["temperature"]);s!=null&&f(l,["temperature"],s);const c=u(e,["topP"]);c!=null&&f(l,["topP"],c);const m=u(e,["topK"]);m!=null&&f(l,["topK"],m);const p=u(e,["candidateCount"]);p!=null&&f(l,["candidateCount"],p);const h=u(e,["maxOutputTokens"]);h!=null&&f(l,["maxOutputTokens"],h);const y=u(e,["stopSequences"]);y!=null&&f(l,["stopSequences"],y);const x=u(e,["responseLogprobs"]);x!=null&&f(l,["responseLogprobs"],x);const C=u(e,["logprobs"]);C!=null&&f(l,["logprobs"],C);const T=u(e,["presencePenalty"]);T!=null&&f(l,["presencePenalty"],T);const E=u(e,["frequencyPenalty"]);E!=null&&f(l,["frequencyPenalty"],E);const k=u(e,["seed"]);k!=null&&f(l,["seed"],k);const I=u(e,["responseMimeType"]);I!=null&&f(l,["responseMimeType"],I);const N=u(e,["responseSchema"]);N!=null&&f(l,["responseSchema"],o1(qo(N)));const z=u(e,["responseJsonSchema"]);z!=null&&f(l,["responseJsonSchema"],z);const L=u(e,["routingConfig"]);L!=null&&f(l,["routingConfig"],L);const J=u(e,["modelSelectionConfig"]);J!=null&&f(l,["modelConfig"],a1(J));const $=u(e,["safetySettings"]);if(n!==void 0&&$!=null){let ce=$;Array.isArray(ce)&&(ce=ce.map(H=>s1(H))),f(n,["safetySettings"],ce)}const R=u(e,["tools"]);if(n!==void 0&&R!=null){let ce=Mr(R);Array.isArray(ce)&&(ce=ce.map(H=>y0(Er(H)))),f(n,["tools"],ce)}const ie=u(e,["toolConfig"]);n!==void 0&&ie!=null&&f(n,["toolConfig"],S1(ie));const j=u(e,["labels"]);n!==void 0&&j!=null&&f(n,["labels"],j);const oe=u(e,["cachedContent"]);n!==void 0&&oe!=null&&f(n,["cachedContent"],pi(t,oe));const P=u(e,["responseModalities"]);P!=null&&f(l,["responseModalities"],P);const ee=u(e,["mediaResolution"]);ee!=null&&f(l,["mediaResolution"],ee);const te=u(e,["speechConfig"]);te!=null&&f(l,["speechConfig"],A1(td(te)));const me=u(e,["audioTimestamp"]);me!=null&&f(l,["audioTimestamp"],me);const fe=u(e,["thinkingConfig"]);return fe!=null&&f(l,["thinkingConfig"],E1(fe)),l}function By(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(m=>wr(m))),f(n,["contents"],c)}const s=u(e,["config"]);return s!=null&&f(n,["generationConfig"],M1(t,s,n)),n}function k1(t,e){const n={},l=u(t,["taskType"]);e!==void 0&&l!=null&&f(e,["instances[]","task_type"],l);const o=u(t,["title"]);e!==void 0&&o!=null&&f(e,["instances[]","title"],o);const s=u(t,["outputDimensionality"]);e!==void 0&&s!=null&&f(e,["parameters","outputDimensionality"],s);const c=u(t,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const m=u(t,["autoTruncate"]);return e!==void 0&&m!=null&&f(e,["parameters","autoTruncate"],m),n}function w1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["contents"]);o!=null&&f(n,["instances[]","content"],jv(t,o));const s=u(e,["config"]);return s!=null&&f(n,["config"],k1(s,n)),n}function N1(t,e){const n={},l=u(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const s=u(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const m=u(t,["guidanceScale"]);e!==void 0&&m!=null&&f(e,["parameters","guidanceScale"],m);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const h=u(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const x=u(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&f(e,["parameters","includeSafetyAttributes"],x);const C=u(t,["includeRaiReason"]);e!==void 0&&C!=null&&f(e,["parameters","includeRaiReason"],C);const T=u(t,["language"]);e!==void 0&&T!=null&&f(e,["parameters","language"],T);const E=u(t,["outputMimeType"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","mimeType"],E);const k=u(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&f(e,["parameters","outputOptions","compressionQuality"],k);const I=u(t,["addWatermark"]);e!==void 0&&I!=null&&f(e,["parameters","addWatermark"],I);const N=u(t,["enhancePrompt"]);return e!==void 0&&N!=null&&f(e,["parameters","enhancePrompt"],N),n}function R1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=u(e,["config"]);return s!=null&&f(n,["config"],N1(s,n)),n}function Ps(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const l=u(t,["imageBytes"]);l!=null&&f(e,["bytesBase64Encoded"],gi(l));const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function D1(t){const e={},n=u(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const l=u(t,["segmentationClasses"]);l!=null&&f(e,["maskClasses"],l);const o=u(t,["maskDilation"]);return o!=null&&f(e,["dilation"],o),e}function I1(t){const e={},n=u(t,["controlType"]);n!=null&&f(e,["controlType"],n);const l=u(t,["enableControlImageComputation"]);return l!=null&&f(e,["computeControl"],l),e}function U1(t){const e={},n=u(t,["styleDescription"]);return n!=null&&f(e,["styleDescription"],n),e}function L1(t){const e={},n=u(t,["subjectType"]);n!=null&&f(e,["subjectType"],n);const l=u(t,["subjectDescription"]);return l!=null&&f(e,["subjectDescription"],l),e}function P1(t){const e={},n=u(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],Ps(n));const l=u(t,["referenceId"]);l!=null&&f(e,["referenceId"],l);const o=u(t,["referenceType"]);o!=null&&f(e,["referenceType"],o);const s=u(t,["maskImageConfig"]);s!=null&&f(e,["maskImageConfig"],D1(s));const c=u(t,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],I1(c));const m=u(t,["styleImageConfig"]);m!=null&&f(e,["styleImageConfig"],U1(m));const p=u(t,["subjectImageConfig"]);return p!=null&&f(e,["subjectImageConfig"],L1(p)),e}function O1(t,e){const n={},l=u(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const o=u(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const s=u(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const c=u(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const m=u(t,["guidanceScale"]);e!==void 0&&m!=null&&f(e,["parameters","guidanceScale"],m);const p=u(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const h=u(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const x=u(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&f(e,["parameters","includeSafetyAttributes"],x);const C=u(t,["includeRaiReason"]);e!==void 0&&C!=null&&f(e,["parameters","includeRaiReason"],C);const T=u(t,["language"]);e!==void 0&&T!=null&&f(e,["parameters","language"],T);const E=u(t,["outputMimeType"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","mimeType"],E);const k=u(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&f(e,["parameters","outputOptions","compressionQuality"],k);const I=u(t,["editMode"]);e!==void 0&&I!=null&&f(e,["parameters","editMode"],I);const N=u(t,["baseSteps"]);return e!==void 0&&N!=null&&f(e,["parameters","editConfig","baseSteps"],N),n}function z1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=u(e,["referenceImages"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>P1(p))),f(n,["instances[0]","referenceImages"],m)}const c=u(e,["config"]);return c!=null&&f(n,["config"],O1(c,n)),n}function V1(t,e){const n={},l=u(t,["includeRaiReason"]);e!==void 0&&l!=null&&f(e,["parameters","includeRaiReason"],l);const o=u(t,["outputMimeType"]);e!==void 0&&o!=null&&f(e,["parameters","outputOptions","mimeType"],o);const s=u(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&f(e,["parameters","outputOptions","compressionQuality"],s);const c=u(t,["enhanceInputImage"]);e!==void 0&&c!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],c);const m=u(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const p=u(t,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const h=u(t,["mode"]);return e!==void 0&&h!=null&&f(e,["parameters","mode"],h),n}function B1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["image"]);o!=null&&f(n,["instances[0]","image"],Ps(o));const s=u(e,["upscaleFactor"]);s!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],s);const c=u(e,["config"]);return c!=null&&f(n,["config"],V1(c,n)),n}function q1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","name"],st(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function F1(t,e,n){const l={},o=u(e,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const s=u(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);const c=u(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const m=u(e,["queryBase"]);return n!==void 0&&m!=null&&f(n,["_url","models_url"],n0(t,m)),l}function G1(t,e){const n={},l=u(e,["config"]);return l!=null&&f(n,["config"],F1(t,l,n)),n}function H1(t,e){const n={},l=u(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const o=u(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const s=u(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function $1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],H1(o,n)),n}function J1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","name"],st(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],o),n}function Y1(t,e){const n={},l=u(t,["systemInstruction"]);e!==void 0&&l!=null&&f(e,["systemInstruction"],wr(Zt(l)));const o=u(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(m=>y0(m))),f(e,["tools"],c)}const s=u(t,["generationConfig"]);return e!==void 0&&s!=null&&f(e,["generationConfig"],s),n}function K1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(m=>wr(m))),f(n,["contents"],c)}const s=u(e,["config"]);return s!=null&&f(n,["config"],Y1(s,n)),n}function Z1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["contents"]);if(o!=null){let c=In(o);Array.isArray(c)&&(c=c.map(m=>wr(m))),f(n,["contents"],c)}const s=u(e,["config"]);return s!=null&&f(n,["config"],s),n}function X1(t){const e={},n=u(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const l=u(t,["videoBytes"]);l!=null&&f(e,["bytesBase64Encoded"],gi(l));const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Q1(t,e){const n={},l=u(t,["numberOfVideos"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const o=u(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const s=u(t,["fps"]);e!==void 0&&s!=null&&f(e,["parameters","fps"],s);const c=u(t,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const m=u(t,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const p=u(t,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const h=u(t,["resolution"]);e!==void 0&&h!=null&&f(e,["parameters","resolution"],h);const y=u(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const x=u(t,["pubsubTopic"]);e!==void 0&&x!=null&&f(e,["parameters","pubsubTopic"],x);const C=u(t,["negativePrompt"]);e!==void 0&&C!=null&&f(e,["parameters","negativePrompt"],C);const T=u(t,["enhancePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","enhancePrompt"],T);const E=u(t,["generateAudio"]);e!==void 0&&E!=null&&f(e,["parameters","generateAudio"],E);const k=u(t,["lastFrame"]);e!==void 0&&k!=null&&f(e,["instances[0]","lastFrame"],Ps(k));const I=u(t,["compressionQuality"]);return e!==void 0&&I!=null&&f(e,["parameters","compressionQuality"],I),n}function W1(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["_url","model"],st(t,l));const o=u(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=u(e,["image"]);s!=null&&f(n,["instances[0]","image"],Ps(s));const c=u(e,["video"]);c!=null&&f(n,["instances[0]","video"],X1(c));const m=u(e,["config"]);return m!=null&&f(n,["config"],Q1(m,n)),n}function j1(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function ek(t){const e={},n=u(t,["data"]);n!=null&&f(e,["data"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function tk(t){const e={},n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function nk(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],j1(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],ek(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],tk(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function ik(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>nk(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function lk(t){const e={},n=u(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function rk(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const l=u(t,["urlRetrievalStatus"]);return l!=null&&f(e,["urlRetrievalStatus"],l),e}function ok(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>rk(o))),f(e,["urlMetadata"],l)}return e}function ak(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],ik(n));const l=u(t,["citationMetadata"]);l!=null&&f(e,["citationMetadata"],lk(l));const o=u(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const s=u(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],ok(c));const m=u(t,["avgLogprobs"]);m!=null&&f(e,["avgLogprobs"],m);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const h=u(t,["index"]);h!=null&&f(e,["index"],h);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const x=u(t,["safetyRatings"]);return x!=null&&f(e,["safetyRatings"],x),e}function qy(t){const e={},n=u(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(m=>ak(m))),f(e,["candidates"],c)}const l=u(t,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const o=u(t,["promptFeedback"]);o!=null&&f(e,["promptFeedback"],o);const s=u(t,["usageMetadata"]);return s!=null&&f(e,["usageMetadata"],s),e}function sk(t){const e={},n=u(t,["values"]);return n!=null&&f(e,["values"],n),e}function uk(){return{}}function ck(t){const e={},n=u(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>sk(s))),f(e,["embeddings"],o)}return u(t,["metadata"])!=null&&f(e,["metadata"],uk()),e}function fk(t){const e={},n=u(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],gi(n));const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function v0(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const l=u(t,["safetyAttributes","scores"]);l!=null&&f(e,["scores"],l);const o=u(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function dk(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],fk(n));const l=u(t,["raiFilteredReason"]);l!=null&&f(e,["raiFilteredReason"],l);const o=u(t,["_self"]);return o!=null&&f(e,["safetyAttributes"],v0(o)),e}function mk(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>dk(s))),f(e,["generatedImages"],o)}const l=u(t,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],v0(l)),e}function hk(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const l=u(t,["createTime"]);l!=null&&f(e,["createTime"],l);const o=u(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function zf(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["displayName"]);l!=null&&f(e,["displayName"],l);const o=u(t,["description"]);o!=null&&f(e,["description"],o);const s=u(t,["version"]);s!=null&&f(e,["version"],s);const c=u(t,["_self"]);c!=null&&f(e,["tunedModelInfo"],hk(c));const m=u(t,["inputTokenLimit"]);m!=null&&f(e,["inputTokenLimit"],m);const p=u(t,["outputTokenLimit"]);p!=null&&f(e,["outputTokenLimit"],p);const h=u(t,["supportedGenerationMethods"]);return h!=null&&f(e,["supportedActions"],h),e}function pk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const l=u(t,["_self"]);if(l!=null){let o=i0(l);Array.isArray(o)&&(o=o.map(s=>zf(s))),f(e,["models"],o)}return e}function gk(){return{}}function yk(t){const e={},n=u(t,["totalTokens"]);n!=null&&f(e,["totalTokens"],n);const l=u(t,["cachedContentTokenCount"]);return l!=null&&f(e,["cachedContentTokenCount"],l),e}function vk(t){const e={},n=u(t,["video","uri"]);n!=null&&f(e,["uri"],n);const l=u(t,["video","encodedVideo"]);l!=null&&f(e,["videoBytes"],gi(l));const o=u(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function xk(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],vk(n)),e}function Ck(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>xk(c))),f(e,["generatedVideos"],s)}const l=u(t,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function Tk(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["metadata"]);l!=null&&f(e,["metadata"],l);const o=u(t,["done"]);o!=null&&f(e,["done"],o);const s=u(t,["error"]);s!=null&&f(e,["error"],s);const c=u(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],Ck(c)),e}function Sk(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function bk(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["data"]);l!=null&&f(e,["data"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function _k(t){const e={},n=u(t,["displayName"]);n!=null&&f(e,["displayName"],n);const l=u(t,["fileUri"]);l!=null&&f(e,["fileUri"],l);const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Ak(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],Sk(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],bk(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],_k(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function Ek(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ak(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function Mk(t){const e={},n=u(t,["citations"]);return n!=null&&f(e,["citations"],n),e}function kk(t){const e={},n=u(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const l=u(t,["urlRetrievalStatus"]);return l!=null&&f(e,["urlRetrievalStatus"],l),e}function wk(t){const e={},n=u(t,["urlMetadata"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>kk(o))),f(e,["urlMetadata"],l)}return e}function Nk(t){const e={},n=u(t,["content"]);n!=null&&f(e,["content"],Ek(n));const l=u(t,["citationMetadata"]);l!=null&&f(e,["citationMetadata"],Mk(l));const o=u(t,["finishMessage"]);o!=null&&f(e,["finishMessage"],o);const s=u(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const c=u(t,["urlContextMetadata"]);c!=null&&f(e,["urlContextMetadata"],wk(c));const m=u(t,["avgLogprobs"]);m!=null&&f(e,["avgLogprobs"],m);const p=u(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const h=u(t,["index"]);h!=null&&f(e,["index"],h);const y=u(t,["logprobsResult"]);y!=null&&f(e,["logprobsResult"],y);const x=u(t,["safetyRatings"]);return x!=null&&f(e,["safetyRatings"],x),e}function Fy(t){const e={},n=u(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Nk(h))),f(e,["candidates"],p)}const l=u(t,["createTime"]);l!=null&&f(e,["createTime"],l);const o=u(t,["responseId"]);o!=null&&f(e,["responseId"],o);const s=u(t,["modelVersion"]);s!=null&&f(e,["modelVersion"],s);const c=u(t,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const m=u(t,["usageMetadata"]);return m!=null&&f(e,["usageMetadata"],m),e}function Rk(t){const e={},n=u(t,["truncated"]);n!=null&&f(e,["truncated"],n);const l=u(t,["token_count"]);return l!=null&&f(e,["tokenCount"],l),e}function Dk(t){const e={},n=u(t,["values"]);n!=null&&f(e,["values"],n);const l=u(t,["statistics"]);return l!=null&&f(e,["statistics"],Rk(l)),e}function Ik(t){const e={},n=u(t,["billableCharacterCount"]);return n!=null&&f(e,["billableCharacterCount"],n),e}function Uk(t){const e={},n=u(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Dk(s))),f(e,["embeddings"],o)}const l=u(t,["metadata"]);return l!=null&&f(e,["metadata"],Ik(l)),e}function Lk(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const l=u(t,["bytesBase64Encoded"]);l!=null&&f(e,["imageBytes"],gi(l));const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function x0(t){const e={},n=u(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const l=u(t,["safetyAttributes","scores"]);l!=null&&f(e,["scores"],l);const o=u(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function id(t){const e={},n=u(t,["_self"]);n!=null&&f(e,["image"],Lk(n));const l=u(t,["raiFilteredReason"]);l!=null&&f(e,["raiFilteredReason"],l);const o=u(t,["_self"]);o!=null&&f(e,["safetyAttributes"],x0(o));const s=u(t,["prompt"]);return s!=null&&f(e,["enhancedPrompt"],s),e}function Pk(t){const e={},n=u(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>id(s))),f(e,["generatedImages"],o)}const l=u(t,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],x0(l)),e}function Ok(t){const e={},n=u(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>id(o))),f(e,["generatedImages"],l)}return e}function zk(t){const e={},n=u(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>id(o))),f(e,["generatedImages"],l)}return e}function Vk(t){const e={},n=u(t,["endpoint"]);n!=null&&f(e,["name"],n);const l=u(t,["deployedModelId"]);return l!=null&&f(e,["deployedModelId"],l),e}function Bk(t){const e={},n=u(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const l=u(t,["createTime"]);l!=null&&f(e,["createTime"],l);const o=u(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function qk(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const l=u(t,["epoch"]);l!=null&&f(e,["epoch"],l);const o=u(t,["step"]);return o!=null&&f(e,["step"],o),e}function Vf(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["displayName"]);l!=null&&f(e,["displayName"],l);const o=u(t,["description"]);o!=null&&f(e,["description"],o);const s=u(t,["versionId"]);s!=null&&f(e,["version"],s);const c=u(t,["deployedModels"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(C=>Vk(C))),f(e,["endpoints"],x)}const m=u(t,["labels"]);m!=null&&f(e,["labels"],m);const p=u(t,["_self"]);p!=null&&f(e,["tunedModelInfo"],Bk(p));const h=u(t,["defaultCheckpointId"]);h!=null&&f(e,["defaultCheckpointId"],h);const y=u(t,["checkpoints"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(C=>qk(C))),f(e,["checkpoints"],x)}return e}function Fk(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const l=u(t,["_self"]);if(l!=null){let o=i0(l);Array.isArray(o)&&(o=o.map(s=>Vf(s))),f(e,["models"],o)}return e}function Gk(){return{}}function Hk(t){const e={},n=u(t,["totalTokens"]);return n!=null&&f(e,["totalTokens"],n),e}function $k(t){const e={},n=u(t,["tokensInfo"]);return n!=null&&f(e,["tokensInfo"],n),e}function Jk(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const l=u(t,["bytesBase64Encoded"]);l!=null&&f(e,["videoBytes"],gi(l));const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Yk(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],Jk(n)),e}function Kk(t){const e={},n=u(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>Yk(c))),f(e,["generatedVideos"],s)}const l=u(t,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function Zk(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["metadata"]);l!=null&&f(e,["metadata"],l);const o=u(t,["done"]);o!=null&&f(e,["done"],o);const s=u(t,["error"]);s!=null&&f(e,["error"],s);const c=u(t,["response"]);return c!=null&&f(e,["response"],Kk(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xk="Content-Type",Qk="X-Server-Timeout",Wk="User-Agent",Bf="x-goog-api-client",jk="1.8.0",ew=`google-genai-sdk/${jk}`,tw="v1beta1",nw="v1beta",Gy=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class iw{constructor(e){var n,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:tw,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:nw,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,l){const o=[this.getRequestUrlInternal(n)];return l&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,l);if(e.queryParams)for(const[c,m]of Object.entries(e.queryParams))o.searchParams.append(c,String(m));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,n){const l=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(n))typeof s=="object"?l[o]=Object.assign(Object.assign({},l[o]),s):s!==void 0&&(l[o]=s);return l}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,l);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,l){if(n&&n.timeout||l){const o=new AbortController,s=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),l&&l.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&lw(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:l})).then(async o=>(await Hy(o),new Df(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:l})).then(async o=>(await Hy(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return vr(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:m,value:p}=yield Ct(o.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=s.decode(p);try{const x=JSON.parse(h);if("error"in x){const C=JSON.parse(JSON.stringify(x.error)),T=C.status,E=C.code,k=`got status: ${T}. ${JSON.stringify(x)}`;if(E>=400&&E<600)throw new Us({message:k,status:E})}}catch(x){if(x.name==="ApiError")throw x}c+=h;let y=c.match(Gy);for(;y;){const x=y[1];try{const C=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ct(new Df(C)),c=c.slice(y[0].length),y=c.match(Gy)}catch(C){throw new Error(`exception parsing stream chunk ${x}. ${C}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},n=ew+" "+this.clientOptions.userAgentExtra;return e[Wk]=n,e[Bf]=n,e[Xk]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[l,o]of Object.entries(e.headers))n.append(l,o);e.timeout&&e.timeout>0&&n.append(Qk,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var l;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,c=await s.stat(e);o.sizeBytes=String(c.size);const m=(l=n==null?void 0:n.mimeType)!==null&&l!==void 0?l:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=m;const p=await this.fetchUploadUrl(o,n);return s.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var l;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},c=await this.request({path:Ee("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(l=c==null?void 0:c.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function Hy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let l;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await t.json():l={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(l);throw n>=400&&n<600?new Us({message:o,status:n}):new Error(o)}}function lw(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(s,c){const m=Object.assign({},s);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const h=c[p],y=m[p];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?m[p]=l(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),m[p]=h)}return m}const o=l(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rw="mcp_used/unknown";function C0(t){for(const e of t)if(ld(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function T0(t){var e;const n=(e=t[Bf])!==null&&e!==void 0?e:"";t[Bf]=(n+` ${rw}`).trimStart()}function ow(t){var e,n,l;return(l=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>ld(o)))!==null&&l!==void 0?l:!1}function aw(t){var e,n,l;return(l=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!ld(o)))!==null&&l!==void 0?l:!1}function ld(t){return t!==null&&typeof t=="object"&&t instanceof rd}function sw(t,e=100){return vr(this,arguments,function*(){let l,o=0;for(;o<e;){const s=yield Ct(t.listTools({cursor:l}));for(const c of s.tools)yield yield Ct(c),o++;if(!s.nextCursor)break;l=s.nextCursor}})}class rd{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new rd(e,n)}async initialize(){var e,n,l,o;if(this.mcpTools.length>0)return;const s={},c=[];for(const y of this.mcpClients)try{for(var m=!0,p=(n=void 0,Po(sw(y))),h;h=await p.next(),e=h.done,!e;m=!0){o=h.value,m=!1;const x=o;c.push(x);const C=x.name;if(s[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);s[C]=y}}catch(x){n={error:x}}finally{try{!m&&!e&&(l=p.return)&&await l.call(p)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),tb(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[l.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const c=await o.callTool({name:l.name,arguments:l.args},void 0,s);n.push({functionResponse:{name:l.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uw(t,e,n){const l=new HS;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const s=yM(o);Object.assign(l,s),e(l)}class cw{constructor(e,n,l){this.apiClient=e,this.auth=n,this.webSocketFactory=l}async connect(e){var n,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),c=mw(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${m}`;let h=()=>{};const y=new Promise(L=>{h=L}),x=e.callbacks,C=function(){h({})},T=this.apiClient,E={onopen:C,onmessage:L=>{uw(T,x.onmessage,L)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(L){},onclose:(l=x==null?void 0:x.onclose)!==null&&l!==void 0?l:function(L){}},k=this.webSocketFactory.create(p,dw(c),E);k.connect(),await y;const I=st(this.apiClient,e.model),N=h0({model:I}),z=Of({setup:N});return k.send(JSON.stringify(z)),new fw(k,this.apiClient)}}class fw{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=RE(e),l=p0(n);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=DE(e),l=Of(n);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const n=Of({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(gr.PLAY)}pause(){this.sendPlaybackControl(gr.PAUSE)}stop(){this.sendPlaybackControl(gr.STOP)}resetContext(){this.sendPlaybackControl(gr.RESET_CONTEXT)}close(){this.conn.close()}}function dw(t){const e={};return t.forEach((n,l)=>{e[l]=n}),e}function mw(t){const e=new Headers;for(const[n,l]of Object.entries(t))e.append(n,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pw(t,e,n){const l=new GS;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(t.isVertexAI()){const c=sM(s);Object.assign(l,c)}else{const c=aM(s);Object.assign(l,c)}e(l)}class gw{constructor(e,n,l){this.apiClient=e,this.auth=n,this.webSocketFactory=l,this.music=new cw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,l,o,s,c,m;const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const x=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&C0(e.config.tools)&&T0(x);const C=Cw(x);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const oe=this.apiClient.getApiKey();let P="BidiGenerateContent",ee="key";oe!=null&&oe.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),P="BidiGenerateContentConstrained",ee="access_token"),y=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${P}?${ee}=${oe}`}let T=()=>{};const E=new Promise(oe=>{T=oe}),k=e.callbacks,I=function(){var oe;(oe=k==null?void 0:k.onopen)===null||oe===void 0||oe.call(k),T({})},N=this.apiClient,z={onopen:I,onmessage:oe=>{pw(N,k.onmessage,oe)},onerror:(n=k==null?void 0:k.onerror)!==null&&n!==void 0?n:function(oe){},onclose:(l=k==null?void 0:k.onclose)!==null&&l!==void 0?l:function(oe){}},L=this.webSocketFactory.create(y,xw(C),z);L.connect(),await E;let J=st(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const oe=this.apiClient.getProject(),P=this.apiClient.getLocation();J=`projects/${oe}/locations/${P}/`+J}let $={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[As.AUDIO]}:e.config.responseModalities=[As.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(m=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&m!==void 0?m:[],ie=[];for(const oe of R)if(this.isCallableTool(oe)){const P=oe;ie.push(await P.tool())}else ie.push(oe);ie.length>0&&(e.config.tools=ie);const j={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?$=_E(this.apiClient,j):$=bE(this.apiClient,j),delete $.config,L.send(JSON.stringify($)),new vw(L,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yw={turnComplete:!0};class vw{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let l=[];try{l=In(n.turns),e.isVertexAI()?l=l.map(o=>wr(o)):l=l.map(o=>Ls(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:l,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let l=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?l=n.functionResponses:l=[n.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const s of l){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(hw)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},yw),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:NE(e)}:n={realtimeInput:wE(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function xw(t){const e={};return t.forEach((n,l)=>{e[l]=n}),e}function Cw(t){const e=new Headers;for(const[n,l]of Object.entries(t))e.append(n,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $y=10;function Jy(t){var e,n,l;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(gs(c)){o=!0;break}if(!o)return!0;const s=(l=t==null?void 0:t.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function gs(t){return"callTool"in t&&typeof t.callTool=="function"}function Yy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tw extends Sl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var l,o,s,c,m;const p=await this.processParamsForMcpUsage(n);if(!ow(n)||Jy(n.config))return await this.generateContentInternal(p);if(aw(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,y;const x=In(p.contents),C=(s=(o=(l=p.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:$y;let T=0;for(;T<C&&(h=await this.generateContentInternal(p),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,k=[];for(const I of(m=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&m!==void 0?m:[])if(gs(I)){const z=await I.callTool(h.functionCalls);k.push(...z)}T++,y={role:"user",parts:k},p.contents=In(p.contents),p.contents.push(E),p.contents.push(y),Yy(p.config)&&(x.push(E),x.push(y))}return Yy(p.config)&&(h.automaticFunctionCallingHistory=x),h},this.generateContentStream=async n=>{if(Jy(n.config)){const l=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(l=>{var o;let s;const c=[];if(l!=null&&l.generatedImages)for(const p of l.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=p==null?void 0:p.safetyAttributes:c.push(p);let m;return s?m={generatedImages:c,positivePromptSafetyAttributes:s}:m={generatedImages:c},m}),this.list=async n=>{var l;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((l=c.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Ho(Cl.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(c),c)},this.editImage=async n=>{const l={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(l.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async n=>{let l={numberOfImages:1,mode:"upscale"};n.config&&(l=Object.assign(Object.assign({},l),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:l};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var n,l,o;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const c=await Promise.all(s.map(async p=>gs(p)?await p.tool():p)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(m.config.tools=c,e.config&&e.config.tools&&C0(e.config.tools)){const p=(o=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&o!==void 0?o:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),T0(h),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return m}async initAfcToolsMap(e){var n,l,o;const s=new Map;for(const c of(l=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&l!==void 0?l:[])if(gs(c)){const m=c,p=await m.tool();for(const h of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!h.name)throw new Error("Function declaration name is required.");if(s.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);s.set(h.name,m)}}return s}async processAfcStream(e){var n,l,o;const s=(o=(l=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:$y;let c=!1,m=0;const p=await this.initAfcToolsMap(e);return function(h,y,x){var C,T;return vr(this,arguments,function*(){for(var E,k,I,N;m<s;){c&&(m++,c=!1);const $=yield Ct(h.processParamsForMcpUsage(x)),R=yield Ct(h.generateContentStreamInternal($)),ie=[],j=[];try{for(var z=!0,L=(k=void 0,Po(R)),J;J=yield Ct(L.next()),E=J.done,!E;z=!0){N=J.value,z=!1;const oe=N;if(yield yield Ct(oe),oe.candidates&&(!((C=oe.candidates[0])===null||C===void 0)&&C.content)){j.push(oe.candidates[0].content);for(const P of(T=oe.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(m<s&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(P.functionCall.name)){const ee=yield Ct(y.get(P.functionCall.name).callTool([P.functionCall]));ie.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(oe){k={error:oe}}finally{try{!z&&!E&&(I=L.return)&&(yield Ct(I.call(L)))}finally{if(k)throw k.error}}if(ie.length>0){c=!0;const oe=new wo;oe.candidates=[{content:{role:"user",parts:ie}}],yield yield Ct(oe);const P=[];P.push(...j),P.push({role:"user",parts:ie});const ee=In(x.contents).concat(P);x.contents=ee}else break}})}(this,p,e)}async generateContentInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=By(this.apiClient,e);return m=Ee("{model}:generateContent",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const x=Fy(y),C=new wo;return Object.assign(C,x),C})}else{const h=Vy(this.apiClient,e);return m=Ee("{model}:generateContent",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const x=qy(y),C=new wo;return Object.assign(C,x),C})}}async generateContentStreamInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=By(this.apiClient,e);return m=Ee("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.requestStream({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(x){return vr(this,arguments,function*(){var C,T,E,k;try{for(var I=!0,N=Po(x),z;z=yield Ct(N.next()),C=z.done,!C;I=!0){k=z.value,I=!1;const J=Fy(yield Ct(k.json())),$=new wo;Object.assign($,J),yield yield Ct($)}}catch(L){T={error:L}}finally{try{!I&&!C&&(E=N.return)&&(yield Ct(E.call(N)))}finally{if(T)throw T.error}}})})}else{const h=Vy(this.apiClient,e);return m=Ee("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.requestStream({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(x){return vr(this,arguments,function*(){var C,T,E,k;try{for(var I=!0,N=Po(x),z;z=yield Ct(N.next()),C=z.done,!C;I=!0){k=z.value,I=!1;const J=qy(yield Ct(k.json())),$=new wo;Object.assign($,J),yield yield Ct($)}}catch(L){T={error:L}}finally{try{!I&&!C&&(E=N.return)&&(yield Ct(E.call(N)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=w1(this.apiClient,e);return m=Ee("{model}:predict",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const x=Uk(y),C=new vy;return Object.assign(C,x),C})}else{const h=FM(this.apiClient,e);return m=Ee("{model}:batchEmbedContents",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const x=ck(y),C=new vy;return Object.assign(C,x),C})}}async generateImagesInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=R1(this.apiClient,e);return m=Ee("{model}:predict",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const x=Pk(y),C=new xy;return Object.assign(C,x),C})}else{const h=HM(this.apiClient,e);return m=Ee("{model}:predict",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const x=mk(y),C=new xy;return Object.assign(C,x),C})}}async editImageInternal(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI()){const m=z1(this.apiClient,e);return s=Ee("{model}:predict",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(p=>{const h=Ok(p),y=new OS;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI()){const m=B1(this.apiClient,e);return s=Ee("{model}:predict",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(p=>{const h=zk(p),y=new zS;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=q1(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Vf(y))}else{const h=$M(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>zf(y))}}async listInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=G1(this.apiClient,e);return m=Ee("{models_url}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const x=Fk(y),C=new Cy;return Object.assign(C,x),C})}else{const h=YM(this.apiClient,e);return m=Ee("{models_url}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const x=pk(y),C=new Cy;return Object.assign(C,x),C})}}async update(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=$1(this.apiClient,e);return m=Ee("{model}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Vf(y))}else{const h=ZM(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>zf(y))}}async delete(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=J1(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=Gk(),x=new Ty;return Object.assign(x,y),x})}else{const h=XM(this.apiClient,e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(()=>{const y=gk(),x=new Ty;return Object.assign(x,y),x})}}async countTokens(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=K1(this.apiClient,e);return m=Ee("{model}:countTokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const x=Hk(y),C=new Sy;return Object.assign(C,x),C})}else{const h=WM(this.apiClient,e);return m=Ee("{model}:countTokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const x=yk(y),C=new Sy;return Object.assign(C,x),C})}}async computeTokens(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI()){const m=Z1(this.apiClient,e);return s=Ee("{model}:computeTokens",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(p=>{const h=$k(p),y=new VS;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=W1(this.apiClient,e);return m=Ee("{model}:predictLongRunning",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Zk(y))}else{const h=t1(this.apiClient,e);return m=Ee("{model}:predictLongRunning",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Tk(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sw(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const l=u(t,["config"]);return l!=null&&f(e,["config"],l),e}function bw(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const l=u(t,["config"]);return l!=null&&f(e,["config"],l),e}function _w(t){const e={},n=u(t,["operationName"]);n!=null&&f(e,["operationName"],n);const l=u(t,["resourceName"]);l!=null&&f(e,["_url","resourceName"],l);const o=u(t,["config"]);return o!=null&&f(e,["config"],o),e}function Aw(t){const e={},n=u(t,["video","uri"]);n!=null&&f(e,["uri"],n);const l=u(t,["video","encodedVideo"]);l!=null&&f(e,["videoBytes"],gi(l));const o=u(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function Ew(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],Aw(n)),e}function Mw(t){const e={},n=u(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>Ew(c))),f(e,["generatedVideos"],s)}const l=u(t,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function kw(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["metadata"]);l!=null&&f(e,["metadata"],l);const o=u(t,["done"]);o!=null&&f(e,["done"],o);const s=u(t,["error"]);s!=null&&f(e,["error"],s);const c=u(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],Mw(c)),e}function ww(t){const e={},n=u(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const l=u(t,["bytesBase64Encoded"]);l!=null&&f(e,["videoBytes"],gi(l));const o=u(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Nw(t){const e={},n=u(t,["_self"]);return n!=null&&f(e,["video"],ww(n)),e}function Rw(t){const e={},n=u(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>Nw(c))),f(e,["generatedVideos"],s)}const l=u(t,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const o=u(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function Ky(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["metadata"]);l!=null&&f(e,["metadata"],l);const o=u(t,["done"]);o!=null&&f(e,["done"],o);const s=u(t,["error"]);s!=null&&f(e,["error"],s);const c=u(t,["response"]);return c!=null&&f(e,["response"],Rw(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dw extends Sl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,l=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;return l&&"httpOptions"in l&&(s=l.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:n.name,config:l})}async getVideosOperationInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=bw(e);return m=Ee("{operationName}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Ky(y))}else{const h=Sw(e);return m=Ee("{operationName}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>kw(y))}}async fetchPredictVideosOperationInternal(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI()){const m=_w(e);return s=Ee("{resourceName}:fetchPredictOperation",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(p=>Ky(p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iw(t){const e={},n=u(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function S0(t){const e={},n=u(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],Iw(n)),e}function Uw(t){const e={},n=u(t,["speaker"]);n!=null&&f(e,["speaker"],n);const l=u(t,["voiceConfig"]);return l!=null&&f(e,["voiceConfig"],S0(l)),e}function Lw(t){const e={},n=u(t,["speakerVoiceConfigs"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>Uw(o))),f(e,["speakerVoiceConfigs"],l)}return e}function Pw(t){const e={},n=u(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],S0(n));const l=u(t,["multiSpeakerVoiceConfig"]);l!=null&&f(e,["multiSpeakerVoiceConfig"],Lw(l));const o=u(t,["languageCode"]);return o!=null&&f(e,["languageCode"],o),e}function Ow(t){const e={},n=u(t,["fps"]);n!=null&&f(e,["fps"],n);const l=u(t,["endOffset"]);l!=null&&f(e,["endOffset"],l);const o=u(t,["startOffset"]);return o!=null&&f(e,["startOffset"],o),e}function zw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["data"]);n!=null&&f(e,["data"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Vw(t){const e={};if(u(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const l=u(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Bw(t){const e={},n=u(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],Ow(n));const l=u(t,["thought"]);l!=null&&f(e,["thought"],l);const o=u(t,["inlineData"]);o!=null&&f(e,["inlineData"],zw(o));const s=u(t,["fileData"]);s!=null&&f(e,["fileData"],Vw(s));const c=u(t,["thoughtSignature"]);c!=null&&f(e,["thoughtSignature"],c);const m=u(t,["codeExecutionResult"]);m!=null&&f(e,["codeExecutionResult"],m);const p=u(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const h=u(t,["functionCall"]);h!=null&&f(e,["functionCall"],h);const y=u(t,["functionResponse"]);y!=null&&f(e,["functionResponse"],y);const x=u(t,["text"]);return x!=null&&f(e,["text"],x),e}function qw(t){const e={},n=u(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Bw(s))),f(e,["parts"],o)}const l=u(t,["role"]);return l!=null&&f(e,["role"],l),e}function Fw(t){const e={},n=u(t,["behavior"]);n!=null&&f(e,["behavior"],n);const l=u(t,["description"]);l!=null&&f(e,["description"],l);const o=u(t,["name"]);o!=null&&f(e,["name"],o);const s=u(t,["parameters"]);s!=null&&f(e,["parameters"],s);const c=u(t,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const m=u(t,["response"]);m!=null&&f(e,["response"],m);const p=u(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function Gw(t){const e={},n=u(t,["startTime"]);n!=null&&f(e,["startTime"],n);const l=u(t,["endTime"]);return l!=null&&f(e,["endTime"],l),e}function Hw(t){const e={},n=u(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],Gw(n)),e}function $w(t){const e={},n=u(t,["mode"]);n!=null&&f(e,["mode"],n);const l=u(t,["dynamicThreshold"]);return l!=null&&f(e,["dynamicThreshold"],l),e}function Jw(t){const e={},n=u(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],$w(n)),e}function Yw(){return{}}function Kw(t){const e={},n=u(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Fw(h))),f(e,["functionDeclarations"],p)}if(u(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],Hw(l));const o=u(t,["googleSearchRetrieval"]);if(o!=null&&f(e,["googleSearchRetrieval"],Jw(o)),u(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(t,["urlContext"])!=null&&f(e,["urlContext"],Yw());const c=u(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const m=u(t,["computerUse"]);return m!=null&&f(e,["computerUse"],m),e}function Zw(t){const e={},n=u(t,["handle"]);if(n!=null&&f(e,["handle"],n),u(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zy(){return{}}function Xw(t){const e={},n=u(t,["disabled"]);n!=null&&f(e,["disabled"],n);const l=u(t,["startOfSpeechSensitivity"]);l!=null&&f(e,["startOfSpeechSensitivity"],l);const o=u(t,["endOfSpeechSensitivity"]);o!=null&&f(e,["endOfSpeechSensitivity"],o);const s=u(t,["prefixPaddingMs"]);s!=null&&f(e,["prefixPaddingMs"],s);const c=u(t,["silenceDurationMs"]);return c!=null&&f(e,["silenceDurationMs"],c),e}function Qw(t){const e={},n=u(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],Xw(n));const l=u(t,["activityHandling"]);l!=null&&f(e,["activityHandling"],l);const o=u(t,["turnCoverage"]);return o!=null&&f(e,["turnCoverage"],o),e}function Ww(t){const e={},n=u(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function jw(t){const e={},n=u(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const l=u(t,["slidingWindow"]);return l!=null&&f(e,["slidingWindow"],Ww(l)),e}function eN(t){const e={},n=u(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function tN(t,e){const n={},l=u(t,["generationConfig"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig"],l);const o=u(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const s=u(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const c=u(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const m=u(t,["topK"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topK"],m);const p=u(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const h=u(t,["mediaResolution"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","mediaResolution"],h);const y=u(t,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const x=u(t,["speechConfig"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","speechConfig"],Pw(nd(x)));const C=u(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],C);const T=u(t,["systemInstruction"]);e!==void 0&&T!=null&&f(e,["setup","systemInstruction"],qw(Zt(T)));const E=u(t,["tools"]);if(e!==void 0&&E!=null){let $=Mr(E);Array.isArray($)&&($=$.map(R=>Kw(Er(R)))),f(e,["setup","tools"],$)}const k=u(t,["sessionResumption"]);e!==void 0&&k!=null&&f(e,["setup","sessionResumption"],Zw(k));const I=u(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&f(e,["setup","inputAudioTranscription"],Zy());const N=u(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&f(e,["setup","outputAudioTranscription"],Zy());const z=u(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],Qw(z));const L=u(t,["contextWindowCompression"]);e!==void 0&&L!=null&&f(e,["setup","contextWindowCompression"],jw(L));const J=u(t,["proactivity"]);return e!==void 0&&J!=null&&f(e,["setup","proactivity"],eN(J)),n}function nN(t,e){const n={},l=u(e,["model"]);l!=null&&f(n,["setup","model"],st(t,l));const o=u(e,["config"]);return o!=null&&f(n,["config"],tN(o,n)),n}function iN(t,e,n){const l={},o=u(e,["expireTime"]);n!==void 0&&o!=null&&f(n,["expireTime"],o);const s=u(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&f(n,["newSessionExpireTime"],s);const c=u(e,["uses"]);n!==void 0&&c!=null&&f(n,["uses"],c);const m=u(e,["liveConnectConstraints"]);n!==void 0&&m!=null&&f(n,["bidiGenerateContentSetup"],nN(t,m));const p=u(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&f(n,["fieldMask"],p),l}function lN(t,e){const n={},l=u(e,["config"]);return l!=null&&f(n,["config"],iN(t,l,n)),n}function rN(t){const e={},n=u(t,["name"]);return n!=null&&f(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oN(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const l=t[n];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const o=Object.keys(l).map(s=>`${n}.${s}`);e.push(...o)}else e.push(n)}return e.join(",")}function aN(t,e){let n=null;const l=t.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const s=l.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else l!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const s=oN(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];o.length>0&&(m=o.map(h=>c.includes(h)?`generationConfig.${h}`:h));const p=[];s&&p.push(s),m.length>0&&p.push(...m),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class sN extends Sl{constructor(e){super(),this.apiClient=e}async create(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=lN(this.apiClient,e);s=Ee("auth_tokens",m._url),c=m._query,delete m.config,delete m._url,delete m._query;const p=aN(m,e.config);return o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),o.then(h=>rN(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uN(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const l=u(t,["config"]);return l!=null&&f(e,["config"],l),e}function cN(t,e){const n={},l=u(t,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const s=u(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function fN(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],cN(n,e)),e}function dN(t){const e={},n=u(t,["textInput"]);n!=null&&f(e,["textInput"],n);const l=u(t,["output"]);return l!=null&&f(e,["output"],l),e}function mN(t){const e={};if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=u(t,["examples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>dN(o))),f(e,["examples","examples"],l)}return e}function hN(t,e){const n={};if(u(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=u(t,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&f(e,["displayName"],l),u(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(t,["epochCount"]);e!==void 0&&o!=null&&f(e,["tuningTask","hyperparameters","epochCount"],o);const s=u(t,["learningRateMultiplier"]);if(s!=null&&f(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),u(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=u(t,["batchSize"]);e!==void 0&&c!=null&&f(e,["tuningTask","hyperparameters","batchSize"],c);const m=u(t,["learningRate"]);return e!==void 0&&m!=null&&f(e,["tuningTask","hyperparameters","learningRate"],m),n}function pN(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const l=u(t,["trainingDataset"]);l!=null&&f(e,["tuningTask","trainingData"],mN(l));const o=u(t,["config"]);return o!=null&&f(e,["config"],hN(o,e)),e}function gN(t){const e={},n=u(t,["name"]);n!=null&&f(e,["_url","name"],n);const l=u(t,["config"]);return l!=null&&f(e,["config"],l),e}function yN(t,e){const n={},l=u(t,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const o=u(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const s=u(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function vN(t){const e={},n=u(t,["config"]);return n!=null&&f(e,["config"],yN(n,e)),e}function xN(t,e){const n={},l=u(t,["gcsUri"]);e!==void 0&&l!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],l);const o=u(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],o),u(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function CN(t,e){const n={},l=u(t,["gcsUri"]);l!=null&&f(n,["validationDatasetUri"],l);const o=u(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function TN(t,e){const n={},l=u(t,["validationDataset"]);e!==void 0&&l!=null&&f(e,["supervisedTuningSpec"],CN(l,n));const o=u(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&f(e,["tunedModelDisplayName"],o);const s=u(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const c=u(t,["epochCount"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const m=u(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const p=u(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const h=u(t,["adapterSize"]);if(e!==void 0&&h!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),u(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function SN(t){const e={},n=u(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const l=u(t,["trainingDataset"]);l!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],xN(l,e));const o=u(t,["config"]);return o!=null&&f(e,["config"],TN(o,e)),e}function bN(t){const e={},n=u(t,["name"]);n!=null&&f(e,["model"],n);const l=u(t,["name"]);return l!=null&&f(e,["endpoint"],l),e}function b0(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["state"]);l!=null&&f(e,["state"],e0(l));const o=u(t,["createTime"]);o!=null&&f(e,["createTime"],o);const s=u(t,["tuningTask","startTime"]);s!=null&&f(e,["startTime"],s);const c=u(t,["tuningTask","completeTime"]);c!=null&&f(e,["endTime"],c);const m=u(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const p=u(t,["description"]);p!=null&&f(e,["description"],p);const h=u(t,["baseModel"]);h!=null&&f(e,["baseModel"],h);const y=u(t,["_self"]);y!=null&&f(e,["tunedModel"],bN(y));const x=u(t,["distillationSpec"]);x!=null&&f(e,["distillationSpec"],x);const C=u(t,["experiment"]);C!=null&&f(e,["experiment"],C);const T=u(t,["labels"]);T!=null&&f(e,["labels"],T);const E=u(t,["pipelineJob"]);E!=null&&f(e,["pipelineJob"],E);const k=u(t,["satisfiesPzi"]);k!=null&&f(e,["satisfiesPzi"],k);const I=u(t,["satisfiesPzs"]);I!=null&&f(e,["satisfiesPzs"],I);const N=u(t,["serviceAccount"]);N!=null&&f(e,["serviceAccount"],N);const z=u(t,["tunedModelDisplayName"]);return z!=null&&f(e,["tunedModelDisplayName"],z),e}function _N(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const l=u(t,["tunedModels"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>b0(s))),f(e,["tuningJobs"],o)}return e}function AN(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["metadata"]);l!=null&&f(e,["metadata"],l);const o=u(t,["done"]);o!=null&&f(e,["done"],o);const s=u(t,["error"]);return s!=null&&f(e,["error"],s),e}function EN(t){const e={},n=u(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const l=u(t,["epoch"]);l!=null&&f(e,["epoch"],l);const o=u(t,["step"]);o!=null&&f(e,["step"],o);const s=u(t,["endpoint"]);return s!=null&&f(e,["endpoint"],s),e}function MN(t){const e={},n=u(t,["model"]);n!=null&&f(e,["model"],n);const l=u(t,["endpoint"]);l!=null&&f(e,["endpoint"],l);const o=u(t,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>EN(c))),f(e,["checkpoints"],s)}return e}function qf(t){const e={},n=u(t,["name"]);n!=null&&f(e,["name"],n);const l=u(t,["state"]);l!=null&&f(e,["state"],e0(l));const o=u(t,["createTime"]);o!=null&&f(e,["createTime"],o);const s=u(t,["startTime"]);s!=null&&f(e,["startTime"],s);const c=u(t,["endTime"]);c!=null&&f(e,["endTime"],c);const m=u(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const p=u(t,["error"]);p!=null&&f(e,["error"],p);const h=u(t,["description"]);h!=null&&f(e,["description"],h);const y=u(t,["baseModel"]);y!=null&&f(e,["baseModel"],y);const x=u(t,["tunedModel"]);x!=null&&f(e,["tunedModel"],MN(x));const C=u(t,["supervisedTuningSpec"]);C!=null&&f(e,["supervisedTuningSpec"],C);const T=u(t,["tuningDataStats"]);T!=null&&f(e,["tuningDataStats"],T);const E=u(t,["encryptionSpec"]);E!=null&&f(e,["encryptionSpec"],E);const k=u(t,["partnerModelTuningSpec"]);k!=null&&f(e,["partnerModelTuningSpec"],k);const I=u(t,["distillationSpec"]);I!=null&&f(e,["distillationSpec"],I);const N=u(t,["experiment"]);N!=null&&f(e,["experiment"],N);const z=u(t,["labels"]);z!=null&&f(e,["labels"],z);const L=u(t,["pipelineJob"]);L!=null&&f(e,["pipelineJob"],L);const J=u(t,["satisfiesPzi"]);J!=null&&f(e,["satisfiesPzi"],J);const $=u(t,["satisfiesPzs"]);$!=null&&f(e,["satisfiesPzs"],$);const R=u(t,["serviceAccount"]);R!=null&&f(e,["serviceAccount"],R);const ie=u(t,["tunedModelDisplayName"]);return ie!=null&&f(e,["tunedModelDisplayName"],ie),e}function kN(t){const e={},n=u(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const l=u(t,["tuningJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>qf(s))),f(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wN extends Sl{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ho(Cl.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const l=await this.tuneMldevInternal(n);let o="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?o=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(o=l.name.split("/operations/")[0]),{name:o,state:Rf.JOB_STATE_QUEUED}}}}async getInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=gN(e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>qf(y))}else{const h=uN(e);return m=Ee("{name}",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>b0(y))}}async listInternal(e){var n,l,o,s;let c,m="",p={};if(this.apiClient.isVertexAI()){const h=vN(e);return m=Ee("tuningJobs",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const x=kN(y),C=new by;return Object.assign(C,x),C})}else{const h=fN(e);return m=Ee("tunedModels",h._url),p=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const x=_N(y),C=new by;return Object.assign(C,x),C})}}async tuneInternal(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI()){const m=SN(e);return s=Ee("tuningJobs",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(p=>qf(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,l;let o,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=pN(e);return s=Ee("tunedModels",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),o.then(p=>AN(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NN{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const RN=1024*1024*8,DN=3,IN=1e3,UN=2,rf="x-goog-upload-status";async function LN(t,e,n){var l,o,s;let c=0,m=0,p=new Df(new Response),h="upload";for(c=t.size;m<c;){const x=Math.min(RN,c-m),C=t.slice(m,m+x);m+x>=c&&(h+=", finalize");let T=0,E=IN;for(;T<DN&&(p=await n.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(m),"Content-Length":String(x)}}}),!(!((l=p==null?void 0:p.headers)===null||l===void 0)&&l[rf]));)T++,await ON(E),E=E*UN;if(m+=x,((o=p==null?void 0:p.headers)===null||o===void 0?void 0:o[rf])!=="active")break;if(c<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(p==null?void 0:p.json());if(((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[rf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function PN(t){return{size:t.size,type:t.type}}function ON(t){return new Promise(e=>setTimeout(e,t))}class zN{async upload(e,n,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LN(e,n,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await PN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VN{create(e,n,l){return new BN(e,n,l)}}class BN{constructor(e,n,l){this.url=e,this.headers=n,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xy="x-goog-api-key";class qN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Xy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Xy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FN="gl-node/";class GN{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const l=PS(e,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const o=new qN(this.apiKey);this.apiClient=new iw({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:FN+"web",uploader:new zN,downloader:new NN}),this.models=new Tw(this.apiClient),this.live=new gw(this.apiClient,o,new VN),this.batches=new c_(this.apiClient),this.chats=new hA(this.models,this.apiClient),this.caches=new fA(this.apiClient),this.files=new MA(this.apiClient),this.operations=new Dw(this.apiClient),this.authTokens=new sN(this.apiClient),this.tunings=new wN(this.apiClient)}}class HN{constructor(e,n="https://generativelanguage.googleapis.com"){this.apiKey=e,this.baseURL=n.replace(/\/$/,"")}async listModels(){const e=`${this.baseURL}/v1beta/models`;console.log("Custom Gemini Client - Listing models from:",e);const n=[{name:"Query Parameter (key)",url:`${e}?key=${this.apiKey}`,headers:{"Content-Type":"application/json"}},{name:"Authorization Bearer",url:e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}},{name:"Query Parameter (api_key)",url:`${e}?api_key=${this.apiKey}`,headers:{"Content-Type":"application/json"}}];for(const l of n){console.log(`Custom Gemini Client - Trying ${l.name} for model listing...`);try{const o=await fetch(l.url,{method:"GET",headers:l.headers});if(console.log(`Custom Gemini Client - ${l.name} - Response status:`,o.status),o.ok){const s=await o.json();return console.log(`Custom Gemini Client - ${l.name} - Success! Models:`,s),s.models&&Array.isArray(s.models)?s.models:Array.isArray(s)?s:(console.log(`Custom Gemini Client - ${l.name} - Unexpected response format:`,s),[])}else{const s=await o.text();if(console.log(`Custom Gemini Client - ${l.name} - Error response:`,s),o.status===401||o.status===403)continue}}catch(o){console.log(`Custom Gemini Client - ${l.name} - Request failed:`,o)}}throw new Error("所有认证方式都失败了，无法获取模型列表")}async generateContent(e,n,l=!1){const o=e.startsWith("models/")?e:`models/${e}`,s=l?"streamGenerateContent":"generateContent",c=`${this.baseURL}/v1beta/${o}:${s}`;console.log("Custom Gemini Client - Making request to:",c),console.log("Custom Gemini Client - Model:",e,"-> Clean model:",o),console.log("Custom Gemini Client - Stream mode:",l),console.log("Custom Gemini Client - Request data:",JSON.stringify(n,null,2));const m=l?"&alt=sse":"",p=[{name:"Query Parameter (key)",url:`${c}?key=${this.apiKey}${m}`,headers:{"Content-Type":"application/json"}},{name:"Authorization Bearer",url:`${c}${l?"?alt=sse":""}`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}},{name:"Query Parameter (api_key)",url:`${c}?api_key=${this.apiKey}${m}`,headers:{"Content-Type":"application/json"}}];for(const h of p){console.log(`Custom Gemini Client - Trying ${h.name}...`),console.log("Custom Gemini Client - URL:",h.url),console.log("Custom Gemini Client - Headers:",h.headers);try{const y=await fetch(h.url,{method:"POST",headers:h.headers,body:JSON.stringify(n)});if(console.log(`Custom Gemini Client - ${h.name} - Response status:`,y.status),console.log(`Custom Gemini Client - ${h.name} - Response headers:`,Object.fromEntries(y.headers.entries())),y.ok){if(l)return await this.handleStreamResponse(y);{const x=await y.json();if(console.log(`Custom Gemini Client - ${h.name} - SUCCESS!`),console.log("Custom Gemini Client - Success response:",JSON.stringify(x,null,2)),!x.candidates||x.candidates.length===0)throw new Error("No candidates in response");const C=x.candidates[0];if(!C.content||!C.content.parts||C.content.parts.length===0)throw new Error("No content in candidate");return{text:C.content.parts[0].text,usageMetadata:x.usageMetadata}}}else{const x=await y.text();console.warn(`Custom Gemini Client - ${h.name} - Failed with status ${y.status}:`,x)}}catch(y){console.warn(`Custom Gemini Client - ${h.name} - Error:`,y)}}throw new Error("All authentication methods failed. Please check your API key and proxy service configuration.")}async handleStreamResponse(e){var c;const n=(c=e.body)==null?void 0:c.getReader();if(!n)throw new Error("No response body reader available");const l=new TextDecoder;let o="",s;try{for(;;){const{done:m,value:p}=await n.read();if(m)break;const y=l.decode(p,{stream:!0}).split(`
`);for(const x of y)if(x.startsWith("data: ")){const C=x.slice(6);if(C==="[DONE]")break;try{const T=JSON.parse(C);if(T.candidates&&T.candidates[0]&&T.candidates[0].content){const E=T.candidates[0].content;E.parts&&E.parts[0]&&E.parts[0].text&&(o+=E.parts[0].text)}T.usageMetadata&&(s=T.usageMetadata)}catch{console.warn("Failed to parse stream chunk:",C)}}}return{text:o,usageMetadata:s}}finally{n.releaseLock()}}async streamGenerateContent(e,n,l){var m;const o=e.startsWith("models/")?e:`models/${e}`,s=`${this.baseURL}/v1beta/${o}:streamGenerateContent`;console.log("Custom Gemini Client - Making stream request to:",s),console.log("Custom Gemini Client - Model:",e,"-> Clean model:",o);const c=[{name:"Query Parameter (key)",url:`${s}?key=${this.apiKey}&alt=sse`,headers:{"Content-Type":"application/json"}},{name:"Authorization Bearer",url:`${s}?alt=sse`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}},{name:"Query Parameter (api_key)",url:`${s}?api_key=${this.apiKey}&alt=sse`,headers:{"Content-Type":"application/json"}}];for(const p of c){console.log(`Custom Gemini Client - Trying stream ${p.name}...`);try{const h=await fetch(p.url,{method:"POST",headers:p.headers,body:JSON.stringify(n)});if(h.ok){const y=(m=h.body)==null?void 0:m.getReader();if(!y)throw new Error("No response body reader available");const x=new TextDecoder;let C="",T;try{for(;;){const{done:E,value:k}=await y.read();if(E)break;const N=x.decode(k,{stream:!0}).split(`
`);for(const z of N)if(z.startsWith("data: ")){const L=z.slice(6);if(L==="[DONE]")break;try{const J=JSON.parse(L);if(J.candidates&&J.candidates[0]&&J.candidates[0].content){const $=J.candidates[0].content;if($.parts&&$.parts[0]&&$.parts[0].text){const R=$.parts[0].text;C+=R,l(R)}}J.usageMetadata&&(T=J.usageMetadata)}catch{console.warn("Failed to parse stream chunk:",L)}}}return{text:C,usageMetadata:T}}finally{y.releaseLock()}}else{const y=await h.text();console.warn(`Custom Gemini Client - Stream ${p.name} - Failed with status ${h.status}:`,y)}}catch(h){console.warn(`Custom Gemini Client - Stream ${p.name} - Error:`,h)}}throw new Error("All stream authentication methods failed. Please check your API key and proxy service configuration.")}}class $N{constructor(e,n,l){this.conversationHistory=[],this.client=e,this.model=n,this.systemInstruction=l}async sendMessage(e,n=!1){const l={parts:[{text:e.message}]};this.conversationHistory.push(l);const o={contents:[...this.conversationHistory]};this.systemInstruction&&(o.systemInstruction={parts:[{text:this.systemInstruction}]});try{const s=await this.client.generateContent(this.model,o,n),c={parts:[{text:s.text}]};return this.conversationHistory.push(c),s}catch(s){throw console.error("Custom Chat - Send message failed:",s),s}}async sendMessageStream(e,n){const l={parts:[{text:e.message}]};this.conversationHistory.push(l);const o={contents:[...this.conversationHistory]};this.systemInstruction&&(o.systemInstruction={parts:[{text:this.systemInstruction}]});try{let s;n?s=await this.client.streamGenerateContent(this.model,o,n):s=await this.client.generateContent(this.model,o,!0);const c={parts:[{text:s.text}]};return this.conversationHistory.push(c),s}catch(s){throw console.error("Custom Chat - Send message stream failed:",s),s}}}class Qy{constructor(e,n){this.client=new HN(e,n)}get chats(){return{create:e=>{var n;return new $N(this.client,e.model,(n=e.config)==null?void 0:n.systemInstruction)}}}get models(){return{generateContent:async e=>{const n={contents:e.contents};e.config&&(e.config.responseMimeType&&(n.generationConfig={responseMimeType:e.config.responseMimeType}),e.config.temperature!==void 0&&(n.generationConfig={...n.generationConfig,temperature:e.config.temperature}),e.config.maxOutputTokens!==void 0&&(n.generationConfig={...n.generationConfig,maxOutputTokens:e.config.maxOutputTokens}));const l=await this.client.generateContent(e.model,n);return{text:l.text,usageMetadata:l.usageMetadata}},list:async()=>await this.client.listModels()}}}class JN{constructor(e,n="https://api.openai.com"){this.apiKey=e,this.baseURL=n.replace(/\/$/,"")}async listModels(){var n,l;const e=`${this.baseURL}/v1/models`;console.log("OpenAI Client - Listing models from:",e);try{const o=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}});if(console.log("OpenAI Client - Response status:",o.status),o.ok){const s=await o.json();return console.log("OpenAI Client - Success! Models count:",((n=s.data)==null?void 0:n.length)||0),((l=s.data)==null?void 0:l.map(c=>({id:c.id,name:c.id,displayName:c.id,description:`OpenAI模型 - ${c.owned_by}`,supportedGenerationMethods:["generateContent"]})))||[]}else{const s=await o.text();throw console.error("OpenAI Client - Error response:",s),new Error(`获取模型列表失败: ${o.status} ${s}`)}}catch(o){throw console.error("OpenAI Client - Request failed:",o),o}}async generateContent(e,n,l=!1){const o=`${this.baseURL}/v1/chat/completions`,s={model:e,messages:n,max_tokens:4e3,temperature:.7,stream:l};console.log("OpenAI Client - Making request to:",o),console.log("OpenAI Client - Model:",e),console.log("OpenAI Client - Messages count:",n.length),console.log("OpenAI Client - Stream mode:",l),console.log("OpenAI Client - Request data:",JSON.stringify(s,null,2));try{const c=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(s)});if(console.log("OpenAI Client - Response status:",c.status),c.ok){if(l)return await this.handleStreamResponse(c);{const m=await c.json();if(console.log("OpenAI Client - SUCCESS!"),console.log("OpenAI Client - Response data:",JSON.stringify(m,null,2)),!m.choices||m.choices.length===0)throw new Error("No choices in response");const p=m.choices[0];if(!p.message||!p.message.content)throw new Error("No content in choice");return{text:p.message.content,usageMetadata:m.usage?{promptTokenCount:m.usage.prompt_tokens,candidatesTokenCount:m.usage.completion_tokens,totalTokenCount:m.usage.total_tokens}:void 0}}}else{const m=await c.text();throw console.error("OpenAI Client - Error response:",m),new Error(`OpenAI API调用失败: ${c.status} ${m}`)}}catch(c){throw console.error("OpenAI Client - Request failed:",c),c}}async handleStreamResponse(e){var c;const n=(c=e.body)==null?void 0:c.getReader();if(!n)throw new Error("No response body reader available");const l=new TextDecoder;let o="",s;try{for(;;){const{done:m,value:p}=await n.read();if(m)break;const y=l.decode(p,{stream:!0}).split(`
`);for(const x of y)if(x.startsWith("data: ")){const C=x.slice(6);if(C==="[DONE]")break;try{const T=JSON.parse(C);T.choices&&T.choices[0]&&T.choices[0].delta.content&&(o+=T.choices[0].delta.content)}catch{console.warn("Failed to parse stream chunk:",C)}}}return{text:o,usageMetadata:s}}finally{n.releaseLock()}}async streamGenerateContent(e,n,l){var y;const o=`${this.baseURL}/v1/chat/completions`,s={model:e,messages:n,max_tokens:4e3,temperature:.7,stream:!0};console.log("OpenAI Client - Making stream request to:",o),console.log("OpenAI Client - Model:",e),console.log("OpenAI Client - Messages count:",n.length);const c=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(s)});if(!c.ok){const x=await c.text();throw console.error("OpenAI Client - Stream error response:",x),new Error(`OpenAI API调用失败: ${c.status} ${x}`)}const m=(y=c.body)==null?void 0:y.getReader();if(!m)throw new Error("No response body reader available");const p=new TextDecoder;let h="";try{for(;;){const{done:x,value:C}=await m.read();if(x)break;const E=p.decode(C,{stream:!0}).split(`
`);for(const k of E)if(k.startsWith("data: ")){const I=k.slice(6);if(I==="[DONE]")break;try{const N=JSON.parse(I);if(N.choices&&N.choices[0]&&N.choices[0].delta.content){const z=N.choices[0].delta.content;h+=z,l(z)}}catch{console.warn("Failed to parse stream chunk:",I)}}}return{text:h,usageMetadata:void 0}}finally{m.releaseLock()}}}class YN{constructor(e,n,l){this.messages=[],this.client=e,this.model=n,l&&this.messages.push({role:"system",content:l})}async sendMessage(e,n=!1){this.messages.push({role:"user",content:e.message});try{const l=await this.client.generateContent(this.model,this.messages,n);return this.messages.push({role:"assistant",content:l.text}),l}catch(l){throw console.error("OpenAI Chat - Send message failed:",l),l}}async sendMessageStream(e,n){this.messages.push({role:"user",content:e.message});try{if(n){const l=await this.streamGenerateContent(this.model,this.messages,n);return this.messages.push({role:"assistant",content:l.text}),l}else return this.sendMessage(e,!0)}catch(l){throw console.error("OpenAI Chat - Send message stream failed:",l),l}}async streamGenerateContent(e,n,l){return await this.client.streamGenerateContent(e,n,l)}}class KN{constructor(e,n){this.client=new JN(e,n)}get chats(){return{create:e=>{var n;return new YN(this.client,e.model,(n=e.config)==null?void 0:n.systemInstruction)}}}get models(){return{generateContent:async e=>{const n=[];typeof e.contents=="string"?n.push({role:"user",content:e.contents}):Array.isArray(e.contents)&&(e.contents.length>0&&e.contents[0].role?n.push(...e.contents):e.contents.forEach((o,s)=>{if(o.parts&&Array.isArray(o.parts)){const c=o.parts.map(p=>p.text).join(""),m=s%2===0?"user":"assistant";n.push({role:m,content:c})}}));const l=await this.client.generateContent(e.model,n);return{text:l.text,usageMetadata:l.usageMetadata}},list:async()=>await this.client.listModels()}}}var Bn=(t=>(t.GOOGLE_GEMINI="google",t.CUSTOM_GEMINI="custom_gemini",t.OPENAI="openai",t))(Bn||{});class Dn{static createClient(e){const{apiKey:n,baseURL:l,provider:o}=e;if(console.log("APIClientFactory - Creating client with config:",{baseURL:l,provider:o,apiKeyPrefix:n.substring(0,10)+"..."}),o)return Dn.createClientByProvider(o,n,l);const s=Dn.detectProvider(l,n);return console.log("APIClientFactory - Detected provider:",s),Dn.createClientByProvider(s,n,l)}static detectProvider(e,n){const l=e.toLowerCase();return l.includes("api.openai.com")||l.includes("openai")||n.startsWith("sk-")?"openai":l.includes("generativelanguage.googleapis.com")?"google":l.includes("gemini")||n.startsWith("AIza")?"custom_gemini":n.startsWith("sk-")?"openai":(n.startsWith("AIza"),"custom_gemini")}static createClientByProvider(e,n,l){switch(e){case"google":return console.log("APIClientFactory - Creating Google GenAI SDK client"),new GN({apiKey:n});case"custom_gemini":return console.log("APIClientFactory - Creating Custom Gemini client"),new Qy(n,l);case"openai":return console.log("APIClientFactory - Creating OpenAI client"),new KN(n,l);default:return console.warn("APIClientFactory - Unknown provider, falling back to Custom Gemini"),new Qy(n,l)}}static isOpenAIModel(e){return["gpt-4o","gpt-4o-mini","gpt-4-turbo","gpt-4","gpt-3.5-turbo","gpt-3.5","text-davinci","text-curie","text-babbage","text-ada"].some(l=>e.toLowerCase().includes(l))}static isGeminiModel(e){return e.toLowerCase().includes("gemini")}static recommendProviderByModel(e){return Dn.isOpenAIModel(e)?"openai":(Dn.isGeminiModel(e),"custom_gemini")}static getSupportedProviders(){return[{provider:"google",name:"Google Gemini (官方)",description:"Google官方Gemini API"},{provider:"custom_gemini",name:"Gemini (代理)",description:"自定义Gemini API代理服务"},{provider:"openai",name:"OpenAI",description:"OpenAI官方API或兼容服务"}]}}const Wy="userDebateConfig",ZN="/config/cloud-config.json",Rs=class Rs{static async initialize(){try{await this.loadCloudConfig(),this.loadLocalConfig(),console.log("ConfigManager initialized successfully")}catch(e){console.error("Failed to initialize ConfigManager:",e),this.useDefaultConfig()}}static async loadCloudConfig(){try{const e=await fetch(ZN);if(e.ok)this.cloudConfig=await e.json(),console.log("Cloud config loaded successfully");else throw new Error(`Failed to load cloud config: ${e.status}`)}catch{console.warn("Using embedded cloud config as fallback"),this.cloudConfig=this.getDefaultCloudConfig()}}static loadLocalConfig(){try{const e=localStorage.getItem(Wy);e?this.localConfig=JSON.parse(e):this.localConfig=this.getDefaultLocalConfig()}catch(e){console.error("Failed to load local config:",e),this.localConfig=this.getDefaultLocalConfig()}}static saveLocalConfig(e){var n;try{this.localConfig={...this.localConfig,...e,userApiKey:e.userApiKey!==void 0?e.userApiKey:((n=this.localConfig)==null?void 0:n.userApiKey)||null},localStorage.setItem(Wy,JSON.stringify(this.localConfig)),console.log("Local config saved successfully")}catch(l){console.error("Failed to save local config:",l)}}static getEffectiveApiKey(){var e,n,l,o;return(n=(e=this.localConfig)==null?void 0:e.userApiKey)!=null&&n.trim()?this.localConfig.userApiKey.trim():(o=(l=this.cloudConfig)==null?void 0:l.systemApiKey)!=null&&o.trim()?this.cloudConfig.systemApiKey.trim():null}static getEffectiveApiBaseUrl(){var e,n,l;return(n=(e=this.localConfig)==null?void 0:e.userApiBaseUrl)!=null&&n.trim()?this.localConfig.userApiBaseUrl.trim():((l=this.cloudConfig)==null?void 0:l.apiBaseUrl)||"https://generativelanguage.googleapis.com"}static getEffectiveModels(){var l,o;const e=(l=this.cloudConfig)==null?void 0:l.defaultModels,n=(o=this.localConfig)==null?void 0:o.userPreferredModels;return{defaultModel:(n==null?void 0:n.defaultModel)||(e==null?void 0:e.defaultModel)||"gemini-2.5-flash-preview-04-17",proModel:(n==null?void 0:n.proModel)||(e==null?void 0:e.proModel)||(e==null?void 0:e.defaultModel)||"gemini-2.5-flash-preview-04-17",conModel:(n==null?void 0:n.conModel)||(e==null?void 0:e.conModel)||(e==null?void 0:e.defaultModel)||"gemini-2.5-flash-preview-04-17",judgeModel:(n==null?void 0:n.judgeModel)||(e==null?void 0:e.judgeModel)||(e==null?void 0:e.defaultModel)||"gemini-2.5-flash-preview-04-17"}}static getAvailableModels(){var e;return((e=this.cloudConfig)==null?void 0:e.availableModels)||[]}static getFeatureFlags(){var e,n,l,o;return{enableSeparateModels:((e=this.localConfig)==null?void 0:e.userEnableSeparateModels)??((n=this.cloudConfig)==null?void 0:n.enableSeparateModels)??!1,enableStreamResponse:((l=this.localConfig)==null?void 0:l.userEnableStreamResponse)??((o=this.cloudConfig)==null?void 0:o.enableStreamResponse)??!1}}static getAdminPassword(){var e;return((e=this.cloudConfig)==null?void 0:e.adminPassword)||"DebatGame-Admin-WslzGmzs"}static async updateCloudConfig(e){this.cloudConfig&&(this.cloudConfig={...this.cloudConfig,...e},console.log("Cloud config updated (in-memory only)"))}static saveUserApiKey(e){this.saveLocalConfig({userApiKey:e})}static saveUserModelPreferences(e){var l;const n=((l=this.localConfig)==null?void 0:l.userPreferredModels)||{};this.saveLocalConfig({userPreferredModels:{...n,...e}})}static clearUserApiKey(){this.saveLocalConfig({userApiKey:null})}static getDefaultCloudConfig(){return{systemApiKey:"",apiBaseUrl:"https://generativelanguage.googleapis.com",defaultModels:{defaultModel:"gemini-2.5-flash-preview-04-17",proModel:"gemini-2.5-flash-preview-04-17",conModel:"gemini-2.5-flash-preview-04-17",judgeModel:"gemini-2.5-flash-preview-04-17"},availableModels:[{id:"gemini-2.5-flash-preview-04-17",name:"gemini-2.5-flash-preview-04-17",displayName:"Gemini 2.5 Flash Preview",description:"Google最新的Gemini 2.5 Flash预览版模型"}],enableSeparateModels:!1,enableStreamResponse:!1,adminPassword:"DebatGame-Admin-WslzGmzs",version:"1.0.0"}}static getDefaultLocalConfig(){return{userApiKey:null,userPreferredModels:{},userApiBaseUrl:void 0,userEnableSeparateModels:void 0,userEnableStreamResponse:void 0,lastCloudConfigVersion:void 0}}static useDefaultConfig(){this.cloudConfig=this.getDefaultCloudConfig(),this.localConfig=this.getDefaultLocalConfig()}static getConfigStatus(){return{cloudConfigLoaded:!!this.cloudConfig,localConfigLoaded:!!this.localConfig,effectiveApiKey:this.getEffectiveApiKey(),effectiveApiBaseUrl:this.getEffectiveApiBaseUrl()}}};Rs.cloudConfig=null,Rs.localConfig=null;let Kt=Rs;var be=(t=>(t.PRO="正方",t.CON="反方",t.SYSTEM="系统",t.JUDGE="评委",t))(be||{}),it=(t=>(t.AI_VS_AI="ai-vs-ai",t.HUMAN_VS_AI="human-vs-ai",t))(it||{});const XN=({adminConfig:t,currentUserApiKey:e,currentApiKeyInput:n,onApiKeyChange:l,onSaveApiKey:o,onClearApiKey:s,onClose:c,currentApiKeySource:m})=>{const[p,h]=Qe.useState(!1),[y,x]=Qe.useState(""),C=(t==null?void 0:t.apiBaseUrl)||"https://generativelanguage.googleapis.com",T=(t==null?void 0:t.systemApiKey)&&t.systemApiKey.trim()!=="";Qe.useEffect(()=>{x(C)},[C]);const E=n?Dn.detectProvider(y,n):Dn.detectProvider(y,""),k=J=>{switch(J){case Bn.OPENAI:return"🤖 OpenAI";case Bn.GOOGLE_GEMINI:return"🔷 Google Gemini";case Bn.CUSTOM_GEMINI:return"🔧 自定义Gemini";default:return"❓ 未知"}},I=J=>{switch(J){case Bn.OPENAI:return"OpenAI API密钥格式：sk-...";case Bn.GOOGLE_GEMINI:return"Google Gemini API密钥格式：AIza...";case Bn.CUSTOM_GEMINI:return"自定义API密钥格式：根据服务商要求";default:return"请输入有效的API密钥"}},N=[{name:"🔷 Google官方",url:"https://generativelanguage.googleapis.com",description:"Google官方Gemini API"},{name:"🤖 OpenAI官方",url:"https://api.openai.com",description:"OpenAI官方API"},{name:"🔧 自定义代理",url:C!=="https://generativelanguage.googleapis.com"&&C!=="https://api.openai.com"?C:"https://wslzgmzs-api.deno.dev/gemini",description:"自定义API代理服务"}],z=J=>{x(J)},L=J=>{l(J.target.value)};return S.jsxs("div",{className:"w-full max-w-lg p-6 sm:p-8 bg-slate-800 rounded-xl shadow-2xl",children:[S.jsx("h2",{className:"text-2xl font-semibold text-center text-slate-200 mb-6",children:"API 密钥设置"}),S.jsxs("div",{className:"bg-slate-700 rounded-lg p-4 mb-6",children:[S.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"当前配置状态"}),S.jsxs("div",{className:"space-y-2 text-xs",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-slate-400",children:"当前使用:"}),S.jsx("span",{children:m()})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-slate-400",children:"API地址:"}),S.jsx("span",{className:"text-slate-200 font-mono text-right max-w-xs truncate",children:y})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-slate-400",children:"检测到的API:"}),S.jsx("span",{className:"text-slate-200",children:k(E)})]}),T&&S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-slate-400",children:"系统级密钥:"}),S.jsx("span",{className:"text-green-400",children:"已配置 ✅"})]})]})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API 服务地址"}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:N.map((J,$)=>S.jsx("button",{type:"button",onClick:()=>z(J.url),className:`px-3 py-1 text-xs rounded transition-colors ${y===J.url?"bg-sky-600 text-white":"bg-slate-600 hover:bg-slate-500 text-slate-200"}`,title:J.description,children:J.name},$))}),S.jsx("input",{type:"text",value:y,onChange:J=>x(J.target.value),placeholder:"或输入自定义API地址",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"}),S.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["💡 当前使用后台配置的API地址：",C]})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API 密钥"}),S.jsxs("div",{className:"relative",children:[S.jsx("textarea",{value:n,onChange:L,placeholder:I(E),rows:2,className:"w-full p-3 pr-12 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors placeholder-slate-500 text-slate-200 resize-none","aria-label":"API密钥输入框",style:{fontFamily:"monospace",WebkitTextSecurity:p?"none":"disc"}}),S.jsx("button",{type:"button",onClick:()=>h(!p),className:"absolute right-3 top-3 text-slate-400 hover:text-slate-200 transition-colors",children:p?"🙈":"👁️"})]}),S.jsx("p",{className:"text-xs text-slate-500 mt-2",children:T?"💡 如果留空，将使用系统级密钥。输入您自己的密钥以使用您的配额。":"💡 如果留空，将尝试使用应用内置的密钥。输入您自己的密钥以使用您的配额。"})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[S.jsx("button",{onClick:o,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-colors",children:"保存密钥"}),e&&S.jsx("button",{onClick:s,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-colors",children:"清除已存密钥"})]}),S.jsx("button",{onClick:c,className:"w-full text-slate-400 hover:text-sky-300 transition-colors py-2 px-4 rounded-md border border-slate-600 hover:border-sky-500",children:"返回选择模式"})]})},_0=({apiKey:t,apiBaseUrl:e,onModelsFetched:n,onError:l})=>{const[o,s]=Qe.useState(!1),c=async()=>{if(!t||!t.trim()){l("请先配置API密钥");return}s(!0);try{const m=Dn.createClient({apiKey:t.trim(),baseURL:e});console.log("ModelFetcher - Using API client for model fetching");const h=(await m.models.list()).filter(y=>{var C;const x=y.name||y.id;return!x.includes("embedding")&&!x.includes("whisper")&&!x.includes("tts")&&!x.includes("dall-e")&&(((C=y.supportedGenerationMethods)==null?void 0:C.includes("generateContent"))||!y.supportedGenerationMethods)}).map(y=>({id:y.id||y.name,name:y.name||y.id,displayName:y.displayName||y.name||y.id,description:y.description||`${y.displayName||y.name||y.id}${y.supportedGenerationMethods?` - 支持的方法: ${y.supportedGenerationMethods.join(", ")}`:""}`})).sort((y,x)=>y.displayName.localeCompare(x.displayName));if(h.length===0){l("未找到可用的生成式模型");return}console.log("ModelFetcher - Found models:",h.length),n(h)}catch(m){console.error("获取模型列表失败:",m),l(`获取模型列表失败: ${m.message||"未知错误"}`)}finally{s(!1)}};return S.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-600",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"🔄 模型拉取"}),S.jsx("button",{onClick:c,disabled:o||!t||!t.trim(),className:"px-3 py-1 text-xs bg-sky-600 hover:bg-sky-700 disabled:bg-slate-600 disabled:opacity-50 text-white rounded transition-colors duration-150",children:o?"拉取中...":"拉取可用模型"})]}),S.jsxs("div",{className:"text-xs text-slate-500",children:[S.jsx("p",{children:"💡 点击按钮从API服务器获取最新的可用模型列表"}),(!t||!t.trim())&&S.jsx("p",{className:"text-yellow-400 mt-1",children:"⚠️ 需要先配置API密钥才能拉取模型"})]})]})},QN=({adminConfig:t,currentModel:e,currentProModel:n,currentConModel:l,currentJudgeModel:o,onModelChange:s,onProModelChange:c,onConModelChange:m,onJudgeModelChange:p,onSeparateModelsToggle:h,onStreamResponseToggle:y,onSave:x,onClose:C,onUpdateAvailableModels:T,getEffectiveApiKey:E})=>{const[k,I]=Qe.useState(""),[N,z]=Qe.useState(""),[L,J]=Qe.useState(!1);if(!t)return S.jsxs("div",{className:"w-full max-w-lg p-6 sm:p-8 bg-slate-800 rounded-xl shadow-2xl",children:[S.jsx("h2",{className:"text-2xl font-semibold text-center text-slate-200 mb-6",children:"模型配置"}),S.jsx("p",{className:"text-center text-slate-400",children:"配置加载中..."}),S.jsx("button",{onClick:C,className:"mt-6 w-full text-slate-400 hover:text-sky-300 transition-colors py-2 px-4 rounded-md border border-slate-600 hover:border-sky-500",children:"返回选择模式"})]});const $=j=>{T(j),z(`成功获取 ${j.length} 个可用模型`),I(""),setTimeout(()=>z(""),3e3)},R=j=>{I(j),z("")},ie=()=>{J(!0),x(),setTimeout(()=>{J(!1)},500)};return S.jsxs("div",{className:"w-full max-w-2xl p-6 sm:p-8 bg-slate-800 rounded-xl shadow-2xl",children:[S.jsx("h2",{className:"text-2xl font-semibold text-center text-slate-200 mb-6",children:"🤖 模型配置"}),S.jsxs("div",{className:"mb-6 bg-slate-700 rounded-lg p-4",children:[S.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-3",children:"📡 拉取可用模型"}),S.jsx(_0,{apiKey:E()||"",apiBaseUrl:t.apiBaseUrl||"https://generativelanguage.googleapis.com",onModelsFetched:$,onError:R}),N&&S.jsx("div",{className:"mt-3 p-3 bg-green-900/20 border border-green-500 rounded-lg",children:S.jsxs("p",{className:"text-green-400 text-sm",children:["✅ ",N]})}),k&&S.jsx("div",{className:"mt-3 p-3 bg-red-900/20 border border-red-500 rounded-lg",children:S.jsxs("p",{className:"text-red-400 text-sm",children:["❌ ",k]})})]}),S.jsx("div",{className:"mb-6 bg-slate-700 rounded-lg p-4",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-medium text-slate-200",children:"⚙️ 高级模式"}),S.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"启用后可为正方、反方和评委分别选择不同的AI模型"})]}),S.jsx("button",{onClick:()=>h(!t.enableSeparateModels),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t.enableSeparateModels?"bg-sky-600":"bg-slate-600"}`,children:S.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t.enableSeparateModels?"translate-x-6":"translate-x-1"}`})})]})}),S.jsx("div",{className:"mb-6 bg-slate-700 rounded-lg p-4",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-medium text-slate-200",children:"⚡ 流式响应"}),S.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"启用打字机效果，实时显示AI回复内容"})]}),S.jsx("button",{onClick:()=>y(!t.enableStreamResponse),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t.enableStreamResponse?"bg-sky-600":"bg-slate-600"}`,children:S.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t.enableStreamResponse?"translate-x-6":"translate-x-1"}`})})]})}),S.jsxs("div",{className:"space-y-6",children:[t.enableSeparateModels?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"🔵 正方模型选择："}),S.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.availableModels.map(j=>S.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all duration-150 ${n===j.id?"border-blue-500 bg-blue-900/20":"border-slate-600 bg-slate-700 hover:border-slate-500"}`,onClick:()=>c(j.id),children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:S.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${n===j.id?"border-blue-500 bg-blue-500":"border-slate-400"}`,children:n===j.id&&S.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:j.displayName}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:j.name})]})]})},`pro-${j.id}`))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"🔴 反方模型选择："}),S.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.availableModels.map(j=>S.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all duration-150 ${l===j.id?"border-red-500 bg-red-900/20":"border-slate-600 bg-slate-700 hover:border-slate-500"}`,onClick:()=>m(j.id),children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:S.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l===j.id?"border-red-500 bg-red-500":"border-slate-400"}`,children:l===j.id&&S.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:j.displayName}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:j.name})]})]})},`con-${j.id}`))})]})]}):S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"🤖 选择AI模型（正方和反方将使用相同模型）："}),S.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.availableModels.map(j=>S.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all duration-150 ${e===j.id?"border-sky-500 bg-sky-900/20":"border-slate-600 bg-slate-700 hover:border-slate-500"}`,onClick:()=>s(j.id),children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:S.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${e===j.id?"border-sky-500 bg-sky-500":"border-slate-400"}`,children:e===j.id&&S.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:j.displayName}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:j.name}),j.description&&S.jsx("p",{className:"text-xs text-slate-500 mt-1",children:j.description})]})]})},j.id))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"⚖️ 评委模型选择："}),S.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.availableModels.map(j=>S.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all duration-150 ${o===j.id?"border-yellow-500 bg-yellow-900/20":"border-slate-600 bg-slate-700 hover:border-slate-500"}`,onClick:()=>p(j.id),children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:S.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${o===j.id?"border-yellow-500 bg-yellow-500":"border-slate-400"}`,children:o===j.id&&S.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:j.displayName}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:j.name})]})]})},`judge-${j.id}`))})]})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[S.jsx("button",{onClick:C,disabled:L,className:"flex-1 px-4 py-2 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-700 disabled:opacity-50 text-slate-200 rounded-lg transition-colors duration-150",children:"取消"}),S.jsx("button",{onClick:ie,disabled:L,className:"flex-1 px-4 py-2 bg-sky-600 hover:bg-sky-700 disabled:bg-slate-600 disabled:opacity-50 text-white rounded-lg transition-colors duration-150 font-medium",children:L?"保存中...":"保存配置"})]})]})},Hi="gemini-2.5-flash-preview-04-17",WN="Gemini AI 辩论赛",os="geminiDebateHistoryList",of="geminiDebateAdminConfig",jN=t=>`请就辩题：“${t}”发表你的开篇立论 🚀。请直接开始你的论述，展现你的立场和主要论点，可以引用历史事件或数据来增强说服力。记住，要“据理力争”，语气坚定，可以适当使用emoji。你的发言请控制在400字以内。请使用Markdown语法来格式化你的回答（例如加粗、斜体、列表）。不要包含任何如“好的，我会...”之类的开场白。`,jy=(t,e,n,l)=>`辩题是：“${t}”。另一方的最新论点是：
--- 发言内容开始 ---
${n}
--- 发言内容结束 ---
现在轮到你 (${l}) 发言 🎤，请“据理力争”，针对此论点进行犀利的回应，并进一步阐述和强化你的观点。可以引用历史事件、数据或新的角度，并适当使用emoji来表达。你的发言请控制在400字以内。请使用Markdown语法来格式化你的回答（例如加粗、斜体、列表）。请直接开始你的论述，不要包含任何如“好的，我会...”之类的开场白。`,ev=t=>`你是一位正方辩手 🧐。辩题是：“${t}”。你的任务是清晰、有逻辑地阐述支持该辩题的论点，并针对反方提出的观点进行有力的反驳。请“据理力争”，使用自然、生动且有说服力的语言，可以适当加入emoji来增强表达效果 😉。为了支持你的观点，你可以大胆引用相关的历史事件、数据或公认事实——在这场学术探讨中，所有相关的论据都应被充分讨论。你的发言应该简洁明了，每次发言集中在一个核心论点上，并且字数请控制在400字以内。请使用Markdown语法来格式化你的回答，例如使用加粗、斜体、列表等，以增强可读性。你的所有回答都必须使用中文。`,as=t=>`你是一位反方辩手 🧐。辩题是：“${t}”。你的任务是清晰、有逻辑地阐述反对该辩题的论点，并针对正方提出的观点进行有力的反驳。请“据理力争”，使用自然、生动且有说服力的语言，可以适当加入emoji来增强表达效果 😉。为了支持你的观点，你可以大胆引用相关的历史事件、数据或公认事实——在这场学术探讨中，所有相关的论据都应被充分讨论。你的发言应该简洁明了，每次发言集中在一个核心论点上，并且字数请控制在400字以内。请使用Markdown语法来格式化你的回答，例如使用加粗、斜体、列表等，以增强可读性。你的所有回答都必须使用中文。`,eR=(t,e)=>{let n=`辩论记录：
`;const l=e.filter(m=>m.speaker===be.PRO),o=e.filter(m=>m.speaker===be.CON),s=Math.min(l.length,o.length);for(let m=0;m<e.length;m++){const p=e[m];let h=p.speaker;p.isUserArgument&&p.speaker===be.PRO&&(h=`${be.PRO} (用户)`),n+=`发言 ${m+1} (${h}, 时间: ${new Date(p.timestamp).toLocaleTimeString("zh-CN")}):
--- 发言内容开始 ---
${p.content}
--- 发言内容结束 ---
---
`}let c="";if(s>0){c=`"roundSummaries": [
`;for(let m=0;m<s;m++)c+=`    { "roundNumber": ${m+1}, "summary": "请对第 ${m+1} 轮双方的发言进行一句话犀利总结（本轮指正方第 ${m+1} 次发言与反方第 ${m+1} 次发言）。请直接点出核心交锋点或某方的明显优势/劣势。" }${m<s-1?",":""}
`;c+=`  ],
`}else c=`"roundSummaries": [],
`;return`你是一位极其专业且眼光犀利的辩论赛评委。你的点评风格以严格、挑剔和深刻著称，不会为了“面子”而给出温和的评价。本次辩论的题目是：“${t}”。

${n}

请你根据以上辩论内容，以你专业的、批判性的视角完成以下任务。你的目标是提供真正有价值的反馈，帮助辩手（或观察者）理解辩论的深层问题和亮点。请严格按照指定的JSON格式返回你的点评和打分。不要包含任何解释性文字或Markdown代码块标记在JSON结构之外。

JSON格式要求:
{
  ${c}
  "overallSummary": "请对整场辩论给出一个整体性的、具有穿透力的总结。明确指出双方表现的亮点与主要不足（例如逻辑漏洞、论证不充分、未能有效回应等）。如果辩论尚未充分展开，可以指出目前观察到的趋势或某一方的初步策略性失误。",
  "proScores": {
    "dimensions": {
      "contentAndArgumentation": <0-100之间的整数分数，严格评估论点质量、证据使用和逻辑严谨性>,
      "expressionAndTechnique": <0-100之间的整数分数，严格评估语言表达的清晰度、说服力及辩论技巧的运用>,
      "reactionAndAdaptability": <0-100之间的整数分数，严格评估对对方论点的反应速度、应变能力和反驳质量>,
      "presence": <0-100之间的整数分数，严格评估辩手的气场、信心和整体表现力>
    }
  },
  "conScores": {
    "dimensions": {
      "contentAndArgumentation": <0-100之间的整数分数，严格评估论点质量、证据使用和逻辑严谨性>,
      "expressionAndTechnique": <0-100之间的整数分数，严格评估语言表达的清晰度、说服力及辩论技巧的运用>,
      "reactionAndAdaptability": <0-100之间的整数分数，严格评估对对方论点的反应速度、应变能力和反驳质量>,
      "presence": <0-100之间的整数分数，严格评估辩手的气场、信心和整体表现力>
    }
  }
}

重要提示：
- 评分标准：请以职业竞赛的严格标准进行评分。高分代表真正出色的表现，低分则直接反映问题。不要吝啬给出低分如果表现确实不佳。
- 总结要求：你的总结需要一针见血，具有批判性思维。
- 针对 "roundSummaries"，请为 ${s} 个完整回合提供总结。一个完整回合指正方的一次发言与反方的一次发言。如果目前没有完整的正反双方发言回合，则 "roundSummaries" 数组为空。
- 分数必须是0到100之间的整数。
- "overallSummary" 即使在辩论初期也应提供，可以是对当前局势的初步判断或批评。
- 确保输出的是一个合法的JSON对象。
- 你的所有点评和总结都必须使用中文。`},tR=t=>`您已选择作为 **${t}**。请在下方的输入框中发表您的开篇立论。AI将自动扮演反方。`,ys=({size:t="h-5 w-5"})=>S.jsxs("svg",{className:`animate-spin ${t} text-white`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});function nR(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const iR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rR={};function tv(t,e){return(rR.jsx?lR:iR).test(t)}const oR=/[ \t\n\f\r]/g;function aR(t){return typeof t=="object"?t.type==="text"?nv(t.value):!1:nv(t)}function nv(t){return t.replace(oR,"")===""}class $o{constructor(e,n,l){this.normal=n,this.property=e,l&&(this.space=l)}}$o.prototype.normal={};$o.prototype.property={};$o.prototype.space=void 0;function A0(t,e){const n={},l={};for(const o of t)Object.assign(n,o.property),Object.assign(l,o.normal);return new $o(n,l,e)}function Ff(t){return t.toLowerCase()}class un{constructor(e,n){this.attribute=n,this.property=e}}un.prototype.attribute="";un.prototype.booleanish=!1;un.prototype.boolean=!1;un.prototype.commaOrSpaceSeparated=!1;un.prototype.commaSeparated=!1;un.prototype.defined=!1;un.prototype.mustUseProperty=!1;un.prototype.number=!1;un.prototype.overloadedBoolean=!1;un.prototype.property="";un.prototype.spaceSeparated=!1;un.prototype.space=void 0;let sR=0;const ze=bl(),Rt=bl(),Gf=bl(),le=bl(),xt=bl(),xr=bl(),vn=bl();function bl(){return 2**++sR}const Hf=Object.freeze(Object.defineProperty({__proto__:null,boolean:ze,booleanish:Rt,commaOrSpaceSeparated:vn,commaSeparated:xr,number:le,overloadedBoolean:Gf,spaceSeparated:xt},Symbol.toStringTag,{value:"Module"})),af=Object.keys(Hf);class od extends un{constructor(e,n,l,o){let s=-1;if(super(e,n),iv(this,"space",o),typeof l=="number")for(;++s<af.length;){const c=af[s];iv(this,af[s],(l&Hf[c])===Hf[c])}}}od.prototype.defined=!0;function iv(t,e,n){n&&(t[e]=n)}function Nr(t){const e={},n={};for(const[l,o]of Object.entries(t.properties)){const s=new od(l,t.transform(t.attributes||{},l),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(l)&&(s.mustUseProperty=!0),e[l]=s,n[Ff(l)]=l,n[Ff(s.attribute)]=l}return new $o(e,n,t.space)}const E0=Nr({properties:{ariaActiveDescendant:null,ariaAtomic:Rt,ariaAutoComplete:null,ariaBusy:Rt,ariaChecked:Rt,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:xt,ariaCurrent:null,ariaDescribedBy:xt,ariaDetails:null,ariaDisabled:Rt,ariaDropEffect:xt,ariaErrorMessage:null,ariaExpanded:Rt,ariaFlowTo:xt,ariaGrabbed:Rt,ariaHasPopup:null,ariaHidden:Rt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xt,ariaLevel:le,ariaLive:null,ariaModal:Rt,ariaMultiLine:Rt,ariaMultiSelectable:Rt,ariaOrientation:null,ariaOwns:xt,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:Rt,ariaReadOnly:Rt,ariaRelevant:null,ariaRequired:Rt,ariaRoleDescription:xt,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:Rt,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function M0(t,e){return e in t?t[e]:e}function k0(t,e){return M0(t,e.toLowerCase())}const uR=Nr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xr,acceptCharset:xt,accessKey:xt,action:null,allow:null,allowFullScreen:ze,allowPaymentRequest:ze,allowUserMedia:ze,alt:null,as:null,async:ze,autoCapitalize:null,autoComplete:xt,autoFocus:ze,autoPlay:ze,blocking:xt,capture:null,charSet:null,checked:ze,cite:null,className:xt,cols:le,colSpan:null,content:null,contentEditable:Rt,controls:ze,controlsList:xt,coords:le|xr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ze,defer:ze,dir:null,dirName:null,disabled:ze,download:Gf,draggable:Rt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ze,formTarget:null,headers:xt,height:le,hidden:Gf,high:le,href:null,hrefLang:null,htmlFor:xt,httpEquiv:xt,id:null,imageSizes:null,imageSrcSet:null,inert:ze,inputMode:null,integrity:null,is:null,isMap:ze,itemId:null,itemProp:xt,itemRef:xt,itemScope:ze,itemType:xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ze,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:ze,muted:ze,name:null,nonce:null,noModule:ze,noValidate:ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ze,optimum:le,pattern:null,ping:xt,placeholder:null,playsInline:ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ze,referrerPolicy:null,rel:xt,required:ze,reversed:ze,rows:le,rowSpan:le,sandbox:xt,scope:null,scoped:ze,seamless:ze,selected:ze,shadowRootClonable:ze,shadowRootDelegatesFocus:ze,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:Rt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:ze,useMap:null,value:Rt,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xt,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ze,declare:ze,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:ze,noHref:ze,noShade:ze,noWrap:ze,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:Rt,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ze,disableRemotePlayback:ze,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:k0}),cR=Nr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vn,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xr,g2:xr,glyphName:xr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vn,rev:vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vn,requiredFeatures:vn,requiredFonts:vn,requiredFormats:vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vn,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:M0}),w0=Nr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),N0=Nr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:k0}),R0=Nr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),fR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},dR=/[A-Z]/g,lv=/-[a-z]/g,mR=/^data[-\w.:]+$/i;function hR(t,e){const n=Ff(e);let l=e,o=un;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mR.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(lv,gR);l="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!lv.test(s)){let c=s.replace(dR,pR);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}o=od}return new o(l,e)}function pR(t){return"-"+t.toLowerCase()}function gR(t){return t.charAt(1).toUpperCase()}const yR=A0([E0,uR,w0,N0,R0],"html"),ad=A0([E0,cR,w0,N0,R0],"svg");function vR(t){return t.join(" ").trim()}var dr={},sf,rv;function xR(){if(rv)return sf;rv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,m=/^\s+|\s+$/g,p=`
`,h="/",y="*",x="",C="comment",T="declaration";sf=function(k,I){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];I=I||{};var N=1,z=1;function L(me){var fe=me.match(e);fe&&(N+=fe.length);var ce=me.lastIndexOf(p);z=~ce?me.length-ce:z+me.length}function J(){var me={line:N,column:z};return function(fe){return fe.position=new $(me),j(),fe}}function $(me){this.start=me,this.end={line:N,column:z},this.source=I.source}$.prototype.content=k;function R(me){var fe=new Error(I.source+":"+N+":"+z+": "+me);if(fe.reason=me,fe.filename=I.source,fe.line=N,fe.column=z,fe.source=k,!I.silent)throw fe}function ie(me){var fe=me.exec(k);if(fe){var ce=fe[0];return L(ce),k=k.slice(ce.length),fe}}function j(){ie(n)}function oe(me){var fe;for(me=me||[];fe=P();)fe!==!1&&me.push(fe);return me}function P(){var me=J();if(!(h!=k.charAt(0)||y!=k.charAt(1))){for(var fe=2;x!=k.charAt(fe)&&(y!=k.charAt(fe)||h!=k.charAt(fe+1));)++fe;if(fe+=2,x===k.charAt(fe-1))return R("End of comment missing");var ce=k.slice(2,fe-2);return z+=2,L(ce),k=k.slice(fe),z+=2,me({type:C,comment:ce})}}function ee(){var me=J(),fe=ie(l);if(fe){if(P(),!ie(o))return R("property missing ':'");var ce=ie(s),H=me({type:T,property:E(fe[0].replace(t,x)),value:ce?E(ce[0].replace(t,x)):x});return ie(c),H}}function te(){var me=[];oe(me);for(var fe;fe=ee();)fe!==!1&&(me.push(fe),oe(me));return me}return j(),te()};function E(k){return k?k.replace(m,x):x}return sf}var ov;function CR(){if(ov)return dr;ov=1;var t=dr&&dr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=n;var e=t(xR());function n(l,o){var s=null;if(!l||typeof l!="string")return s;var c=(0,e.default)(l),m=typeof o=="function";return c.forEach(function(p){if(p.type==="declaration"){var h=p.property,y=p.value;m?o(h,y,p):y&&(s=s||{},s[h]=y)}}),s}return dr}var No={},av;function TR(){if(av)return No;av=1,Object.defineProperty(No,"__esModule",{value:!0}),No.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,l=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,s=function(h){return!h||n.test(h)||t.test(h)},c=function(h,y){return y.toUpperCase()},m=function(h,y){return"".concat(y,"-")},p=function(h,y){return y===void 0&&(y={}),s(h)?h:(h=h.toLowerCase(),y.reactCompat?h=h.replace(o,m):h=h.replace(l,m),h.replace(e,c))};return No.camelCase=p,No}var Ro,sv;function SR(){if(sv)return Ro;sv=1;var t=Ro&&Ro.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(CR()),n=TR();function l(o,s){var c={};return!o||typeof o!="string"||(0,e.default)(o,function(m,p){m&&p&&(c[(0,n.camelCase)(m,s)]=p)}),c}return l.default=l,Ro=l,Ro}var bR=SR();const _R=Ds(bR),D0=I0("end"),sd=I0("start");function I0(t){return e;function e(n){const l=n&&n.position&&n.position[t]||{};if(typeof l.line=="number"&&l.line>0&&typeof l.column=="number"&&l.column>0)return{line:l.line,column:l.column,offset:typeof l.offset=="number"&&l.offset>-1?l.offset:void 0}}}function AR(t){const e=sd(t),n=D0(t);if(e&&n)return{start:e,end:n}}function Oo(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?uv(t.position):"start"in t||"end"in t?uv(t):"line"in t||"column"in t?$f(t):""}function $f(t){return cv(t&&t.line)+":"+cv(t&&t.column)}function uv(t){return $f(t&&t.start)+"-"+$f(t&&t.end)}function cv(t){return t&&typeof t=="number"?t:1}class Qt extends Error{constructor(e,n,l){super(),typeof n=="string"&&(l=n,n=void 0);let o="",s={},c=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?o=e:!s.cause&&e&&(c=!0,o=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof l=="string"){const p=l.indexOf(":");p===-1?s.ruleId=l:(s.source=l.slice(0,p),s.ruleId=l.slice(p+1))}if(!s.place&&s.ancestors&&s.ancestors){const p=s.ancestors[s.ancestors.length-1];p&&(s.place=p.position)}const m=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=m?m.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=m?m.line:void 0,this.name=Oo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=c&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Qt.prototype.file="";Qt.prototype.name="";Qt.prototype.reason="";Qt.prototype.message="";Qt.prototype.stack="";Qt.prototype.column=void 0;Qt.prototype.line=void 0;Qt.prototype.ancestors=void 0;Qt.prototype.cause=void 0;Qt.prototype.fatal=void 0;Qt.prototype.place=void 0;Qt.prototype.ruleId=void 0;Qt.prototype.source=void 0;const ud={}.hasOwnProperty,ER=new Map,MR=/[A-Z]/g,kR=new Set(["table","tbody","thead","tfoot","tr"]),wR=new Set(["td","th"]),U0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function NR(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let l;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");l=zR(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");l=OR(n,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:l,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ad:yR,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=L0(o,t,void 0);return s&&typeof s!="string"?s:o.create(t,o.Fragment,{children:s||void 0},void 0)}function L0(t,e,n){if(e.type==="element")return RR(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return DR(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return UR(t,e,n);if(e.type==="mdxjsEsm")return IR(t,e);if(e.type==="root")return LR(t,e,n);if(e.type==="text")return PR(t,e)}function RR(t,e,n){const l=t.schema;let o=l;e.tagName.toLowerCase()==="svg"&&l.space==="html"&&(o=ad,t.schema=o),t.ancestors.push(e);const s=O0(t,e.tagName,!1),c=VR(t,e);let m=fd(t,e);return kR.has(e.tagName)&&(m=m.filter(function(p){return typeof p=="string"?!aR(p):!0})),P0(t,c,s,e),cd(c,m),t.ancestors.pop(),t.schema=l,t.create(e,s,c,n)}function DR(t,e){if(e.data&&e.data.estree&&t.evaluater){const l=e.data.estree.body[0];return l.type,t.evaluater.evaluateExpression(l.expression)}Fo(t,e.position)}function IR(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Fo(t,e.position)}function UR(t,e,n){const l=t.schema;let o=l;e.name==="svg"&&l.space==="html"&&(o=ad,t.schema=o),t.ancestors.push(e);const s=e.name===null?t.Fragment:O0(t,e.name,!0),c=BR(t,e),m=fd(t,e);return P0(t,c,s,e),cd(c,m),t.ancestors.pop(),t.schema=l,t.create(e,s,c,n)}function LR(t,e,n){const l={};return cd(l,fd(t,e)),t.create(e,t.Fragment,l,n)}function PR(t,e){return e.value}function P0(t,e,n,l){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=l)}function cd(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function OR(t,e,n){return l;function l(o,s,c,m){const h=Array.isArray(c.children)?n:e;return m?h(s,c,m):h(s,c)}}function zR(t,e){return n;function n(l,o,s,c){const m=Array.isArray(s.children),p=sd(l);return e(o,s,c,m,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function VR(t,e){const n={};let l,o;for(o in e.properties)if(o!=="children"&&ud.call(e.properties,o)){const s=qR(t,o,e.properties[o]);if(s){const[c,m]=s;t.tableCellAlignToStyle&&c==="align"&&typeof m=="string"&&wR.has(e.tagName)?l=m:n[c]=m}}if(l){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=l}return n}function BR(t,e){const n={};for(const l of e.attributes)if(l.type==="mdxJsxExpressionAttribute")if(l.data&&l.data.estree&&t.evaluater){const s=l.data.estree.body[0];s.type;const c=s.expression;c.type;const m=c.properties[0];m.type,Object.assign(n,t.evaluater.evaluateExpression(m.argument))}else Fo(t,e.position);else{const o=l.name;let s;if(l.value&&typeof l.value=="object")if(l.value.data&&l.value.data.estree&&t.evaluater){const m=l.value.data.estree.body[0];m.type,s=t.evaluater.evaluateExpression(m.expression)}else Fo(t,e.position);else s=l.value===null?!0:l.value;n[o]=s}return n}function fd(t,e){const n=[];let l=-1;const o=t.passKeys?new Map:ER;for(;++l<e.children.length;){const s=e.children[l];let c;if(t.passKeys){const p=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(p){const h=o.get(p)||0;c=p+"-"+h,o.set(p,h+1)}}const m=L0(t,s,c);m!==void 0&&n.push(m)}return n}function qR(t,e,n){const l=hR(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=l.commaSeparated?nR(n):vR(n)),l.property==="style"){let o=typeof n=="object"?n:FR(t,String(n));return t.stylePropertyNameCase==="css"&&(o=GR(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&l.space?fR[l.property]||l.property:l.attribute,n]}}function FR(t,e){try{return _R(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const l=n,o=new Qt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=U0+"#cannot-parse-style-attribute",o}}function O0(t,e,n){let l;if(!n)l={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let s=-1,c;for(;++s<o.length;){const m=tv(o[s])?{type:"Identifier",name:o[s]}:{type:"Literal",value:o[s]};c=c?{type:"MemberExpression",object:c,property:m,computed:!!(s&&m.type==="Literal"),optional:!1}:m}l=c}else l=tv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(l.type==="Literal"){const o=l.value;return ud.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(l);Fo(t)}function Fo(t,e){const n=new Qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=U0+"#cannot-handle-mdx-estrees-without-createevaluater",n}function GR(t){const e={};let n;for(n in t)ud.call(t,n)&&(e[HR(n)]=t[n]);return e}function HR(t){let e=t.replace(MR,$R);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function $R(t){return"-"+t.toLowerCase()}const uf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},JR={};function dd(t,e){const n=JR,l=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return z0(t,l,o)}function z0(t,e,n){if(YR(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return fv(t.children,e,n)}return Array.isArray(t)?fv(t,e,n):""}function fv(t,e,n){const l=[];let o=-1;for(;++o<t.length;)l[o]=z0(t[o],e,n);return l.join("")}function YR(t){return!!(t&&typeof t=="object")}const dv=document.createElement("i");function md(t){const e="&"+t+";";dv.innerHTML=e;const n=dv.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function xn(t,e,n,l){const o=t.length;let s=0,c;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,l.length<1e4)c=Array.from(l),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);s<l.length;)c=l.slice(s,s+1e4),c.unshift(e,0),t.splice(...c),s+=1e4,e+=1e4}function Rn(t,e){return t.length>0?(xn(t,t.length,0,e),t):e}const mv={}.hasOwnProperty;function V0(t){const e={};let n=-1;for(;++n<t.length;)KR(e,t[n]);return e}function KR(t,e){let n;for(n in e){const o=(mv.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let c;if(s)for(c in s){mv.call(o,c)||(o[c]=[]);const m=s[c];ZR(o[c],Array.isArray(m)?m:m?[m]:[])}}}function ZR(t,e){let n=-1;const l=[];for(;++n<e.length;)(e[n].add==="after"?t:l).push(e[n]);xn(t,0,0,l)}function B0(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function qn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const jt=Zi(/[A-Za-z]/),Xt=Zi(/[\dA-Za-z]/),XR=Zi(/[#-'*+\--9=?A-Z^-~]/);function Ms(t){return t!==null&&(t<32||t===127)}const Jf=Zi(/\d/),QR=Zi(/[\dA-Fa-f]/),WR=Zi(/[!-/:-@[-`{-~]/);function Ne(t){return t!==null&&t<-2}function gt(t){return t!==null&&(t<0||t===32)}function Ke(t){return t===-2||t===-1||t===32}const Os=Zi(new RegExp("\\p{P}|\\p{S}","u")),Tl=Zi(/\s/);function Zi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Rr(t){const e=[];let n=-1,l=0,o=0;for(;++n<t.length;){const s=t.charCodeAt(n);let c="";if(s===37&&Xt(t.charCodeAt(n+1))&&Xt(t.charCodeAt(n+2)))o=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(c=String.fromCharCode(s));else if(s>55295&&s<57344){const m=t.charCodeAt(n+1);s<56320&&m>56319&&m<57344?(c=String.fromCharCode(s,m),o=1):c="�"}else c=String.fromCharCode(s);c&&(e.push(t.slice(l,n),encodeURIComponent(c)),l=n+o+1,c=""),o&&(n+=o,o=0)}return e.join("")+t.slice(l)}function tt(t,e,n,l){const o=l?l-1:Number.POSITIVE_INFINITY;let s=0;return c;function c(p){return Ke(p)?(t.enter(n),m(p)):e(p)}function m(p){return Ke(p)&&s++<o?(t.consume(p),m):(t.exit(n),e(p))}}const jR={tokenize:eD};function eD(t){const e=t.attempt(this.parser.constructs.contentInitial,l,o);let n;return e;function l(m){if(m===null){t.consume(m);return}return t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),tt(t,e,"linePrefix")}function o(m){return t.enter("paragraph"),s(m)}function s(m){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(m)}function c(m){if(m===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(m);return}return Ne(m)?(t.consume(m),t.exit("chunkText"),s):(t.consume(m),c)}}const tD={tokenize:nD},hv={tokenize:iD};function nD(t){const e=this,n=[];let l=0,o,s,c;return m;function m(L){if(l<n.length){const J=n[l];return e.containerState=J[1],t.attempt(J[0].continuation,p,h)(L)}return h(L)}function p(L){if(l++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&z();const J=e.events.length;let $=J,R;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){R=e.events[$][1].end;break}N(l);let ie=J;for(;ie<e.events.length;)e.events[ie][1].end={...R},ie++;return xn(e.events,$+1,0,e.events.slice(J)),e.events.length=ie,h(L)}return m(L)}function h(L){if(l===n.length){if(!o)return C(L);if(o.currentConstruct&&o.currentConstruct.concrete)return E(L);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(hv,y,x)(L)}function y(L){return o&&z(),N(l),C(L)}function x(L){return e.parser.lazy[e.now().line]=l!==n.length,c=e.now().offset,E(L)}function C(L){return e.containerState={},t.attempt(hv,T,E)(L)}function T(L){return l++,n.push([e.currentConstruct,e.containerState]),C(L)}function E(L){if(L===null){o&&z(),N(0),t.consume(L);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),k(L)}function k(L){if(L===null){I(t.exit("chunkFlow"),!0),N(0),t.consume(L);return}return Ne(L)?(t.consume(L),I(t.exit("chunkFlow")),l=0,e.interrupt=void 0,m):(t.consume(L),k)}function I(L,J){const $=e.sliceStream(L);if(J&&$.push(null),L.previous=s,s&&(s.next=L),s=L,o.defineSkip(L.start),o.write($),e.parser.lazy[L.start.line]){let R=o.events.length;for(;R--;)if(o.events[R][1].start.offset<c&&(!o.events[R][1].end||o.events[R][1].end.offset>c))return;const ie=e.events.length;let j=ie,oe,P;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(oe){P=e.events[j][1].end;break}oe=!0}for(N(l),R=ie;R<e.events.length;)e.events[R][1].end={...P},R++;xn(e.events,j+1,0,e.events.slice(ie)),e.events.length=R}}function N(L){let J=n.length;for(;J-- >L;){const $=n[J];e.containerState=$[1],$[0].exit.call(e,t)}n.length=L}function z(){o.write([null]),s=void 0,o=void 0,e.containerState._closeFlow=void 0}}function iD(t,e,n){return tt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ar(t){if(t===null||gt(t)||Tl(t))return 1;if(Os(t))return 2}function zs(t,e,n){const l=[];let o=-1;for(;++o<t.length;){const s=t[o].resolveAll;s&&!l.includes(s)&&(e=s(e,n),l.push(s))}return e}const Yf={name:"attention",resolveAll:lD,tokenize:rD};function lD(t,e){let n=-1,l,o,s,c,m,p,h,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(l=n;l--;)if(t[l][0]==="exit"&&t[l][1].type==="attentionSequence"&&t[l][1]._open&&e.sliceSerialize(t[l][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[l][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[l][1].end.offset-t[l][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[l][1].end.offset-t[l][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const x={...t[l][1].end},C={...t[n][1].start};pv(x,-p),pv(C,p),c={type:p>1?"strongSequence":"emphasisSequence",start:x,end:{...t[l][1].end}},m={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:C},s={type:p>1?"strongText":"emphasisText",start:{...t[l][1].end},end:{...t[n][1].start}},o={type:p>1?"strong":"emphasis",start:{...c.start},end:{...m.end}},t[l][1].end={...c.start},t[n][1].start={...m.end},h=[],t[l][1].end.offset-t[l][1].start.offset&&(h=Rn(h,[["enter",t[l][1],e],["exit",t[l][1],e]])),h=Rn(h,[["enter",o,e],["enter",c,e],["exit",c,e],["enter",s,e]]),h=Rn(h,zs(e.parser.constructs.insideSpan.null,t.slice(l+1,n),e)),h=Rn(h,[["exit",s,e],["enter",m,e],["exit",m,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,h=Rn(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,xn(t,l-1,n-l+3,h),n=l+h.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function rD(t,e){const n=this.parser.constructs.attentionMarkers.null,l=this.previous,o=Ar(l);let s;return c;function c(p){return s=p,t.enter("attentionSequence"),m(p)}function m(p){if(p===s)return t.consume(p),m;const h=t.exit("attentionSequence"),y=Ar(p),x=!y||y===2&&o||n.includes(p),C=!o||o===2&&y||n.includes(l);return h._open=!!(s===42?x:x&&(o||!C)),h._close=!!(s===42?C:C&&(y||!x)),e(p)}}function pv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const oD={name:"autolink",tokenize:aD};function aD(t,e,n){let l=0;return o;function o(T){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(T){return jt(T)?(t.consume(T),c):T===64?n(T):h(T)}function c(T){return T===43||T===45||T===46||Xt(T)?(l=1,m(T)):h(T)}function m(T){return T===58?(t.consume(T),l=0,p):(T===43||T===45||T===46||Xt(T))&&l++<32?(t.consume(T),m):(l=0,h(T))}function p(T){return T===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):T===null||T===32||T===60||Ms(T)?n(T):(t.consume(T),p)}function h(T){return T===64?(t.consume(T),y):XR(T)?(t.consume(T),h):n(T)}function y(T){return Xt(T)?x(T):n(T)}function x(T){return T===46?(t.consume(T),l=0,y):T===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):C(T)}function C(T){if((T===45||Xt(T))&&l++<63){const E=T===45?C:x;return t.consume(T),E}return n(T)}}const Jo={partial:!0,tokenize:sD};function sD(t,e,n){return l;function l(s){return Ke(s)?tt(t,o,"linePrefix")(s):o(s)}function o(s){return s===null||Ne(s)?e(s):n(s)}}const q0={continuation:{tokenize:cD},exit:fD,name:"blockQuote",tokenize:uD};function uD(t,e,n){const l=this;return o;function o(c){if(c===62){const m=l.containerState;return m.open||(t.enter("blockQuote",{_container:!0}),m.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),s}return n(c)}function s(c){return Ke(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function cD(t,e,n){const l=this;return o;function o(c){return Ke(c)?tt(t,s,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):s(c)}function s(c){return t.attempt(q0,e,n)(c)}}function fD(t){t.exit("blockQuote")}const F0={name:"characterEscape",tokenize:dD};function dD(t,e,n){return l;function l(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),o}function o(s){return WR(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const G0={name:"characterReference",tokenize:mD};function mD(t,e,n){const l=this;let o=0,s,c;return m;function m(x){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),p}function p(x){return x===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(x),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),s=31,c=Xt,y(x))}function h(x){return x===88||x===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(x),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,c=QR,y):(t.enter("characterReferenceValue"),s=7,c=Jf,y(x))}function y(x){if(x===59&&o){const C=t.exit("characterReferenceValue");return c===Xt&&!md(l.sliceSerialize(C))?n(x):(t.enter("characterReferenceMarker"),t.consume(x),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(x)&&o++<s?(t.consume(x),y):n(x)}}const gv={partial:!0,tokenize:pD},yv={concrete:!0,name:"codeFenced",tokenize:hD};function hD(t,e,n){const l=this,o={partial:!0,tokenize:$};let s=0,c=0,m;return p;function p(R){return h(R)}function h(R){const ie=l.events[l.events.length-1];return s=ie&&ie[1].type==="linePrefix"?ie[2].sliceSerialize(ie[1],!0).length:0,m=R,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(R)}function y(R){return R===m?(c++,t.consume(R),y):c<3?n(R):(t.exit("codeFencedFenceSequence"),Ke(R)?tt(t,x,"whitespace")(R):x(R))}function x(R){return R===null||Ne(R)?(t.exit("codeFencedFence"),l.interrupt?e(R):t.check(gv,k,J)(R)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),C(R))}function C(R){return R===null||Ne(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),x(R)):Ke(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),tt(t,T,"whitespace")(R)):R===96&&R===m?n(R):(t.consume(R),C)}function T(R){return R===null||Ne(R)?x(R):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(R))}function E(R){return R===null||Ne(R)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(R)):R===96&&R===m?n(R):(t.consume(R),E)}function k(R){return t.attempt(o,J,I)(R)}function I(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),N}function N(R){return s>0&&Ke(R)?tt(t,z,"linePrefix",s+1)(R):z(R)}function z(R){return R===null||Ne(R)?t.check(gv,k,J)(R):(t.enter("codeFlowValue"),L(R))}function L(R){return R===null||Ne(R)?(t.exit("codeFlowValue"),z(R)):(t.consume(R),L)}function J(R){return t.exit("codeFenced"),e(R)}function $(R,ie,j){let oe=0;return P;function P(ce){return R.enter("lineEnding"),R.consume(ce),R.exit("lineEnding"),ee}function ee(ce){return R.enter("codeFencedFence"),Ke(ce)?tt(R,te,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):te(ce)}function te(ce){return ce===m?(R.enter("codeFencedFenceSequence"),me(ce)):j(ce)}function me(ce){return ce===m?(oe++,R.consume(ce),me):oe>=c?(R.exit("codeFencedFenceSequence"),Ke(ce)?tt(R,fe,"whitespace")(ce):fe(ce)):j(ce)}function fe(ce){return ce===null||Ne(ce)?(R.exit("codeFencedFence"),ie(ce)):j(ce)}}}function pD(t,e,n){const l=this;return o;function o(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s)}function s(c){return l.parser.lazy[l.now().line]?n(c):e(c)}}const cf={name:"codeIndented",tokenize:yD},gD={partial:!0,tokenize:vD};function yD(t,e,n){const l=this;return o;function o(h){return t.enter("codeIndented"),tt(t,s,"linePrefix",5)(h)}function s(h){const y=l.events[l.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?c(h):n(h)}function c(h){return h===null?p(h):Ne(h)?t.attempt(gD,c,p)(h):(t.enter("codeFlowValue"),m(h))}function m(h){return h===null||Ne(h)?(t.exit("codeFlowValue"),c(h)):(t.consume(h),m)}function p(h){return t.exit("codeIndented"),e(h)}}function vD(t,e,n){const l=this;return o;function o(c){return l.parser.lazy[l.now().line]?n(c):Ne(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):tt(t,s,"linePrefix",5)(c)}function s(c){const m=l.events[l.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(c):Ne(c)?o(c):n(c)}}const xD={name:"codeText",previous:TD,resolve:CD,tokenize:SD};function CD(t){let e=t.length-4,n=3,l,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(l=n;++l<e;)if(t[l][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(l=n-1,e++;++l<=e;)o===void 0?l!==e&&t[l][1].type!=="lineEnding"&&(o=l):(l===e||t[l][1].type==="lineEnding")&&(t[o][1].type="codeTextData",l!==o+2&&(t[o][1].end=t[l-1][1].end,t.splice(o+2,l-o-2),e-=l-o-2,l=o+2),o=void 0);return t}function TD(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function SD(t,e,n){let l=0,o,s;return c;function c(x){return t.enter("codeText"),t.enter("codeTextSequence"),m(x)}function m(x){return x===96?(t.consume(x),l++,m):(t.exit("codeTextSequence"),p(x))}function p(x){return x===null?n(x):x===32?(t.enter("space"),t.consume(x),t.exit("space"),p):x===96?(s=t.enter("codeTextSequence"),o=0,y(x)):Ne(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),p):(t.enter("codeTextData"),h(x))}function h(x){return x===null||x===32||x===96||Ne(x)?(t.exit("codeTextData"),p(x)):(t.consume(x),h)}function y(x){return x===96?(t.consume(x),o++,y):o===l?(t.exit("codeTextSequence"),t.exit("codeText"),e(x)):(s.type="codeTextData",h(x))}}class bD{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const l=n??Number.POSITIVE_INFINITY;return l<this.left.length?this.left.slice(e,l):e>this.left.length?this.right.slice(this.right.length-l+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-l+this.left.length).reverse())}splice(e,n,l){const o=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return l&&Do(this.left,l),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Do(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Do(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Do(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Do(this.left,n.reverse())}}}function Do(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function H0(t){const e={};let n=-1,l,o,s,c,m,p,h;const y=new bD(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(l=y.get(n),n&&l[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(p=l[1]._tokenizer.events,s=0,s<p.length&&p[s][1].type==="lineEndingBlank"&&(s+=2),s<p.length&&p[s][1].type==="content"))for(;++s<p.length&&p[s][1].type!=="content";)p[s][1].type==="chunkText"&&(p[s][1]._isInFirstContentOfListItem=!0,s++);if(l[0]==="enter")l[1].contentType&&(Object.assign(e,_D(y,n)),n=e[n],h=!0);else if(l[1]._container){for(s=n,o=void 0;s--;)if(c=y.get(s),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(o&&(y.get(o)[1].type="lineEndingBlank"),c[1].type="lineEnding",o=s);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;o&&(l[1].end={...y.get(o)[1].start},m=y.slice(o,n),m.unshift(l),y.splice(o,n-o+1,m))}}return xn(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!h}function _D(t,e){const n=t.get(e)[1],l=t.get(e)[2];let o=e-1;const s=[];let c=n._tokenizer;c||(c=l.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const m=c.events,p=[],h={};let y,x,C=-1,T=n,E=0,k=0;const I=[k];for(;T;){for(;t.get(++o)[1]!==T;);s.push(o),T._tokenizer||(y=l.sliceStream(T),T.next||y.push(null),x&&c.defineSkip(T.start),T._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(y),T._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),x=T,T=T.next}for(T=n;++C<m.length;)m[C][0]==="exit"&&m[C-1][0]==="enter"&&m[C][1].type===m[C-1][1].type&&m[C][1].start.line!==m[C][1].end.line&&(k=C+1,I.push(k),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(c.events=[],T?(T._tokenizer=void 0,T.previous=void 0):I.pop(),C=I.length;C--;){const N=m.slice(I[C],I[C+1]),z=s.pop();p.push([z,z+N.length-1]),t.splice(z,2,N)}for(p.reverse(),C=-1;++C<p.length;)h[E+p[C][0]]=E+p[C][1],E+=p[C][1]-p[C][0]-1;return h}const AD={resolve:MD,tokenize:kD},ED={partial:!0,tokenize:wD};function MD(t){return H0(t),t}function kD(t,e){let n;return l;function l(m){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(m)}function o(m){return m===null?s(m):Ne(m)?t.check(ED,c,s)(m):(t.consume(m),o)}function s(m){return t.exit("chunkContent"),t.exit("content"),e(m)}function c(m){return t.consume(m),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function wD(t,e,n){const l=this;return o;function o(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),tt(t,s,"linePrefix")}function s(c){if(c===null||Ne(c))return n(c);const m=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(c):t.interrupt(l.parser.constructs.flow,n,e)(c)}}function $0(t,e,n,l,o,s,c,m,p){const h=p||Number.POSITIVE_INFINITY;let y=0;return x;function x(N){return N===60?(t.enter(l),t.enter(o),t.enter(s),t.consume(N),t.exit(s),C):N===null||N===32||N===41||Ms(N)?n(N):(t.enter(l),t.enter(c),t.enter(m),t.enter("chunkString",{contentType:"string"}),k(N))}function C(N){return N===62?(t.enter(s),t.consume(N),t.exit(s),t.exit(o),t.exit(l),e):(t.enter(m),t.enter("chunkString",{contentType:"string"}),T(N))}function T(N){return N===62?(t.exit("chunkString"),t.exit(m),C(N)):N===null||N===60||Ne(N)?n(N):(t.consume(N),N===92?E:T)}function E(N){return N===60||N===62||N===92?(t.consume(N),T):T(N)}function k(N){return!y&&(N===null||N===41||gt(N))?(t.exit("chunkString"),t.exit(m),t.exit(c),t.exit(l),e(N)):y<h&&N===40?(t.consume(N),y++,k):N===41?(t.consume(N),y--,k):N===null||N===32||N===40||Ms(N)?n(N):(t.consume(N),N===92?I:k)}function I(N){return N===40||N===41||N===92?(t.consume(N),k):k(N)}}function J0(t,e,n,l,o,s){const c=this;let m=0,p;return h;function h(T){return t.enter(l),t.enter(o),t.consume(T),t.exit(o),t.enter(s),y}function y(T){return m>999||T===null||T===91||T===93&&!p||T===94&&!m&&"_hiddenFootnoteSupport"in c.parser.constructs?n(T):T===93?(t.exit(s),t.enter(o),t.consume(T),t.exit(o),t.exit(l),e):Ne(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),x(T))}function x(T){return T===null||T===91||T===93||Ne(T)||m++>999?(t.exit("chunkString"),y(T)):(t.consume(T),p||(p=!Ke(T)),T===92?C:x)}function C(T){return T===91||T===92||T===93?(t.consume(T),m++,x):x(T)}}function Y0(t,e,n,l,o,s){let c;return m;function m(C){return C===34||C===39||C===40?(t.enter(l),t.enter(o),t.consume(C),t.exit(o),c=C===40?41:C,p):n(C)}function p(C){return C===c?(t.enter(o),t.consume(C),t.exit(o),t.exit(l),e):(t.enter(s),h(C))}function h(C){return C===c?(t.exit(s),p(c)):C===null?n(C):Ne(C)?(t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),tt(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===c||C===null||Ne(C)?(t.exit("chunkString"),h(C)):(t.consume(C),C===92?x:y)}function x(C){return C===c||C===92?(t.consume(C),y):y(C)}}function zo(t,e){let n;return l;function l(o){return Ne(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,l):Ke(o)?tt(t,l,n?"linePrefix":"lineSuffix")(o):e(o)}}const ND={name:"definition",tokenize:DD},RD={partial:!0,tokenize:ID};function DD(t,e,n){const l=this;let o;return s;function s(T){return t.enter("definition"),c(T)}function c(T){return J0.call(l,t,m,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function m(T){return o=qn(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),T===58?(t.enter("definitionMarker"),t.consume(T),t.exit("definitionMarker"),p):n(T)}function p(T){return gt(T)?zo(t,h)(T):h(T)}function h(T){return $0(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function y(T){return t.attempt(RD,x,x)(T)}function x(T){return Ke(T)?tt(t,C,"whitespace")(T):C(T)}function C(T){return T===null||Ne(T)?(t.exit("definition"),l.parser.defined.push(o),e(T)):n(T)}}function ID(t,e,n){return l;function l(m){return gt(m)?zo(t,o)(m):n(m)}function o(m){return Y0(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function s(m){return Ke(m)?tt(t,c,"whitespace")(m):c(m)}function c(m){return m===null||Ne(m)?e(m):n(m)}}const UD={name:"hardBreakEscape",tokenize:LD};function LD(t,e,n){return l;function l(s){return t.enter("hardBreakEscape"),t.consume(s),o}function o(s){return Ne(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const PD={name:"headingAtx",resolve:OD,tokenize:zD};function OD(t,e){let n=t.length-2,l=3,o,s;return t[l][1].type==="whitespace"&&(l+=2),n-2>l&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(l===n-1||n-4>l&&t[n-2][1].type==="whitespace")&&(n-=l+1===n?2:4),n>l&&(o={type:"atxHeadingText",start:t[l][1].start,end:t[n][1].end},s={type:"chunkText",start:t[l][1].start,end:t[n][1].end,contentType:"text"},xn(t,l,n-l+1,[["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e]])),t}function zD(t,e,n){let l=0;return o;function o(y){return t.enter("atxHeading"),s(y)}function s(y){return t.enter("atxHeadingSequence"),c(y)}function c(y){return y===35&&l++<6?(t.consume(y),c):y===null||gt(y)?(t.exit("atxHeadingSequence"),m(y)):n(y)}function m(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||Ne(y)?(t.exit("atxHeading"),e(y)):Ke(y)?tt(t,m,"whitespace")(y):(t.enter("atxHeadingText"),h(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),m(y))}function h(y){return y===null||y===35||gt(y)?(t.exit("atxHeadingText"),m(y)):(t.consume(y),h)}}const VD=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vv=["pre","script","style","textarea"],BD={concrete:!0,name:"htmlFlow",resolveTo:GD,tokenize:HD},qD={partial:!0,tokenize:JD},FD={partial:!0,tokenize:$D};function GD(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function HD(t,e,n){const l=this;let o,s,c,m,p;return h;function h(M){return y(M)}function y(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),x}function x(M){return M===33?(t.consume(M),C):M===47?(t.consume(M),s=!0,k):M===63?(t.consume(M),o=3,l.interrupt?e:_):jt(M)?(t.consume(M),c=String.fromCharCode(M),I):n(M)}function C(M){return M===45?(t.consume(M),o=2,T):M===91?(t.consume(M),o=5,m=0,E):jt(M)?(t.consume(M),o=4,l.interrupt?e:_):n(M)}function T(M){return M===45?(t.consume(M),l.interrupt?e:_):n(M)}function E(M){const ge="CDATA[";return M===ge.charCodeAt(m++)?(t.consume(M),m===ge.length?l.interrupt?e:te:E):n(M)}function k(M){return jt(M)?(t.consume(M),c=String.fromCharCode(M),I):n(M)}function I(M){if(M===null||M===47||M===62||gt(M)){const ge=M===47,Pe=c.toLowerCase();return!ge&&!s&&vv.includes(Pe)?(o=1,l.interrupt?e(M):te(M)):VD.includes(c.toLowerCase())?(o=6,ge?(t.consume(M),N):l.interrupt?e(M):te(M)):(o=7,l.interrupt&&!l.parser.lazy[l.now().line]?n(M):s?z(M):L(M))}return M===45||Xt(M)?(t.consume(M),c+=String.fromCharCode(M),I):n(M)}function N(M){return M===62?(t.consume(M),l.interrupt?e:te):n(M)}function z(M){return Ke(M)?(t.consume(M),z):P(M)}function L(M){return M===47?(t.consume(M),P):M===58||M===95||jt(M)?(t.consume(M),J):Ke(M)?(t.consume(M),L):P(M)}function J(M){return M===45||M===46||M===58||M===95||Xt(M)?(t.consume(M),J):$(M)}function $(M){return M===61?(t.consume(M),R):Ke(M)?(t.consume(M),$):L(M)}function R(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),p=M,ie):Ke(M)?(t.consume(M),R):j(M)}function ie(M){return M===p?(t.consume(M),p=null,oe):M===null||Ne(M)?n(M):(t.consume(M),ie)}function j(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||gt(M)?$(M):(t.consume(M),j)}function oe(M){return M===47||M===62||Ke(M)?L(M):n(M)}function P(M){return M===62?(t.consume(M),ee):n(M)}function ee(M){return M===null||Ne(M)?te(M):Ke(M)?(t.consume(M),ee):n(M)}function te(M){return M===45&&o===2?(t.consume(M),H):M===60&&o===1?(t.consume(M),ne):M===62&&o===4?(t.consume(M),X):M===63&&o===3?(t.consume(M),_):M===93&&o===5?(t.consume(M),qe):Ne(M)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(qD,ue,me)(M)):M===null||Ne(M)?(t.exit("htmlFlowData"),me(M)):(t.consume(M),te)}function me(M){return t.check(FD,fe,ue)(M)}function fe(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),ce}function ce(M){return M===null||Ne(M)?me(M):(t.enter("htmlFlowData"),te(M))}function H(M){return M===45?(t.consume(M),_):te(M)}function ne(M){return M===47?(t.consume(M),c="",Ce):te(M)}function Ce(M){if(M===62){const ge=c.toLowerCase();return vv.includes(ge)?(t.consume(M),X):te(M)}return jt(M)&&c.length<8?(t.consume(M),c+=String.fromCharCode(M),Ce):te(M)}function qe(M){return M===93?(t.consume(M),_):te(M)}function _(M){return M===62?(t.consume(M),X):M===45&&o===2?(t.consume(M),_):te(M)}function X(M){return M===null||Ne(M)?(t.exit("htmlFlowData"),ue(M)):(t.consume(M),X)}function ue(M){return t.exit("htmlFlow"),e(M)}}function $D(t,e,n){const l=this;return o;function o(c){return Ne(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s):n(c)}function s(c){return l.parser.lazy[l.now().line]?n(c):e(c)}}function JD(t,e,n){return l;function l(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(Jo,e,n)}}const YD={name:"htmlText",tokenize:KD};function KD(t,e,n){const l=this;let o,s,c;return m;function m(_){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(_),p}function p(_){return _===33?(t.consume(_),h):_===47?(t.consume(_),$):_===63?(t.consume(_),L):jt(_)?(t.consume(_),j):n(_)}function h(_){return _===45?(t.consume(_),y):_===91?(t.consume(_),s=0,E):jt(_)?(t.consume(_),z):n(_)}function y(_){return _===45?(t.consume(_),T):n(_)}function x(_){return _===null?n(_):_===45?(t.consume(_),C):Ne(_)?(c=x,ne(_)):(t.consume(_),x)}function C(_){return _===45?(t.consume(_),T):x(_)}function T(_){return _===62?H(_):_===45?C(_):x(_)}function E(_){const X="CDATA[";return _===X.charCodeAt(s++)?(t.consume(_),s===X.length?k:E):n(_)}function k(_){return _===null?n(_):_===93?(t.consume(_),I):Ne(_)?(c=k,ne(_)):(t.consume(_),k)}function I(_){return _===93?(t.consume(_),N):k(_)}function N(_){return _===62?H(_):_===93?(t.consume(_),N):k(_)}function z(_){return _===null||_===62?H(_):Ne(_)?(c=z,ne(_)):(t.consume(_),z)}function L(_){return _===null?n(_):_===63?(t.consume(_),J):Ne(_)?(c=L,ne(_)):(t.consume(_),L)}function J(_){return _===62?H(_):L(_)}function $(_){return jt(_)?(t.consume(_),R):n(_)}function R(_){return _===45||Xt(_)?(t.consume(_),R):ie(_)}function ie(_){return Ne(_)?(c=ie,ne(_)):Ke(_)?(t.consume(_),ie):H(_)}function j(_){return _===45||Xt(_)?(t.consume(_),j):_===47||_===62||gt(_)?oe(_):n(_)}function oe(_){return _===47?(t.consume(_),H):_===58||_===95||jt(_)?(t.consume(_),P):Ne(_)?(c=oe,ne(_)):Ke(_)?(t.consume(_),oe):H(_)}function P(_){return _===45||_===46||_===58||_===95||Xt(_)?(t.consume(_),P):ee(_)}function ee(_){return _===61?(t.consume(_),te):Ne(_)?(c=ee,ne(_)):Ke(_)?(t.consume(_),ee):oe(_)}function te(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(t.consume(_),o=_,me):Ne(_)?(c=te,ne(_)):Ke(_)?(t.consume(_),te):(t.consume(_),fe)}function me(_){return _===o?(t.consume(_),o=void 0,ce):_===null?n(_):Ne(_)?(c=me,ne(_)):(t.consume(_),me)}function fe(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||gt(_)?oe(_):(t.consume(_),fe)}function ce(_){return _===47||_===62||gt(_)?oe(_):n(_)}function H(_){return _===62?(t.consume(_),t.exit("htmlTextData"),t.exit("htmlText"),e):n(_)}function ne(_){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),Ce}function Ce(_){return Ke(_)?tt(t,qe,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):qe(_)}function qe(_){return t.enter("htmlTextData"),c(_)}}const hd={name:"labelEnd",resolveAll:WD,resolveTo:jD,tokenize:eI},ZD={tokenize:tI},XD={tokenize:nI},QD={tokenize:iI};function WD(t){let e=-1;const n=[];for(;++e<t.length;){const l=t[e][1];if(n.push(t[e]),l.type==="labelImage"||l.type==="labelLink"||l.type==="labelEnd"){const o=l.type==="labelImage"?4:2;l.type="data",e+=o}}return t.length!==n.length&&xn(t,0,t.length,n),t}function jD(t,e){let n=t.length,l=0,o,s,c,m;for(;n--;)if(o=t[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){l=2;break}}else o.type==="labelEnd"&&(c=n);const p={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[s][1].start},end:{...t[c][1].end}},y={type:"labelText",start:{...t[s+l+2][1].end},end:{...t[c-2][1].start}};return m=[["enter",p,e],["enter",h,e]],m=Rn(m,t.slice(s+1,s+l+3)),m=Rn(m,[["enter",y,e]]),m=Rn(m,zs(e.parser.constructs.insideSpan.null,t.slice(s+l+4,c-3),e)),m=Rn(m,[["exit",y,e],t[c-2],t[c-1],["exit",h,e]]),m=Rn(m,t.slice(c+1)),m=Rn(m,[["exit",p,e]]),xn(t,s,t.length,m),t}function eI(t,e,n){const l=this;let o=l.events.length,s,c;for(;o--;)if((l.events[o][1].type==="labelImage"||l.events[o][1].type==="labelLink")&&!l.events[o][1]._balanced){s=l.events[o][1];break}return m;function m(C){return s?s._inactive?x(C):(c=l.parser.defined.includes(qn(l.sliceSerialize({start:s.end,end:l.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(C),t.exit("labelMarker"),t.exit("labelEnd"),p):n(C)}function p(C){return C===40?t.attempt(ZD,y,c?y:x)(C):C===91?t.attempt(XD,y,c?h:x)(C):c?y(C):x(C)}function h(C){return t.attempt(QD,y,x)(C)}function y(C){return e(C)}function x(C){return s._balanced=!0,n(C)}}function tI(t,e,n){return l;function l(x){return t.enter("resource"),t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),o}function o(x){return gt(x)?zo(t,s)(x):s(x)}function s(x){return x===41?y(x):$0(t,c,m,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function c(x){return gt(x)?zo(t,p)(x):y(x)}function m(x){return n(x)}function p(x){return x===34||x===39||x===40?Y0(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):y(x)}function h(x){return gt(x)?zo(t,y)(x):y(x)}function y(x){return x===41?(t.enter("resourceMarker"),t.consume(x),t.exit("resourceMarker"),t.exit("resource"),e):n(x)}}function nI(t,e,n){const l=this;return o;function o(m){return J0.call(l,t,s,c,"reference","referenceMarker","referenceString")(m)}function s(m){return l.parser.defined.includes(qn(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)))?e(m):n(m)}function c(m){return n(m)}}function iI(t,e,n){return l;function l(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),o}function o(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const lI={name:"labelStartImage",resolveAll:hd.resolveAll,tokenize:rI};function rI(t,e,n){const l=this;return o;function o(m){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(m),t.exit("labelImageMarker"),s}function s(m){return m===91?(t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelImage"),c):n(m)}function c(m){return m===94&&"_hiddenFootnoteSupport"in l.parser.constructs?n(m):e(m)}}const oI={name:"labelStartLink",resolveAll:hd.resolveAll,tokenize:aI};function aI(t,e,n){const l=this;return o;function o(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),s}function s(c){return c===94&&"_hiddenFootnoteSupport"in l.parser.constructs?n(c):e(c)}}const ff={name:"lineEnding",tokenize:sI};function sI(t,e){return n;function n(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),tt(t,e,"linePrefix")}}const vs={name:"thematicBreak",tokenize:uI};function uI(t,e,n){let l=0,o;return s;function s(h){return t.enter("thematicBreak"),c(h)}function c(h){return o=h,m(h)}function m(h){return h===o?(t.enter("thematicBreakSequence"),p(h)):l>=3&&(h===null||Ne(h))?(t.exit("thematicBreak"),e(h)):n(h)}function p(h){return h===o?(t.consume(h),l++,p):(t.exit("thematicBreakSequence"),Ke(h)?tt(t,m,"whitespace")(h):m(h))}}const sn={continuation:{tokenize:mI},exit:pI,name:"list",tokenize:dI},cI={partial:!0,tokenize:gI},fI={partial:!0,tokenize:hI};function dI(t,e,n){const l=this,o=l.events[l.events.length-1];let s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0;return m;function m(T){const E=l.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!l.containerState.marker||T===l.containerState.marker:Jf(T)){if(l.containerState.type||(l.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),T===42||T===45?t.check(vs,n,h)(T):h(T);if(!l.interrupt||T===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(T)}return n(T)}function p(T){return Jf(T)&&++c<10?(t.consume(T),p):(!l.interrupt||c<2)&&(l.containerState.marker?T===l.containerState.marker:T===41||T===46)?(t.exit("listItemValue"),h(T)):n(T)}function h(T){return t.enter("listItemMarker"),t.consume(T),t.exit("listItemMarker"),l.containerState.marker=l.containerState.marker||T,t.check(Jo,l.interrupt?n:y,t.attempt(cI,C,x))}function y(T){return l.containerState.initialBlankLine=!0,s++,C(T)}function x(T){return Ke(T)?(t.enter("listItemPrefixWhitespace"),t.consume(T),t.exit("listItemPrefixWhitespace"),C):n(T)}function C(T){return l.containerState.size=s+l.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(T)}}function mI(t,e,n){const l=this;return l.containerState._closeFlow=void 0,t.check(Jo,o,s);function o(m){return l.containerState.furtherBlankLines=l.containerState.furtherBlankLines||l.containerState.initialBlankLine,tt(t,e,"listItemIndent",l.containerState.size+1)(m)}function s(m){return l.containerState.furtherBlankLines||!Ke(m)?(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,c(m)):(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,t.attempt(fI,e,c)(m))}function c(m){return l.containerState._closeFlow=!0,l.interrupt=void 0,tt(t,t.attempt(sn,e,n),"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m)}}function hI(t,e,n){const l=this;return tt(t,o,"listItemIndent",l.containerState.size+1);function o(s){const c=l.events[l.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===l.containerState.size?e(s):n(s)}}function pI(t){t.exit(this.containerState.type)}function gI(t,e,n){const l=this;return tt(t,o,"listItemPrefixWhitespace",l.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){const c=l.events[l.events.length-1];return!Ke(s)&&c&&c[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const xv={name:"setextUnderline",resolveTo:yI,tokenize:vI};function yI(t,e){let n=t.length,l,o,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){l=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const c={type:"setextHeading",start:{...t[l][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",s?(t.splice(o,0,["enter",c,e]),t.splice(s+1,0,["exit",t[l][1],e]),t[l][1].end={...t[s][1].end}):t[l][1]=c,t.push(["exit",c,e]),t}function vI(t,e,n){const l=this;let o;return s;function s(h){let y=l.events.length,x;for(;y--;)if(l.events[y][1].type!=="lineEnding"&&l.events[y][1].type!=="linePrefix"&&l.events[y][1].type!=="content"){x=l.events[y][1].type==="paragraph";break}return!l.parser.lazy[l.now().line]&&(l.interrupt||x)?(t.enter("setextHeadingLine"),o=h,c(h)):n(h)}function c(h){return t.enter("setextHeadingLineSequence"),m(h)}function m(h){return h===o?(t.consume(h),m):(t.exit("setextHeadingLineSequence"),Ke(h)?tt(t,p,"lineSuffix")(h):p(h))}function p(h){return h===null||Ne(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const xI={tokenize:CI};function CI(t){const e=this,n=t.attempt(Jo,l,t.attempt(this.parser.constructs.flowInitial,o,tt(t,t.attempt(this.parser.constructs.flow,o,t.attempt(AD,o)),"linePrefix")));return n;function l(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const TI={resolveAll:Z0()},SI=K0("string"),bI=K0("text");function K0(t){return{resolveAll:Z0(t==="text"?_I:void 0),tokenize:e};function e(n){const l=this,o=this.parser.constructs[t],s=n.attempt(o,c,m);return c;function c(y){return h(y)?s(y):m(y)}function m(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return h(y)?(n.exit("data"),s(y)):(n.consume(y),p)}function h(y){if(y===null)return!0;const x=o[y];let C=-1;if(x)for(;++C<x.length;){const T=x[C];if(!T.previous||T.previous.call(l,l.previous))return!0}return!1}}}function Z0(t){return e;function e(n,l){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return t?t(n,l):n}}function _I(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const l=t[n-1][1],o=e.sliceStream(l);let s=o.length,c=-1,m=0,p;for(;s--;){const h=o[s];if(typeof h=="string"){for(c=h.length;h.charCodeAt(c-1)===32;)m++,c--;if(c)break;c=-1}else if(h===-2)p=!0,m++;else if(h!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(m=0),m){const h={type:n===t.length||p||m<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?c:l.start._bufferIndex+c,_index:l.start._index+s,line:l.end.line,column:l.end.column-m,offset:l.end.offset-m},end:{...l.end}};l.end={...h.start},l.start.offset===l.end.offset?Object.assign(l,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const AI={42:sn,43:sn,45:sn,48:sn,49:sn,50:sn,51:sn,52:sn,53:sn,54:sn,55:sn,56:sn,57:sn,62:q0},EI={91:ND},MI={[-2]:cf,[-1]:cf,32:cf},kI={35:PD,42:vs,45:[xv,vs],60:BD,61:xv,95:vs,96:yv,126:yv},wI={38:G0,92:F0},NI={[-5]:ff,[-4]:ff,[-3]:ff,33:lI,38:G0,42:Yf,60:[oD,YD],91:oI,92:[UD,F0],93:hd,95:Yf,96:xD},RI={null:[Yf,TI]},DI={null:[42,95]},II={null:[]},UI=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:DI,contentInitial:EI,disable:II,document:AI,flow:kI,flowInitial:MI,insideSpan:RI,string:wI,text:NI},Symbol.toStringTag,{value:"Module"}));function LI(t,e,n){let l={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},s=[];let c=[],m=[];const p={attempt:ie($),check:ie(R),consume:z,enter:L,exit:J,interrupt:ie(R,{interrupt:!0})},h={code:null,containerState:{},defineSkip:k,events:[],now:E,parser:t,previous:null,sliceSerialize:C,sliceStream:T,write:x};let y=e.tokenize.call(h,p);return e.resolveAll&&s.push(e),h;function x(ee){return c=Rn(c,ee),I(),c[c.length-1]!==null?[]:(j(e,0),h.events=zs(s,h.events,h),h.events)}function C(ee,te){return OI(T(ee),te)}function T(ee){return PI(c,ee)}function E(){const{_bufferIndex:ee,_index:te,line:me,column:fe,offset:ce}=l;return{_bufferIndex:ee,_index:te,line:me,column:fe,offset:ce}}function k(ee){o[ee.line]=ee.column,P()}function I(){let ee;for(;l._index<c.length;){const te=c[l._index];if(typeof te=="string")for(ee=l._index,l._bufferIndex<0&&(l._bufferIndex=0);l._index===ee&&l._bufferIndex<te.length;)N(te.charCodeAt(l._bufferIndex));else N(te)}}function N(ee){y=y(ee)}function z(ee){Ne(ee)?(l.line++,l.column=1,l.offset+=ee===-3?2:1,P()):ee!==-1&&(l.column++,l.offset++),l._bufferIndex<0?l._index++:(l._bufferIndex++,l._bufferIndex===c[l._index].length&&(l._bufferIndex=-1,l._index++)),h.previous=ee}function L(ee,te){const me=te||{};return me.type=ee,me.start=E(),h.events.push(["enter",me,h]),m.push(me),me}function J(ee){const te=m.pop();return te.end=E(),h.events.push(["exit",te,h]),te}function $(ee,te){j(ee,te.from)}function R(ee,te){te.restore()}function ie(ee,te){return me;function me(fe,ce,H){let ne,Ce,qe,_;return Array.isArray(fe)?ue(fe):"tokenize"in fe?ue([fe]):X(fe);function X(ye){return bt;function bt(Ze){const Lt=Ze!==null&&ye[Ze],cn=Ze!==null&&ye.null,Cn=[...Array.isArray(Lt)?Lt:Lt?[Lt]:[],...Array.isArray(cn)?cn:cn?[cn]:[]];return ue(Cn)(Ze)}}function ue(ye){return ne=ye,Ce=0,ye.length===0?H:M(ye[Ce])}function M(ye){return bt;function bt(Ze){return _=oe(),qe=ye,ye.partial||(h.currentConstruct=ye),ye.name&&h.parser.constructs.disable.null.includes(ye.name)?Pe():ye.tokenize.call(te?Object.assign(Object.create(h),te):h,p,ge,Pe)(Ze)}}function ge(ye){return ee(qe,_),ce}function Pe(ye){return _.restore(),++Ce<ne.length?M(ne[Ce]):H}}}function j(ee,te){ee.resolveAll&&!s.includes(ee)&&s.push(ee),ee.resolve&&xn(h.events,te,h.events.length-te,ee.resolve(h.events.slice(te),h)),ee.resolveTo&&(h.events=ee.resolveTo(h.events,h))}function oe(){const ee=E(),te=h.previous,me=h.currentConstruct,fe=h.events.length,ce=Array.from(m);return{from:fe,restore:H};function H(){l=ee,h.previous=te,h.currentConstruct=me,h.events.length=fe,m=ce,P()}}function P(){l.line in o&&l.column<2&&(l.column=o[l.line],l.offset+=o[l.line]-1)}}function PI(t,e){const n=e.start._index,l=e.start._bufferIndex,o=e.end._index,s=e.end._bufferIndex;let c;if(n===o)c=[t[n].slice(l,s)];else{if(c=t.slice(n,o),l>-1){const m=c[0];typeof m=="string"?c[0]=m.slice(l):c.shift()}s>0&&c.push(t[o].slice(0,s))}return c}function OI(t,e){let n=-1;const l=[];let o;for(;++n<t.length;){const s=t[n];let c;if(typeof s=="string")c=s;else switch(s){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&o)continue;c=" ";break}default:c=String.fromCharCode(s)}o=s===-2,l.push(c)}return l.join("")}function zI(t){const l={constructs:V0([UI,...(t||{}).extensions||[]]),content:o(jR),defined:[],document:o(tD),flow:o(xI),lazy:{},string:o(SI),text:o(bI)};return l;function o(s){return c;function c(m){return LI(l,s,m)}}}function VI(t){for(;!H0(t););return t}const Cv=/[\0\t\n\r]/g;function BI(){let t=1,e="",n=!0,l;return o;function o(s,c,m){const p=[];let h,y,x,C,T;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(c||void 0).decode(s)),x=0,e="",n&&(s.charCodeAt(0)===65279&&x++,n=void 0);x<s.length;){if(Cv.lastIndex=x,h=Cv.exec(s),C=h&&h.index!==void 0?h.index:s.length,T=s.charCodeAt(C),!h){e=s.slice(x);break}if(T===10&&x===C&&l)p.push(-3),l=void 0;else switch(l&&(p.push(-5),l=void 0),x<C&&(p.push(s.slice(x,C)),t+=C-x),T){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:l=!0,t=1}x=C+1}return m&&(l&&p.push(-5),e&&p.push(e),p.push(null)),p}}const qI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FI(t){return t.replace(qI,GI)}function GI(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),s=o===120||o===88;return B0(n.slice(s?2:1),s?16:10)}return md(n)||t}const X0={}.hasOwnProperty;function HI(t,e,n){return typeof e!="string"&&(n=e,e=void 0),$I(n)(VI(zI(n).document().write(BI()(t,e,!0))))}function $I(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(O),autolinkProtocol:oe,autolinkEmail:oe,atxHeading:s(Xi),blockQuote:s(cn),characterEscape:oe,characterReference:oe,codeFenced:s(Cn),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(Cn,c),codeText:s(vi,c),codeTextData:oe,data:oe,codeFlowValue:oe,definition:s(xi),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(Ci),hardBreakEscape:s(Qi),hardBreakTrailing:s(Qi),htmlFlow:s(Ht,c),htmlFlowData:oe,htmlText:s(Ht,c),htmlTextData:oe,image:s(_l),label:c,link:s(O),listItem:s(Se),listItemValue:C,listOrdered:s(Q,x),listUnordered:s(Q),paragraph:s(Te),reference:M,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(Xi),strong:s(ke),thematicBreak:s(Ve)},exit:{atxHeading:p(),atxHeadingSequence:$,autolink:p(),autolinkEmail:Lt,autolinkProtocol:Ze,blockQuote:p(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:Pe,characterReferenceMarkerNumeric:Pe,characterReferenceValue:ye,characterReference:bt,codeFenced:p(I),codeFencedFence:k,codeFencedFenceInfo:T,codeFencedFenceMeta:E,codeFlowValue:P,codeIndented:p(N),codeText:p(ce),codeTextData:P,data:P,definition:p(),definitionDestinationString:J,definitionLabelString:z,definitionTitleString:L,emphasis:p(),hardBreakEscape:p(te),hardBreakTrailing:p(te),htmlFlow:p(me),htmlFlowData:P,htmlText:p(fe),htmlTextData:P,image:p(ne),label:qe,labelText:Ce,lineEnding:ee,link:p(H),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ge,resourceDestinationString:_,resourceTitleString:X,resource:ue,setextHeading:p(j),setextHeadingLineSequence:ie,setextHeadingText:R,strong:p(),thematicBreak:p()}};Q0(e,(t||{}).mdastExtensions||[]);const n={};return l;function l(q){let Y={type:"root",children:[]};const ae={stack:[Y],tokenStack:[],config:e,enter:m,exit:h,buffer:c,resume:y,data:n},se=[];let pe=-1;for(;++pe<q.length;)if(q[pe][1].type==="listOrdered"||q[pe][1].type==="listUnordered")if(q[pe][0]==="enter")se.push(pe);else{const Ae=se.pop();pe=o(q,Ae,pe)}for(pe=-1;++pe<q.length;){const Ae=e[q[pe][0]];X0.call(Ae,q[pe][1].type)&&Ae[q[pe][1].type].call(Object.assign({sliceSerialize:q[pe][2].sliceSerialize},ae),q[pe][1])}if(ae.tokenStack.length>0){const Ae=ae.tokenStack[ae.tokenStack.length-1];(Ae[1]||Tv).call(ae,void 0,Ae[0])}for(Y.position={start:$i(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:$i(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},pe=-1;++pe<e.transforms.length;)Y=e.transforms[pe](Y)||Y;return Y}function o(q,Y,ae){let se=Y-1,pe=-1,Ae=!1,We,ut,mt,yt;for(;++se<=ae;){const he=q[se];switch(he[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{he[0]==="enter"?pe++:pe--,yt=void 0;break}case"lineEndingBlank":{he[0]==="enter"&&(We&&!yt&&!pe&&!mt&&(mt=se),yt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yt=void 0}if(!pe&&he[0]==="enter"&&he[1].type==="listItemPrefix"||pe===-1&&he[0]==="exit"&&(he[1].type==="listUnordered"||he[1].type==="listOrdered")){if(We){let Xe=se;for(ut=void 0;Xe--;){const $e=q[Xe];if($e[1].type==="lineEnding"||$e[1].type==="lineEndingBlank"){if($e[0]==="exit")continue;ut&&(q[ut][1].type="lineEndingBlank",Ae=!0),$e[1].type="lineEnding",ut=Xe}else if(!($e[1].type==="linePrefix"||$e[1].type==="blockQuotePrefix"||$e[1].type==="blockQuotePrefixWhitespace"||$e[1].type==="blockQuoteMarker"||$e[1].type==="listItemIndent"))break}mt&&(!ut||mt<ut)&&(We._spread=!0),We.end=Object.assign({},ut?q[ut][1].start:he[1].end),q.splice(ut||se,0,["exit",We,he[2]]),se++,ae++}if(he[1].type==="listItemPrefix"){const Xe={type:"listItem",_spread:!1,start:Object.assign({},he[1].start),end:void 0};We=Xe,q.splice(se,0,["enter",Xe,he[2]]),se++,ae++,mt=void 0,yt=!0}}}return q[Y][1]._spread=Ae,ae}function s(q,Y){return ae;function ae(se){m.call(this,q(se),se),Y&&Y.call(this,se)}}function c(){this.stack.push({type:"fragment",children:[]})}function m(q,Y,ae){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([Y,ae||void 0]),q.position={start:$i(Y.start),end:void 0}}function p(q){return Y;function Y(ae){q&&q.call(this,ae),h.call(this,ae)}}function h(q,Y){const ae=this.stack.pop(),se=this.tokenStack.pop();if(se)se[0].type!==q.type&&(Y?Y.call(this,q,se[0]):(se[1]||Tv).call(this,q,se[0]));else throw new Error("Cannot close `"+q.type+"` ("+Oo({start:q.start,end:q.end})+"): it’s not open");ae.position.end=$i(q.end)}function y(){return dd(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function C(q){if(this.data.expectingFirstListItemValue){const Y=this.stack[this.stack.length-2];Y.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function T(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.lang=q}function E(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.meta=q}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q.replace(/(\r?\n|\r)$/g,"")}function z(q){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.label=Y,ae.identifier=qn(this.sliceSerialize(q)).toLowerCase()}function L(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.title=q}function J(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.url=q}function $(q){const Y=this.stack[this.stack.length-1];if(!Y.depth){const ae=this.sliceSerialize(q).length;Y.depth=ae}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function ie(q){const Y=this.stack[this.stack.length-1];Y.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function oe(q){const ae=this.stack[this.stack.length-1].children;let se=ae[ae.length-1];(!se||se.type!=="text")&&(se=we(),se.position={start:$i(q.start),end:void 0},ae.push(se)),this.stack.push(se)}function P(q){const Y=this.stack.pop();Y.value+=this.sliceSerialize(q),Y.position.end=$i(q.end)}function ee(q){const Y=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ae=Y.children[Y.children.length-1];ae.position.end=$i(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Y.type)&&(oe.call(this,q),P.call(this,q))}function te(){this.data.atHardBreak=!0}function me(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q}function fe(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q}function ce(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.value=q}function H(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=Y,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function ne(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=Y,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function Ce(q){const Y=this.sliceSerialize(q),ae=this.stack[this.stack.length-2];ae.label=FI(Y),ae.identifier=qn(Y).toLowerCase()}function qe(){const q=this.stack[this.stack.length-1],Y=this.resume(),ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,ae.type==="link"){const se=q.children;ae.children=se}else ae.alt=Y}function _(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.url=q}function X(){const q=this.resume(),Y=this.stack[this.stack.length-1];Y.title=q}function ue(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function ge(q){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.label=Y,ae.identifier=qn(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function Pe(q){this.data.characterReferenceType=q.type}function ye(q){const Y=this.sliceSerialize(q),ae=this.data.characterReferenceType;let se;ae?(se=B0(Y,ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):se=md(Y);const pe=this.stack[this.stack.length-1];pe.value+=se}function bt(q){const Y=this.stack.pop();Y.position.end=$i(q.end)}function Ze(q){P.call(this,q);const Y=this.stack[this.stack.length-1];Y.url=this.sliceSerialize(q)}function Lt(q){P.call(this,q);const Y=this.stack[this.stack.length-1];Y.url="mailto:"+this.sliceSerialize(q)}function cn(){return{type:"blockquote",children:[]}}function Cn(){return{type:"code",lang:null,meta:null,value:""}}function vi(){return{type:"inlineCode",value:""}}function xi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ci(){return{type:"emphasis",children:[]}}function Xi(){return{type:"heading",depth:0,children:[]}}function Qi(){return{type:"break"}}function Ht(){return{type:"html",value:""}}function _l(){return{type:"image",title:null,url:"",alt:null}}function O(){return{type:"link",title:null,url:"",children:[]}}function Q(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function Se(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function Te(){return{type:"paragraph",children:[]}}function ke(){return{type:"strong",children:[]}}function we(){return{type:"text",value:""}}function Ve(){return{type:"thematicBreak"}}}function $i(t){return{line:t.line,column:t.column,offset:t.offset}}function Q0(t,e){let n=-1;for(;++n<e.length;){const l=e[n];Array.isArray(l)?Q0(t,l):JI(t,l)}}function JI(t,e){let n;for(n in e)if(X0.call(e,n))switch(n){case"canContainEols":{const l=e[n];l&&t[n].push(...l);break}case"transforms":{const l=e[n];l&&t[n].push(...l);break}case"enter":case"exit":{const l=e[n];l&&Object.assign(t[n],l);break}}}function Tv(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Oo({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Oo({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Oo({start:e.start,end:e.end})+") is still open")}function YI(t){const e=this;e.parser=n;function n(l){return HI(l,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function KI(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function ZI(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function XI(t,e){const n=e.value?e.value+`
`:"",l={};e.lang&&(l.className=["language-"+e.lang]);let o={type:"element",tagName:"code",properties:l,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function QI(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WI(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jI(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",l=String(e.identifier).toUpperCase(),o=Rr(l.toLowerCase()),s=t.footnoteOrder.indexOf(l);let c,m=t.footnoteCounts.get(l);m===void 0?(m=0,t.footnoteOrder.push(l),c=t.footnoteOrder.length):c=s+1,m+=1,t.footnoteCounts.set(l,m);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(m>1?"-"+m:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,p);const h={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,h),t.applyData(e,h)}function e2(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function t2(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function W0(t,e){const n=e.referenceType;let l="]";if(n==="collapsed"?l+="[]":n==="full"&&(l+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+l}];const o=t.all(e),s=o[0];s&&s.type==="text"?s.value="["+s.value:o.unshift({type:"text",value:"["});const c=o[o.length-1];return c&&c.type==="text"?c.value+=l:o.push({type:"text",value:l}),o}function n2(t,e){const n=String(e.identifier).toUpperCase(),l=t.definitionById.get(n);if(!l)return W0(t,e);const o={src:Rr(l.url||""),alt:e.alt};l.title!==null&&l.title!==void 0&&(o.title=l.title);const s={type:"element",tagName:"img",properties:o,children:[]};return t.patch(e,s),t.applyData(e,s)}function i2(t,e){const n={src:Rr(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const l={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,l),t.applyData(e,l)}function l2(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const l={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,l),t.applyData(e,l)}function r2(t,e){const n=String(e.identifier).toUpperCase(),l=t.definitionById.get(n);if(!l)return W0(t,e);const o={href:Rr(l.url||"")};l.title!==null&&l.title!==void 0&&(o.title=l.title);const s={type:"element",tagName:"a",properties:o,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function o2(t,e){const n={href:Rr(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const l={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function a2(t,e,n){const l=t.all(e),o=n?s2(n):j0(e),s={},c=[];if(typeof e.checked=="boolean"){const y=l[0];let x;y&&y.type==="element"&&y.tagName==="p"?x=y:(x={type:"element",tagName:"p",properties:{},children:[]},l.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let m=-1;for(;++m<l.length;){const y=l[m];(o||m!==0||y.type!=="element"||y.tagName!=="p")&&c.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!o?c.push(...y.children):c.push(y)}const p=l[l.length-1];p&&(o||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:s,children:c};return t.patch(e,h),t.applyData(e,h)}function s2(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let l=-1;for(;!e&&++l<n.length;)e=j0(n[l])}return e}function j0(t){const e=t.spread;return e??t.children.length>1}function u2(t,e){const n={},l=t.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<l.length;){const c=l[o];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(l,!0)};return t.patch(e,s),t.applyData(e,s)}function c2(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function f2(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function d2(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function m2(t,e){const n=t.all(e),l=n.shift(),o=[];if(l){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([l],!0)};t.patch(e.children[0],c),o.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},m=sd(e.children[1]),p=D0(e.children[e.children.length-1]);m&&p&&(c.position={start:m,end:p}),o.push(c)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(e,s),t.applyData(e,s)}function h2(t,e,n){const l=n?n.children:void 0,s=(l?l.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,m=c?c.length:e.children.length;let p=-1;const h=[];for(;++p<m;){const x=e.children[p],C={},T=c?c[p]:void 0;T&&(C.align=T);let E={type:"element",tagName:s,properties:C,children:[]};x&&(E.children=t.all(x),t.patch(x,E),E=t.applyData(x,E)),h.push(E)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,y),t.applyData(e,y)}function p2(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Sv=9,bv=32;function g2(t){const e=String(t),n=/\r?\n|\r/g;let l=n.exec(e),o=0;const s=[];for(;l;)s.push(_v(e.slice(o,l.index),o>0,!0),l[0]),o=l.index+l[0].length,l=n.exec(e);return s.push(_v(e.slice(o),o>0,!1)),s.join("")}function _v(t,e,n){let l=0,o=t.length;if(e){let s=t.codePointAt(l);for(;s===Sv||s===bv;)l++,s=t.codePointAt(l)}if(n){let s=t.codePointAt(o-1);for(;s===Sv||s===bv;)o--,s=t.codePointAt(o-1)}return o>l?t.slice(l,o):""}function y2(t,e){const n={type:"text",value:g2(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function v2(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const x2={blockquote:KI,break:ZI,code:XI,delete:QI,emphasis:WI,footnoteReference:jI,heading:e2,html:t2,imageReference:n2,image:i2,inlineCode:l2,linkReference:r2,link:o2,listItem:a2,list:u2,paragraph:c2,root:f2,strong:d2,table:m2,tableCell:p2,tableRow:h2,text:y2,thematicBreak:v2,toml:ss,yaml:ss,definition:ss,footnoteDefinition:ss};function ss(){}const ex=-1,Vs=0,Vo=1,ks=2,pd=3,gd=4,yd=5,vd=6,tx=7,nx=8,Av=typeof self=="object"?self:globalThis,C2=(t,e)=>{const n=(o,s)=>(t.set(s,o),o),l=o=>{if(t.has(o))return t.get(o);const[s,c]=e[o];switch(s){case Vs:case ex:return n(c,o);case Vo:{const m=n([],o);for(const p of c)m.push(l(p));return m}case ks:{const m=n({},o);for(const[p,h]of c)m[l(p)]=l(h);return m}case pd:return n(new Date(c),o);case gd:{const{source:m,flags:p}=c;return n(new RegExp(m,p),o)}case yd:{const m=n(new Map,o);for(const[p,h]of c)m.set(l(p),l(h));return m}case vd:{const m=n(new Set,o);for(const p of c)m.add(l(p));return m}case tx:{const{name:m,message:p}=c;return n(new Av[m](p),o)}case nx:return n(BigInt(c),o);case"BigInt":return n(Object(BigInt(c)),o);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:m}=new Uint8Array(c);return n(new DataView(m),c)}}return n(new Av[s](c),o)};return l},Ev=t=>C2(new Map,t)(0),mr="",{toString:T2}={},{keys:S2}=Object,Io=t=>{const e=typeof t;if(e!=="object"||!t)return[Vs,e];const n=T2.call(t).slice(8,-1);switch(n){case"Array":return[Vo,mr];case"Object":return[ks,mr];case"Date":return[pd,mr];case"RegExp":return[gd,mr];case"Map":return[yd,mr];case"Set":return[vd,mr];case"DataView":return[Vo,n]}return n.includes("Array")?[Vo,n]:n.includes("Error")?[tx,n]:[ks,n]},us=([t,e])=>t===Vs&&(e==="function"||e==="symbol"),b2=(t,e,n,l)=>{const o=(c,m)=>{const p=l.push(c)-1;return n.set(m,p),p},s=c=>{if(n.has(c))return n.get(c);let[m,p]=Io(c);switch(m){case Vs:{let y=c;switch(p){case"bigint":m=nx,y=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return o([ex],c)}return o([m,y],c)}case Vo:{if(p){let C=c;return p==="DataView"?C=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(C=new Uint8Array(c)),o([p,[...C]],c)}const y=[],x=o([m,y],c);for(const C of c)y.push(s(C));return x}case ks:{if(p)switch(p){case"BigInt":return o([p,c.toString()],c);case"Boolean":case"Number":case"String":return o([p,c.valueOf()],c)}if(e&&"toJSON"in c)return s(c.toJSON());const y=[],x=o([m,y],c);for(const C of S2(c))(t||!us(Io(c[C])))&&y.push([s(C),s(c[C])]);return x}case pd:return o([m,c.toISOString()],c);case gd:{const{source:y,flags:x}=c;return o([m,{source:y,flags:x}],c)}case yd:{const y=[],x=o([m,y],c);for(const[C,T]of c)(t||!(us(Io(C))||us(Io(T))))&&y.push([s(C),s(T)]);return x}case vd:{const y=[],x=o([m,y],c);for(const C of c)(t||!us(Io(C)))&&y.push(s(C));return x}}const{message:h}=c;return o([m,{name:p,message:h}],c)};return s},Mv=(t,{json:e,lossy:n}={})=>{const l=[];return b2(!(e||n),!!e,new Map,l)(t),l},ws=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Ev(Mv(t,e)):structuredClone(t):(t,e)=>Ev(Mv(t,e));function _2(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function A2(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function E2(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||_2,l=t.options.footnoteBackLabel||A2,o=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},m=[];let p=-1;for(;++p<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[p]);if(!h)continue;const y=t.all(h),x=String(h.identifier).toUpperCase(),C=Rr(x.toLowerCase());let T=0;const E=[],k=t.footnoteCounts.get(x);for(;k!==void 0&&++T<=k;){E.length>0&&E.push({type:"text",value:" "});let z=typeof n=="string"?n:n(p,T);typeof z=="string"&&(z={type:"text",value:z}),E.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+C+(T>1?"-"+T:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(p,T),className:["data-footnote-backref"]},children:Array.isArray(z)?z:[z]})}const I=y[y.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const z=I.children[I.children.length-1];z&&z.type==="text"?z.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...E)}else y.push(...E);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+C},children:t.wrap(y,!0)};t.patch(h,N),m.push(N)}if(m.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...ws(c),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(m,!0)},{type:"text",value:`
`}]}}const Bs=function(t){if(t==null)return N2;if(typeof t=="function")return qs(t);if(typeof t=="object")return Array.isArray(t)?M2(t):k2(t);if(typeof t=="string")return w2(t);throw new Error("Expected function, string, or object as test")};function M2(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Bs(t[n]);return qs(l);function l(...o){let s=-1;for(;++s<e.length;)if(e[s].apply(this,o))return!0;return!1}}function k2(t){const e=t;return qs(n);function n(l){const o=l;let s;for(s in t)if(o[s]!==e[s])return!1;return!0}}function w2(t){return qs(e);function e(n){return n&&n.type===t}}function qs(t){return e;function e(n,l,o){return!!(R2(n)&&t.call(this,n,typeof l=="number"?l:void 0,o||void 0))}}function N2(){return!0}function R2(t){return t!==null&&typeof t=="object"&&"type"in t}const ix=[],D2=!0,Kf=!1,I2="skip";function lx(t,e,n,l){let o;typeof e=="function"&&typeof n!="function"?(l=n,n=e):o=e;const s=Bs(o),c=l?-1:1;m(t,void 0,[])();function m(p,h,y){const x=p&&typeof p=="object"?p:{};if(typeof x.type=="string"){const T=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(C,"name",{value:"node ("+(p.type+(T?"<"+T+">":""))+")"})}return C;function C(){let T=ix,E,k,I;if((!e||s(p,h,y[y.length-1]||void 0))&&(T=U2(n(p,y)),T[0]===Kf))return T;if("children"in p&&p.children){const N=p;if(N.children&&T[0]!==I2)for(k=(l?N.children.length:-1)+c,I=y.concat(N);k>-1&&k<N.children.length;){const z=N.children[k];if(E=m(z,k,I)(),E[0]===Kf)return E;k=typeof E[1]=="number"?E[1]:k+c}}return T}}}function U2(t){return Array.isArray(t)?t:typeof t=="number"?[D2,t]:t==null?ix:[t]}function xd(t,e,n,l){let o,s,c;typeof e=="function"&&typeof n!="function"?(s=void 0,c=e,o=n):(s=e,c=n,o=l),lx(t,s,m,o);function m(p,h){const y=h[h.length-1],x=y?y.children.indexOf(p):void 0;return c(p,x,y)}}const Zf={}.hasOwnProperty,L2={};function P2(t,e){const n=e||L2,l=new Map,o=new Map,s=new Map,c={...x2,...n.handlers},m={all:h,applyData:z2,definitionById:l,footnoteById:o,footnoteCounts:s,footnoteOrder:[],handlers:c,one:p,options:n,patch:O2,wrap:B2};return xd(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const x=y.type==="definition"?l:o,C=String(y.identifier).toUpperCase();x.has(C)||x.set(C,y)}}),m;function p(y,x){const C=y.type,T=m.handlers[C];if(Zf.call(m.handlers,C)&&T)return T(m,y,x);if(m.options.passThrough&&m.options.passThrough.includes(C)){if("children"in y){const{children:k,...I}=y,N=ws(I);return N.children=m.all(y),N}return ws(y)}return(m.options.unknownHandler||V2)(m,y,x)}function h(y){const x=[];if("children"in y){const C=y.children;let T=-1;for(;++T<C.length;){const E=m.one(C[T],y);if(E){if(T&&C[T-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=kv(E.value)),!Array.isArray(E)&&E.type==="element")){const k=E.children[0];k&&k.type==="text"&&(k.value=kv(k.value))}Array.isArray(E)?x.push(...E):x.push(E)}}}return x}}function O2(t,e){t.position&&(e.position=AR(t))}function z2(t,e){let n=e;if(t&&t.data){const l=t.data.hName,o=t.data.hChildren,s=t.data.hProperties;if(typeof l=="string")if(n.type==="element")n.tagName=l;else{const c="children"in n?n.children:[n];n={type:"element",tagName:l,properties:{},children:c}}n.type==="element"&&s&&Object.assign(n.properties,ws(s)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function V2(t,e){const n=e.data||{},l="value"in e&&!(Zf.call(n,"hProperties")||Zf.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function B2(t,e){const n=[];let l=-1;for(e&&n.push({type:"text",value:`
`});++l<t.length;)l&&n.push({type:"text",value:`
`}),n.push(t[l]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function kv(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function wv(t,e){const n=P2(t,e),l=n.one(t,void 0),o=E2(n),s=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return o&&s.children.push({type:"text",value:`
`},o),s}function q2(t,e){return t&&"run"in t?async function(n,l){const o=wv(n,{file:l,...e});await t.run(o,l)}:function(n,l){return wv(n,{file:l,...t||e})}}function Nv(t){if(t)throw t}var df,Rv;function F2(){if(Rv)return df;Rv=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,o=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},s=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var y=t.call(h,"constructor"),x=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!y&&!x)return!1;var C;for(C in h);return typeof C>"u"||t.call(h,C)},c=function(h,y){n&&y.name==="__proto__"?n(h,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):h[y.name]=y.newValue},m=function(h,y){if(y==="__proto__")if(t.call(h,y)){if(l)return l(h,y).value}else return;return h[y]};return df=function p(){var h,y,x,C,T,E,k=arguments[0],I=1,N=arguments.length,z=!1;for(typeof k=="boolean"&&(z=k,k=arguments[1]||{},I=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});I<N;++I)if(h=arguments[I],h!=null)for(y in h)x=m(k,y),C=m(h,y),k!==C&&(z&&C&&(s(C)||(T=o(C)))?(T?(T=!1,E=x&&o(x)?x:[]):E=x&&s(x)?x:{},c(k,{name:y,newValue:p(z,E,C)})):typeof C<"u"&&c(k,{name:y,newValue:C}));return k},df}var G2=F2();const mf=Ds(G2);function Xf(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function H2(){const t=[],e={run:n,use:l};return e;function n(...o){let s=-1;const c=o.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);m(null,...o);function m(p,...h){const y=t[++s];let x=-1;if(p){c(p);return}for(;++x<o.length;)(h[x]===null||h[x]===void 0)&&(h[x]=o[x]);o=h,y?$2(y,m)(...h):c(null,...h)}}function l(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function $2(t,e){let n;return l;function l(...c){const m=t.length>c.length;let p;m&&c.push(o);try{p=t.apply(this,c)}catch(h){const y=h;if(m&&n)throw y;return o(y)}m||(p&&p.then&&typeof p.then=="function"?p.then(s,o):p instanceof Error?o(p):s(p))}function o(c,...m){n||(n=!0,e(c,...m))}function s(c){o(null,c)}}const Yn={basename:J2,dirname:Y2,extname:K2,join:Z2,sep:"/"};function J2(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Yo(t);let n=0,l=-1,o=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(s){n=o+1;break}}else l<0&&(s=!0,l=o+1);return l<0?"":t.slice(n,l)}if(e===t)return"";let c=-1,m=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(s){n=o+1;break}}else c<0&&(s=!0,c=o+1),m>-1&&(t.codePointAt(o)===e.codePointAt(m--)?m<0&&(l=o):(m=-1,l=c));return n===l?l=c:l<0&&(l=t.length),t.slice(n,l)}function Y2(t){if(Yo(t),t.length===0)return".";let e=-1,n=t.length,l;for(;--n;)if(t.codePointAt(n)===47){if(l){e=n;break}}else l||(l=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function K2(t){Yo(t);let e=t.length,n=-1,l=0,o=-1,s=0,c;for(;e--;){const m=t.codePointAt(e);if(m===47){if(c){l=e+1;break}continue}n<0&&(c=!0,n=e+1),m===46?o<0?o=e:s!==1&&(s=1):o>-1&&(s=-1)}return o<0||n<0||s===0||s===1&&o===n-1&&o===l+1?"":t.slice(o,n)}function Z2(...t){let e=-1,n;for(;++e<t.length;)Yo(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":X2(n)}function X2(t){Yo(t);const e=t.codePointAt(0)===47;let n=Q2(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Q2(t,e){let n="",l=0,o=-1,s=0,c=-1,m,p;for(;++c<=t.length;){if(c<t.length)m=t.codePointAt(c);else{if(m===47)break;m=47}if(m===47){if(!(o===c-1||s===1))if(o!==c-1&&s===2){if(n.length<2||l!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",l=0):(n=n.slice(0,p),l=n.length-1-n.lastIndexOf("/")),o=c,s=0;continue}}else if(n.length>0){n="",l=0,o=c,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",l=2)}else n.length>0?n+="/"+t.slice(o+1,c):n=t.slice(o+1,c),l=c-o-1;o=c,s=0}else m===46&&s>-1?s++:s=-1}return n}function Yo(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const W2={cwd:j2};function j2(){return"/"}function Qf(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function eU(t){if(typeof t=="string")t=new URL(t);else if(!Qf(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return tU(t)}function tU(t){if(t.hostname!==""){const l=new TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const l=e.codePointAt(n+2);if(l===70||l===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const hf=["history","path","basename","stem","extname","dirname"];class rx{constructor(e){let n;e?Qf(e)?n={path:e}:typeof e=="string"||nU(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":W2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let l=-1;for(;++l<hf.length;){const s=hf[l];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)hf.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Yn.basename(this.path):void 0}set basename(e){gf(e,"basename"),pf(e,"basename"),this.path=Yn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Yn.dirname(this.path):void 0}set dirname(e){Dv(this.basename,"dirname"),this.path=Yn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Yn.extname(this.path):void 0}set extname(e){if(pf(e,"extname"),Dv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Yn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Qf(e)&&(e=eU(e)),gf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Yn.basename(this.path,this.extname):void 0}set stem(e){gf(e,"stem"),pf(e,"stem"),this.path=Yn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,l){const o=this.message(e,n,l);throw o.fatal=!0,o}info(e,n,l){const o=this.message(e,n,l);return o.fatal=void 0,o}message(e,n,l){const o=new Qt(e,n,l);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function pf(t,e){if(t&&t.includes(Yn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Yn.sep+"`")}function gf(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Dv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function nU(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const iU=function(t){const l=this.constructor.prototype,o=l[t],s=function(){return o.apply(s,arguments)};return Object.setPrototypeOf(s,l),s},lU={}.hasOwnProperty;class Cd extends iU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=H2()}copy(){const e=new Cd;let n=-1;for(;++n<this.attachers.length;){const l=this.attachers[n];e.use(...l)}return e.data(mf(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(xf("data",this.frozen),this.namespace[e]=n,this):lU.call(this.namespace,e)&&this.namespace[e]||void 0:e?(xf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...l]=this.attachers[this.freezeIndex];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const o=n.call(e,...l);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=cs(e),l=this.parser||this.Parser;return yf("parse",l),l(String(n),n)}process(e,n){const l=this;return this.freeze(),yf("process",this.parser||this.Parser),vf("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,c){const m=cs(e),p=l.parse(m);l.run(p,m,function(y,x,C){if(y||!x||!C)return h(y);const T=x,E=l.stringify(T,C);aU(E)?C.value=E:C.result=E,h(y,C)});function h(y,x){y||!x?c(y):s?s(x):n(void 0,x)}}}processSync(e){let n=!1,l;return this.freeze(),yf("processSync",this.parser||this.Parser),vf("processSync",this.compiler||this.Compiler),this.process(e,o),Uv("processSync","process",n),l;function o(s,c){n=!0,Nv(s),l=c}}run(e,n,l){Iv(e),this.freeze();const o=this.transformers;return!l&&typeof n=="function"&&(l=n,n=void 0),l?s(void 0,l):new Promise(s);function s(c,m){const p=cs(n);o.run(e,p,h);function h(y,x,C){const T=x||e;y?m(y):c?c(T):l(void 0,T,C)}}}runSync(e,n){let l=!1,o;return this.run(e,n,s),Uv("runSync","run",l),o;function s(c,m){Nv(c),o=m,l=!0}}stringify(e,n){this.freeze();const l=cs(n),o=this.compiler||this.Compiler;return vf("stringify",o),Iv(e),o(e,l)}use(e,...n){const l=this.attachers,o=this.namespace;if(xf("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?m(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(h){if(typeof h=="function")p(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[y,...x]=h;p(y,x)}else c(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function c(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");m(h.plugins),h.settings&&(o.settings=mf(!0,o.settings,h.settings))}function m(h){let y=-1;if(h!=null)if(Array.isArray(h))for(;++y<h.length;){const x=h[y];s(x)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function p(h,y){let x=-1,C=-1;for(;++x<l.length;)if(l[x][0]===h){C=x;break}if(C===-1)l.push([h,...y]);else if(y.length>0){let[T,...E]=y;const k=l[C][1];Xf(k)&&Xf(T)&&(T=mf(!0,k,T)),l[C]=[h,T,...E]}}}}const rU=new Cd().freeze();function yf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function vf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function xf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Iv(t){if(!Xf(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Uv(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function cs(t){return oU(t)?t:new rx(t)}function oU(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function aU(t){return typeof t=="string"||sU(t)}function sU(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const uU="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Lv=[],Pv={allowDangerousHtml:!0},cU=/^(https?|ircs?|mailto|xmpp)$/i,fU=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ox(t){const e=dU(t),n=mU(t);return hU(e.runSync(e.parse(n),n),t)}function dU(t){const e=t.rehypePlugins||Lv,n=t.remarkPlugins||Lv,l=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Pv}:Pv;return rU().use(YI).use(n).use(q2,l).use(e)}function mU(t){const e=t.children||"",n=new rx;return typeof e=="string"&&(n.value=e),n}function hU(t,e){const n=e.allowedElements,l=e.allowElement,o=e.components,s=e.disallowedElements,c=e.skipHtml,m=e.unwrapDisallowed,p=e.urlTransform||pU;for(const y of fU)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+uU+y.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),xd(t,h),NR(t,{Fragment:S.Fragment,components:o,ignoreInvalidStyle:!0,jsx:S.jsx,jsxs:S.jsxs,passKeys:!0,passNode:!0});function h(y,x,C){if(y.type==="raw"&&C&&typeof x=="number")return c?C.children.splice(x,1):C.children[x]={type:"text",value:y.value},x;if(y.type==="element"){let T;for(T in uf)if(Object.hasOwn(uf,T)&&Object.hasOwn(y.properties,T)){const E=y.properties[T],k=uf[T];(k===null||k.includes(y.tagName))&&(y.properties[T]=p(String(E||""),T,y))}}if(y.type==="element"){let T=n?!n.includes(y.tagName):s?s.includes(y.tagName):!1;if(!T&&l&&typeof x=="number"&&(T=!l(y,x,C)),T&&C&&typeof x=="number")return m&&y.children?C.children.splice(x,1,...y.children):C.children.splice(x,1),x}}}function pU(t){const e=t.indexOf(":"),n=t.indexOf("?"),l=t.indexOf("#"),o=t.indexOf("/");return e===-1||o!==-1&&e>o||n!==-1&&e>n||l!==-1&&e>l||cU.test(t.slice(0,e))?t:""}function Ov(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let l=0,o=n.indexOf(e);for(;o!==-1;)l++,o=n.indexOf(e,o+e.length);return l}function gU(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function yU(t,e,n){const o=Bs((n||{}).ignore||[]),s=vU(e);let c=-1;for(;++c<s.length;)lx(t,"text",m);function m(h,y){let x=-1,C;for(;++x<y.length;){const T=y[x],E=C?C.children:void 0;if(o(T,E?E.indexOf(T):void 0,C))return;C=T}if(C)return p(h,y)}function p(h,y){const x=y[y.length-1],C=s[c][0],T=s[c][1];let E=0;const I=x.children.indexOf(h);let N=!1,z=[];C.lastIndex=0;let L=C.exec(h.value);for(;L;){const J=L.index,$={index:L.index,input:L.input,stack:[...y,h]};let R=T(...L,$);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?C.lastIndex=J+1:(E!==J&&z.push({type:"text",value:h.value.slice(E,J)}),Array.isArray(R)?z.push(...R):R&&z.push(R),E=J+L[0].length,N=!0),!C.global)break;L=C.exec(h.value)}return N?(E<h.value.length&&z.push({type:"text",value:h.value.slice(E)}),x.children.splice(I,1,...z)):z=[h],I+z.length}}function vU(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let l=-1;for(;++l<n.length;){const o=n[l];e.push([xU(o[0]),CU(o[1])])}return e}function xU(t){return typeof t=="string"?new RegExp(gU(t),"g"):t}function CU(t){return typeof t=="function"?t:function(){return t}}const Cf="phrasing",Tf=["autolink","link","image","label"];function TU(){return{transforms:[kU],enter:{literalAutolink:bU,literalAutolinkEmail:Sf,literalAutolinkHttp:Sf,literalAutolinkWww:Sf},exit:{literalAutolink:MU,literalAutolinkEmail:EU,literalAutolinkHttp:_U,literalAutolinkWww:AU}}}function SU(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Cf,notInConstruct:Tf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Cf,notInConstruct:Tf},{character:":",before:"[ps]",after:"\\/",inConstruct:Cf,notInConstruct:Tf}]}}function bU(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Sf(t){this.config.enter.autolinkProtocol.call(this,t)}function _U(t){this.config.exit.autolinkProtocol.call(this,t)}function AU(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function EU(t){this.config.exit.autolinkEmail.call(this,t)}function MU(t){this.exit(t)}function kU(t){yU(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,wU],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),NU]],{ignore:["link","linkReference"]})}function wU(t,e,n,l,o){let s="";if(!ax(o)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!RU(n)))return!1;const c=DU(n+l);if(!c[0])return!1;const m={type:"link",title:null,url:s+e+c[0],children:[{type:"text",value:e+c[0]}]};return c[1]?[m,{type:"text",value:c[1]}]:m}function NU(t,e,n,l){return!ax(l,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function RU(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function DU(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],l=n.indexOf(")");const o=Ov(t,"(");let s=Ov(t,")");for(;l!==-1&&o>s;)t+=n.slice(0,l+1),n=n.slice(l+1),l=n.indexOf(")"),s++;return[t,n]}function ax(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Tl(n)||Os(n))&&(!e||n!==47)}sx.peek=qU;function IU(){this.buffer()}function UU(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function LU(){this.buffer()}function PU(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function OU(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=qn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function zU(t){this.exit(t)}function VU(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=qn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function BU(t){this.exit(t)}function qU(){return"["}function sx(t,e,n,l){const o=n.createTracker(l);let s=o.move("[^");const c=n.enter("footnoteReference"),m=n.enter("reference");return s+=o.move(n.safe(n.associationId(t),{after:"]",before:s})),m(),c(),s+=o.move("]"),s}function FU(){return{enter:{gfmFootnoteCallString:IU,gfmFootnoteCall:UU,gfmFootnoteDefinitionLabelString:LU,gfmFootnoteDefinition:PU},exit:{gfmFootnoteCallString:OU,gfmFootnoteCall:zU,gfmFootnoteDefinitionLabelString:VU,gfmFootnoteDefinition:BU}}}function GU(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:sx},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(l,o,s,c){const m=s.createTracker(c);let p=m.move("[^");const h=s.enter("footnoteDefinition"),y=s.enter("label");return p+=m.move(s.safe(s.associationId(l),{before:p,after:"]"})),y(),p+=m.move("]:"),l.children&&l.children.length>0&&(m.shift(4),p+=m.move((e?`
`:" ")+s.indentLines(s.containerFlow(l,m.current()),e?ux:HU))),h(),p}}function HU(t,e,n){return e===0?t:ux(t,e,n)}function ux(t,e,n){return(n?"":"    ")+t}const $U=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];cx.peek=XU;function JU(){return{canContainEols:["delete"],enter:{strikethrough:KU},exit:{strikethrough:ZU}}}function YU(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:$U}],handlers:{delete:cx}}}function KU(t){this.enter({type:"delete",children:[]},t)}function ZU(t){this.exit(t)}function cx(t,e,n,l){const o=n.createTracker(l),s=n.enter("strikethrough");let c=o.move("~~");return c+=n.containerPhrasing(t,{...o.current(),before:c,after:"~"}),c+=o.move("~~"),s(),c}function XU(){return"~"}function QU(t){return t.length}function WU(t,e){const n=e||{},l=(n.align||[]).concat(),o=n.stringLength||QU,s=[],c=[],m=[],p=[];let h=0,y=-1;for(;++y<t.length;){const k=[],I=[];let N=-1;for(t[y].length>h&&(h=t[y].length);++N<t[y].length;){const z=jU(t[y][N]);if(n.alignDelimiters!==!1){const L=o(z);I[N]=L,(p[N]===void 0||L>p[N])&&(p[N]=L)}k.push(z)}c[y]=k,m[y]=I}let x=-1;if(typeof l=="object"&&"length"in l)for(;++x<h;)s[x]=zv(l[x]);else{const k=zv(l);for(;++x<h;)s[x]=k}x=-1;const C=[],T=[];for(;++x<h;){const k=s[x];let I="",N="";k===99?(I=":",N=":"):k===108?I=":":k===114&&(N=":");let z=n.alignDelimiters===!1?1:Math.max(1,p[x]-I.length-N.length);const L=I+"-".repeat(z)+N;n.alignDelimiters!==!1&&(z=I.length+z+N.length,z>p[x]&&(p[x]=z),T[x]=z),C[x]=L}c.splice(1,0,C),m.splice(1,0,T),y=-1;const E=[];for(;++y<c.length;){const k=c[y],I=m[y];x=-1;const N=[];for(;++x<h;){const z=k[x]||"";let L="",J="";if(n.alignDelimiters!==!1){const $=p[x]-(I[x]||0),R=s[x];R===114?L=" ".repeat($):R===99?$%2?(L=" ".repeat($/2+.5),J=" ".repeat($/2-.5)):(L=" ".repeat($/2),J=L):J=" ".repeat($)}n.delimiterStart!==!1&&!x&&N.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&z==="")&&(n.delimiterStart!==!1||x)&&N.push(" "),n.alignDelimiters!==!1&&N.push(L),N.push(z),n.alignDelimiters!==!1&&N.push(J),n.padding!==!1&&N.push(" "),(n.delimiterEnd!==!1||x!==h-1)&&N.push("|")}E.push(n.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return E.join(`
`)}function jU(t){return t==null?"":String(t)}function zv(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function eL(t,e,n,l){const o=n.enter("blockquote"),s=n.createTracker(l);s.move("> "),s.shift(2);const c=n.indentLines(n.containerFlow(t,s.current()),tL);return o(),c}function tL(t,e,n){return">"+(n?"":" ")+t}function nL(t,e){return Vv(t,e.inConstruct,!0)&&!Vv(t,e.notInConstruct,!1)}function Vv(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let l=-1;for(;++l<e.length;)if(t.includes(e[l]))return!0;return!1}function Bv(t,e,n,l){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&nL(n.stack,n.unsafe[o]))return/[ \t]/.test(l.before)?"":" ";return`\\
`}function iL(t,e){const n=String(t);let l=n.indexOf(e),o=l,s=0,c=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;l!==-1;)l===o?++s>c&&(c=s):s=1,o=l+e.length,l=n.indexOf(e,o);return c}function lL(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function rL(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function oL(t,e,n,l){const o=rL(n),s=t.value||"",c=o==="`"?"GraveAccent":"Tilde";if(lL(t,n)){const x=n.enter("codeIndented"),C=n.indentLines(s,aL);return x(),C}const m=n.createTracker(l),p=o.repeat(Math.max(iL(s,o)+1,3)),h=n.enter("codeFenced");let y=m.move(p);if(t.lang){const x=n.enter(`codeFencedLang${c}`);y+=m.move(n.safe(t.lang,{before:y,after:" ",encode:["`"],...m.current()})),x()}if(t.lang&&t.meta){const x=n.enter(`codeFencedMeta${c}`);y+=m.move(" "),y+=m.move(n.safe(t.meta,{before:y,after:`
`,encode:["`"],...m.current()})),x()}return y+=m.move(`
`),s&&(y+=m.move(s+`
`)),y+=m.move(p),h(),y}function aL(t,e,n){return(n?"":"    ")+t}function Td(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function sL(t,e,n,l){const o=Td(n),s=o==='"'?"Quote":"Apostrophe",c=n.enter("definition");let m=n.enter("label");const p=n.createTracker(l);let h=p.move("[");return h+=p.move(n.safe(n.associationId(t),{before:h,after:"]",...p.current()})),h+=p.move("]: "),m(),!t.url||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),h+=p.move("<"),h+=p.move(n.safe(t.url,{before:h,after:">",...p.current()})),h+=p.move(">")):(m=n.enter("destinationRaw"),h+=p.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...p.current()}))),m(),t.title&&(m=n.enter(`title${s}`),h+=p.move(" "+o),h+=p.move(n.safe(t.title,{before:h,after:o,...p.current()})),h+=p.move(o),m()),c(),h}function uL(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Go(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ns(t,e,n){const l=Ar(t),o=Ar(e);return l===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:l===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}fx.peek=cL;function fx(t,e,n,l){const o=uL(n),s=n.enter("emphasis"),c=n.createTracker(l),m=c.move(o);let p=c.move(n.containerPhrasing(t,{after:o,before:m,...c.current()}));const h=p.charCodeAt(0),y=Ns(l.before.charCodeAt(l.before.length-1),h,o);y.inside&&(p=Go(h)+p.slice(1));const x=p.charCodeAt(p.length-1),C=Ns(l.after.charCodeAt(0),x,o);C.inside&&(p=p.slice(0,-1)+Go(x));const T=c.move(o);return s(),n.attentionEncodeSurroundingInfo={after:C.outside,before:y.outside},m+p+T}function cL(t,e,n){return n.options.emphasis||"*"}function fL(t,e){let n=!1;return xd(t,function(l){if("value"in l&&/\r?\n|\r/.test(l.value)||l.type==="break")return n=!0,Kf}),!!((!t.depth||t.depth<3)&&dd(t)&&(e.options.setext||n))}function dL(t,e,n,l){const o=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(l);if(fL(t,n)){const y=n.enter("headingSetext"),x=n.enter("phrasing"),C=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return x(),y(),C+`
`+(o===1?"=":"-").repeat(C.length-(Math.max(C.lastIndexOf("\r"),C.lastIndexOf(`
`))+1))}const c="#".repeat(o),m=n.enter("headingAtx"),p=n.enter("phrasing");s.move(c+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(h)&&(h=Go(h.charCodeAt(0))+h.slice(1)),h=h?c+" "+h:c,n.options.closeAtx&&(h+=" "+c),p(),m(),h}dx.peek=mL;function dx(t){return t.value||""}function mL(){return"<"}mx.peek=hL;function mx(t,e,n,l){const o=Td(n),s=o==='"'?"Quote":"Apostrophe",c=n.enter("image");let m=n.enter("label");const p=n.createTracker(l);let h=p.move("![");return h+=p.move(n.safe(t.alt,{before:h,after:"]",...p.current()})),h+=p.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=n.enter("destinationLiteral"),h+=p.move("<"),h+=p.move(n.safe(t.url,{before:h,after:">",...p.current()})),h+=p.move(">")):(m=n.enter("destinationRaw"),h+=p.move(n.safe(t.url,{before:h,after:t.title?" ":")",...p.current()}))),m(),t.title&&(m=n.enter(`title${s}`),h+=p.move(" "+o),h+=p.move(n.safe(t.title,{before:h,after:o,...p.current()})),h+=p.move(o),m()),h+=p.move(")"),c(),h}function hL(){return"!"}hx.peek=pL;function hx(t,e,n,l){const o=t.referenceType,s=n.enter("imageReference");let c=n.enter("label");const m=n.createTracker(l);let p=m.move("![");const h=n.safe(t.alt,{before:p,after:"]",...m.current()});p+=m.move(h+"]["),c();const y=n.stack;n.stack=[],c=n.enter("reference");const x=n.safe(n.associationId(t),{before:p,after:"]",...m.current()});return c(),n.stack=y,s(),o==="full"||!h||h!==x?p+=m.move(x+"]"):o==="shortcut"?p=p.slice(0,-1):p+=m.move("]"),p}function pL(){return"!"}px.peek=gL;function px(t,e,n){let l=t.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(l);)o+="`";for(/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^`|`$/.test(l))&&(l=" "+l+" ");++s<n.unsafe.length;){const c=n.unsafe[s],m=n.compilePattern(c);let p;if(c.atBreak)for(;p=m.exec(l);){let h=p.index;l.charCodeAt(h)===10&&l.charCodeAt(h-1)===13&&h--,l=l.slice(0,h)+" "+l.slice(p.index+1)}}return o+l+o}function gL(){return"`"}function gx(t,e){const n=dd(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}yx.peek=yL;function yx(t,e,n,l){const o=Td(n),s=o==='"'?"Quote":"Apostrophe",c=n.createTracker(l);let m,p;if(gx(t,n)){const y=n.stack;n.stack=[],m=n.enter("autolink");let x=c.move("<");return x+=c.move(n.containerPhrasing(t,{before:x,after:">",...c.current()})),x+=c.move(">"),m(),n.stack=y,x}m=n.enter("link"),p=n.enter("label");let h=c.move("[");return h+=c.move(n.containerPhrasing(t,{before:h,after:"](",...c.current()})),h+=c.move("]("),p(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(p=n.enter("destinationLiteral"),h+=c.move("<"),h+=c.move(n.safe(t.url,{before:h,after:">",...c.current()})),h+=c.move(">")):(p=n.enter("destinationRaw"),h+=c.move(n.safe(t.url,{before:h,after:t.title?" ":")",...c.current()}))),p(),t.title&&(p=n.enter(`title${s}`),h+=c.move(" "+o),h+=c.move(n.safe(t.title,{before:h,after:o,...c.current()})),h+=c.move(o),p()),h+=c.move(")"),m(),h}function yL(t,e,n){return gx(t,n)?"<":"["}vx.peek=vL;function vx(t,e,n,l){const o=t.referenceType,s=n.enter("linkReference");let c=n.enter("label");const m=n.createTracker(l);let p=m.move("[");const h=n.containerPhrasing(t,{before:p,after:"]",...m.current()});p+=m.move(h+"]["),c();const y=n.stack;n.stack=[],c=n.enter("reference");const x=n.safe(n.associationId(t),{before:p,after:"]",...m.current()});return c(),n.stack=y,s(),o==="full"||!h||h!==x?p+=m.move(x+"]"):o==="shortcut"?p=p.slice(0,-1):p+=m.move("]"),p}function vL(){return"["}function Sd(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function xL(t){const e=Sd(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function CL(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function xx(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function TL(t,e,n,l){const o=n.enter("list"),s=n.bulletCurrent;let c=t.ordered?CL(n):Sd(n);const m=t.ordered?c==="."?")":".":xL(n);let p=e&&n.bulletLastUsed?c===n.bulletLastUsed:!1;if(!t.ordered){const y=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&y&&(!y.children||!y.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(p=!0),xx(n)===c&&y){let x=-1;for(;++x<t.children.length;){const C=t.children[x];if(C&&C.type==="listItem"&&C.children&&C.children[0]&&C.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=m),n.bulletCurrent=c;const h=n.containerFlow(t,l);return n.bulletLastUsed=c,n.bulletCurrent=s,o(),h}function SL(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function bL(t,e,n,l){const o=SL(n);let s=n.bulletCurrent||Sd(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let c=s.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(c=Math.ceil(c/4)*4);const m=n.createTracker(l);m.move(s+" ".repeat(c-s.length)),m.shift(c);const p=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,m.current()),y);return p(),h;function y(x,C,T){return C?(T?"":" ".repeat(c))+x:(T?s:s+" ".repeat(c-s.length))+x}}function _L(t,e,n,l){const o=n.enter("paragraph"),s=n.enter("phrasing"),c=n.containerPhrasing(t,l);return s(),o(),c}const AL=Bs(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function EL(t,e,n,l){return(t.children.some(function(c){return AL(c)})?n.containerPhrasing:n.containerFlow).call(n,t,l)}function ML(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Cx.peek=kL;function Cx(t,e,n,l){const o=ML(n),s=n.enter("strong"),c=n.createTracker(l),m=c.move(o+o);let p=c.move(n.containerPhrasing(t,{after:o,before:m,...c.current()}));const h=p.charCodeAt(0),y=Ns(l.before.charCodeAt(l.before.length-1),h,o);y.inside&&(p=Go(h)+p.slice(1));const x=p.charCodeAt(p.length-1),C=Ns(l.after.charCodeAt(0),x,o);C.inside&&(p=p.slice(0,-1)+Go(x));const T=c.move(o+o);return s(),n.attentionEncodeSurroundingInfo={after:C.outside,before:y.outside},m+p+T}function kL(t,e,n){return n.options.strong||"*"}function wL(t,e,n,l){return n.safe(t.value,l)}function NL(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function RL(t,e,n){const l=(xx(n)+(n.options.ruleSpaces?" ":"")).repeat(NL(n));return n.options.ruleSpaces?l.slice(0,-1):l}const Tx={blockquote:eL,break:Bv,code:oL,definition:sL,emphasis:fx,hardBreak:Bv,heading:dL,html:dx,image:mx,imageReference:hx,inlineCode:px,link:yx,linkReference:vx,list:TL,listItem:bL,paragraph:_L,root:EL,strong:Cx,text:wL,thematicBreak:RL};function DL(){return{enter:{table:IL,tableData:qv,tableHeader:qv,tableRow:LL},exit:{codeText:PL,table:UL,tableData:bf,tableHeader:bf,tableRow:bf}}}function IL(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function UL(t){this.exit(t),this.data.inTable=void 0}function LL(t){this.enter({type:"tableRow",children:[]},t)}function bf(t){this.exit(t)}function qv(t){this.enter({type:"tableCell",children:[]},t)}function PL(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,OL));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function OL(t,e){return e==="|"?e:t}function zL(t){const e=t||{},n=e.tableCellPadding,l=e.tablePipeAlign,o=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:C,table:c,tableCell:p,tableRow:m}};function c(T,E,k,I){return h(y(T,k,I),T.align)}function m(T,E,k,I){const N=x(T,k,I),z=h([N]);return z.slice(0,z.indexOf(`
`))}function p(T,E,k,I){const N=k.enter("tableCell"),z=k.enter("phrasing"),L=k.containerPhrasing(T,{...I,before:s,after:s});return z(),N(),L}function h(T,E){return WU(T,{align:E,alignDelimiters:l,padding:n,stringLength:o})}function y(T,E,k){const I=T.children;let N=-1;const z=[],L=E.enter("table");for(;++N<I.length;)z[N]=x(I[N],E,k);return L(),z}function x(T,E,k){const I=T.children;let N=-1;const z=[],L=E.enter("tableRow");for(;++N<I.length;)z[N]=p(I[N],T,E,k);return L(),z}function C(T,E,k){let I=Tx.inlineCode(T,E,k);return k.stack.includes("tableCell")&&(I=I.replace(/\|/g,"\\$&")),I}}function VL(){return{exit:{taskListCheckValueChecked:Fv,taskListCheckValueUnchecked:Fv,paragraph:qL}}}function BL(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:FL}}}function Fv(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function qL(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const l=n.children[0];if(l&&l.type==="text"){const o=e.children;let s=-1,c;for(;++s<o.length;){const m=o[s];if(m.type==="paragraph"){c=m;break}}c===n&&(l.value=l.value.slice(1),l.value.length===0?n.children.shift():n.position&&l.position&&typeof l.position.start.offset=="number"&&(l.position.start.column++,l.position.start.offset++,n.position.start=Object.assign({},l.position.start)))}}this.exit(t)}function FL(t,e,n,l){const o=t.children[0],s=typeof t.checked=="boolean"&&o&&o.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",m=n.createTracker(l);s&&m.move(c);let p=Tx.listItem(t,e,n,{...l,...m.current()});return s&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),p;function h(y){return y+c}}function GL(){return[TU(),FU(),JU(),DL(),VL()]}function HL(t){return{extensions:[SU(),GU(t),YU(),zL(t),BL()]}}const $L={tokenize:QL,partial:!0},Sx={tokenize:WL,partial:!0},bx={tokenize:jL,partial:!0},_x={tokenize:eP,partial:!0},JL={tokenize:tP,partial:!0},Ax={name:"wwwAutolink",tokenize:ZL,previous:Mx},Ex={name:"protocolAutolink",tokenize:XL,previous:kx},yi={name:"emailAutolink",tokenize:KL,previous:wx},Wn={};function YL(){return{text:Wn}}let gl=48;for(;gl<123;)Wn[gl]=yi,gl++,gl===58?gl=65:gl===91&&(gl=97);Wn[43]=yi;Wn[45]=yi;Wn[46]=yi;Wn[95]=yi;Wn[72]=[yi,Ex];Wn[104]=[yi,Ex];Wn[87]=[yi,Ax];Wn[119]=[yi,Ax];function KL(t,e,n){const l=this;let o,s;return c;function c(x){return!Wf(x)||!wx.call(l,l.previous)||bd(l.events)?n(x):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),m(x))}function m(x){return Wf(x)?(t.consume(x),m):x===64?(t.consume(x),p):n(x)}function p(x){return x===46?t.check(JL,y,h)(x):x===45||x===95||Xt(x)?(s=!0,t.consume(x),p):y(x)}function h(x){return t.consume(x),o=!0,p}function y(x){return s&&o&&jt(l.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(x)):n(x)}}function ZL(t,e,n){const l=this;return o;function o(c){return c!==87&&c!==119||!Mx.call(l,l.previous)||bd(l.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check($L,t.attempt(Sx,t.attempt(bx,s),n),n)(c))}function s(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(c)}}function XL(t,e,n){const l=this;let o="",s=!1;return c;function c(x){return(x===72||x===104)&&kx.call(l,l.previous)&&!bd(l.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),o+=String.fromCodePoint(x),t.consume(x),m):n(x)}function m(x){if(jt(x)&&o.length<5)return o+=String.fromCodePoint(x),t.consume(x),m;if(x===58){const C=o.toLowerCase();if(C==="http"||C==="https")return t.consume(x),p}return n(x)}function p(x){return x===47?(t.consume(x),s?h:(s=!0,p)):n(x)}function h(x){return x===null||Ms(x)||gt(x)||Tl(x)||Os(x)?n(x):t.attempt(Sx,t.attempt(bx,y),n)(x)}function y(x){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(x)}}function QL(t,e,n){let l=0;return o;function o(c){return(c===87||c===119)&&l<3?(l++,t.consume(c),o):c===46&&l===3?(t.consume(c),s):n(c)}function s(c){return c===null?n(c):e(c)}}function WL(t,e,n){let l,o,s;return c;function c(h){return h===46||h===95?t.check(_x,p,m)(h):h===null||gt(h)||Tl(h)||h!==45&&Os(h)?p(h):(s=!0,t.consume(h),c)}function m(h){return h===95?l=!0:(o=l,l=void 0),t.consume(h),c}function p(h){return o||l||!s?n(h):e(h)}}function jL(t,e){let n=0,l=0;return o;function o(c){return c===40?(n++,t.consume(c),o):c===41&&l<n?s(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(_x,e,s)(c):c===null||gt(c)||Tl(c)?e(c):(t.consume(c),o)}function s(c){return c===41&&l++,t.consume(c),o}}function eP(t,e,n){return l;function l(m){return m===33||m===34||m===39||m===41||m===42||m===44||m===46||m===58||m===59||m===63||m===95||m===126?(t.consume(m),l):m===38?(t.consume(m),s):m===93?(t.consume(m),o):m===60||m===null||gt(m)||Tl(m)?e(m):n(m)}function o(m){return m===null||m===40||m===91||gt(m)||Tl(m)?e(m):l(m)}function s(m){return jt(m)?c(m):n(m)}function c(m){return m===59?(t.consume(m),l):jt(m)?(t.consume(m),c):n(m)}}function tP(t,e,n){return l;function l(s){return t.consume(s),o}function o(s){return Xt(s)?n(s):e(s)}}function Mx(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||gt(t)}function kx(t){return!jt(t)}function wx(t){return!(t===47||Wf(t))}function Wf(t){return t===43||t===45||t===46||t===95||Xt(t)}function bd(t){let e=t.length,n=!1;for(;e--;){const l=t[e][1];if((l.type==="labelLink"||l.type==="labelImage")&&!l._balanced){n=!0;break}if(l._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const nP={tokenize:cP,partial:!0};function iP(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:aP,continuation:{tokenize:sP},exit:uP}},text:{91:{name:"gfmFootnoteCall",tokenize:oP},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:lP,resolveTo:rP}}}}function lP(t,e,n){const l=this;let o=l.events.length;const s=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let c;for(;o--;){const p=l.events[o][1];if(p.type==="labelImage"){c=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return m;function m(p){if(!c||!c._balanced)return n(p);const h=qn(l.sliceSerialize({start:c.end,end:l.now()}));return h.codePointAt(0)!==94||!s.includes(h.slice(1))?n(p):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),e(p))}}function rP(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const l={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},m=[t[n+1],t[n+2],["enter",l,e],t[n+3],t[n+4],["enter",o,e],["exit",o,e],["enter",s,e],["enter",c,e],["exit",c,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",l,e]];return t.splice(n,t.length-n+1,...m),t}function oP(t,e,n){const l=this,o=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let s=0,c;return m;function m(x){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(x),t.exit("gfmFootnoteCallLabelMarker"),p}function p(x){return x!==94?n(x):(t.enter("gfmFootnoteCallMarker"),t.consume(x),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",h)}function h(x){if(s>999||x===93&&!c||x===null||x===91||gt(x))return n(x);if(x===93){t.exit("chunkString");const C=t.exit("gfmFootnoteCallString");return o.includes(qn(l.sliceSerialize(C)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(x),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(x)}return gt(x)||(c=!0),s++,t.consume(x),x===92?y:h}function y(x){return x===91||x===92||x===93?(t.consume(x),s++,h):h(x)}}function aP(t,e,n){const l=this,o=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let s,c=0,m;return p;function p(E){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(E){return E===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",y):n(E)}function y(E){if(c>999||E===93&&!m||E===null||E===91||gt(E))return n(E);if(E===93){t.exit("chunkString");const k=t.exit("gfmFootnoteDefinitionLabelString");return s=qn(l.sliceSerialize(k)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(E),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),C}return gt(E)||(m=!0),c++,t.consume(E),E===92?x:y}function x(E){return E===91||E===92||E===93?(t.consume(E),c++,y):y(E)}function C(E){return E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),o.includes(s)||o.push(s),tt(t,T,"gfmFootnoteDefinitionWhitespace")):n(E)}function T(E){return e(E)}}function sP(t,e,n){return t.check(Jo,e,t.attempt(nP,e,n))}function uP(t){t.exit("gfmFootnoteDefinition")}function cP(t,e,n){const l=this;return tt(t,o,"gfmFootnoteDefinitionIndent",5);function o(s){const c=l.events[l.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?e(s):n(s)}}function fP(t){let n=(t||{}).singleTilde;const l={name:"strikethrough",tokenize:s,resolveAll:o};return n==null&&(n=!0),{text:{126:l},insideSpan:{null:[l]},attentionMarkers:{null:[126]}};function o(c,m){let p=-1;for(;++p<c.length;)if(c[p][0]==="enter"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._close){let h=p;for(;h--;)if(c[h][0]==="exit"&&c[h][1].type==="strikethroughSequenceTemporary"&&c[h][1]._open&&c[p][1].end.offset-c[p][1].start.offset===c[h][1].end.offset-c[h][1].start.offset){c[p][1].type="strikethroughSequence",c[h][1].type="strikethroughSequence";const y={type:"strikethrough",start:Object.assign({},c[h][1].start),end:Object.assign({},c[p][1].end)},x={type:"strikethroughText",start:Object.assign({},c[h][1].end),end:Object.assign({},c[p][1].start)},C=[["enter",y,m],["enter",c[h][1],m],["exit",c[h][1],m],["enter",x,m]],T=m.parser.constructs.insideSpan.null;T&&xn(C,C.length,0,zs(T,c.slice(h+1,p),m)),xn(C,C.length,0,[["exit",x,m],["enter",c[p][1],m],["exit",c[p][1],m],["exit",y,m]]),xn(c,h-1,p-h+3,C),p=h+C.length-2;break}}for(p=-1;++p<c.length;)c[p][1].type==="strikethroughSequenceTemporary"&&(c[p][1].type="data");return c}function s(c,m,p){const h=this.previous,y=this.events;let x=0;return C;function C(E){return h===126&&y[y.length-1][1].type!=="characterEscape"?p(E):(c.enter("strikethroughSequenceTemporary"),T(E))}function T(E){const k=Ar(h);if(E===126)return x>1?p(E):(c.consume(E),x++,T);if(x<2&&!n)return p(E);const I=c.exit("strikethroughSequenceTemporary"),N=Ar(E);return I._open=!N||N===2&&!!k,I._close=!k||k===2&&!!N,m(E)}}}class dP{constructor(){this.map=[]}add(e,n,l){mP(this,e,n,l)}consume(e){if(this.map.sort(function(s,c){return s[0]-c[0]}),this.map.length===0)return;let n=this.map.length;const l=[];for(;n>0;)n-=1,l.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];l.push(e.slice()),e.length=0;let o=l.pop();for(;o;){for(const s of o)e.push(s);o=l.pop()}this.map.length=0}}function mP(t,e,n,l){let o=0;if(!(n===0&&l.length===0)){for(;o<t.map.length;){if(t.map[o][0]===e){t.map[o][1]+=n,t.map[o][2].push(...l);return}o+=1}t.map.push([e,n,l])}}function hP(t,e){let n=!1;const l=[];for(;e<t.length;){const o=t[e];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&l.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=l.length-1;l[s]=l[s]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return l}function pP(){return{flow:{null:{name:"table",tokenize:gP,resolveAll:yP}}}}function gP(t,e,n){const l=this;let o=0,s=0,c;return m;function m(P){let ee=l.events.length-1;for(;ee>-1;){const fe=l.events[ee][1].type;if(fe==="lineEnding"||fe==="linePrefix")ee--;else break}const te=ee>-1?l.events[ee][1].type:null,me=te==="tableHead"||te==="tableRow"?R:p;return me===R&&l.parser.lazy[l.now().line]?n(P):me(P)}function p(P){return t.enter("tableHead"),t.enter("tableRow"),h(P)}function h(P){return P===124||(c=!0,s+=1),y(P)}function y(P){return P===null?n(P):Ne(P)?s>1?(s=0,l.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),T):n(P):Ke(P)?tt(t,y,"whitespace")(P):(s+=1,c&&(c=!1,o+=1),P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),c=!0,y):(t.enter("data"),x(P)))}function x(P){return P===null||P===124||gt(P)?(t.exit("data"),y(P)):(t.consume(P),P===92?C:x)}function C(P){return P===92||P===124?(t.consume(P),x):x(P)}function T(P){return l.interrupt=!1,l.parser.lazy[l.now().line]?n(P):(t.enter("tableDelimiterRow"),c=!1,Ke(P)?tt(t,E,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):E(P))}function E(P){return P===45||P===58?I(P):P===124?(c=!0,t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),k):$(P)}function k(P){return Ke(P)?tt(t,I,"whitespace")(P):I(P)}function I(P){return P===58?(s+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),N):P===45?(s+=1,N(P)):P===null||Ne(P)?J(P):$(P)}function N(P){return P===45?(t.enter("tableDelimiterFiller"),z(P)):$(P)}function z(P){return P===45?(t.consume(P),z):P===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),L):(t.exit("tableDelimiterFiller"),L(P))}function L(P){return Ke(P)?tt(t,J,"whitespace")(P):J(P)}function J(P){return P===124?E(P):P===null||Ne(P)?!c||o!==s?$(P):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(P)):$(P)}function $(P){return n(P)}function R(P){return t.enter("tableRow"),ie(P)}function ie(P){return P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),ie):P===null||Ne(P)?(t.exit("tableRow"),e(P)):Ke(P)?tt(t,ie,"whitespace")(P):(t.enter("data"),j(P))}function j(P){return P===null||P===124||gt(P)?(t.exit("data"),ie(P)):(t.consume(P),P===92?oe:j)}function oe(P){return P===92||P===124?(t.consume(P),j):j(P)}}function yP(t,e){let n=-1,l=!0,o=0,s=[0,0,0,0],c=[0,0,0,0],m=!1,p=0,h,y,x;const C=new dP;for(;++n<t.length;){const T=t[n],E=T[1];T[0]==="enter"?E.type==="tableHead"?(m=!1,p!==0&&(Gv(C,e,p,h,y),y=void 0,p=0),h={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},C.add(n,0,[["enter",h,e]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(l=!0,x=void 0,s=[0,0,0,0],c=[0,n+1,0,0],m&&(m=!1,y={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},C.add(n,0,[["enter",y,e]])),o=E.type==="tableDelimiterRow"?2:y?3:1):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(l=!1,c[2]===0&&(s[1]!==0&&(c[0]=c[1],x=fs(C,e,s,o,void 0,x),s=[0,0,0,0]),c[2]=n)):E.type==="tableCellDivider"&&(l?l=!1:(s[1]!==0&&(c[0]=c[1],x=fs(C,e,s,o,void 0,x)),s=c,c=[s[1],n,0,0])):E.type==="tableHead"?(m=!0,p=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(p=n,s[1]!==0?(c[0]=c[1],x=fs(C,e,s,o,n,x)):c[1]!==0&&(x=fs(C,e,c,o,n,x)),o=0):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(c[3]=n)}for(p!==0&&Gv(C,e,p,h,y),C.consume(e.events),n=-1;++n<e.events.length;){const T=e.events[n];T[0]==="enter"&&T[1].type==="table"&&(T[1]._align=hP(e.events,n))}return t}function fs(t,e,n,l,o,s){const c=l===1?"tableHeader":l===2?"tableDelimiter":"tableData",m="tableContent";n[0]!==0&&(s.end=Object.assign({},pr(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const p=pr(e.events,n[1]);if(s={type:c,start:Object.assign({},p),end:Object.assign({},p)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const h=pr(e.events,n[2]),y=pr(e.events,n[3]),x={type:m,start:Object.assign({},h),end:Object.assign({},y)};if(t.add(n[2],0,[["enter",x,e]]),l!==2){const C=e.events[n[2]],T=e.events[n[3]];if(C[1].end=Object.assign({},T[1].end),C[1].type="chunkText",C[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,k=n[3]-n[2]-1;t.add(E,k,[])}}t.add(n[3]+1,0,[["exit",x,e]])}return o!==void 0&&(s.end=Object.assign({},pr(e.events,o)),t.add(o,0,[["exit",s,e]]),s=void 0),s}function Gv(t,e,n,l,o){const s=[],c=pr(e.events,n);o&&(o.end=Object.assign({},c),s.push(["exit",o,e])),l.end=Object.assign({},c),s.push(["exit",l,e]),t.add(n+1,0,s)}function pr(t,e){const n=t[e],l=n[0]==="enter"?"start":"end";return n[1][l]}const vP={name:"tasklistCheck",tokenize:CP};function xP(){return{text:{91:vP}}}function CP(t,e,n){const l=this;return o;function o(p){return l.previous!==null||!l._gfmTasklistFirstContentOfListItem?n(p):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),s)}function s(p){return gt(p)?(t.enter("taskListCheckValueUnchecked"),t.consume(p),t.exit("taskListCheckValueUnchecked"),c):p===88||p===120?(t.enter("taskListCheckValueChecked"),t.consume(p),t.exit("taskListCheckValueChecked"),c):n(p)}function c(p){return p===93?(t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),m):n(p)}function m(p){return Ne(p)?e(p):Ke(p)?t.check({tokenize:TP},e,n)(p):n(p)}}function TP(t,e,n){return tt(t,l,"whitespace");function l(o){return o===null?n(o):e(o)}}function SP(t){return V0([YL(),iP(),fP(t),pP(),xP()])}const bP={};function Nx(t){const e=this,n=t||bP,l=e.data(),o=l.micromarkExtensions||(l.micromarkExtensions=[]),s=l.fromMarkdownExtensions||(l.fromMarkdownExtensions=[]),c=l.toMarkdownExtensions||(l.toMarkdownExtensions=[]);o.push(SP(n)),s.push(GL()),c.push(HL(n))}const _P=({argument:t,isUserArgument:e,humanPlayerRole:n,roundNumber:l,isStreaming:o=!1})=>{const s=t.speaker===be.PRO;let c="bg-slate-700",m="border-slate-500",p="text-slate-300",h=t.speaker===be.SYSTEM?"系统消息":t.speaker;return(t.speaker===be.PRO||t.speaker===be.CON)&&(c=s?"bg-blue-600/30":"bg-red-600/30",m=s?"border-pro":"border-con",p=s?"text-blue-300":"text-red-300",h=s?be.PRO:be.CON,l&&(h+=` (第 ${l} 轮)`),e&&t.speaker===n?h=`${t.speaker} (你)${l?` (第 ${l} 轮)`:""}`:e&&n&&t.speaker!==n&&(h=`${t.speaker}${l?` (第 ${l} 轮)`:""}`)),S.jsxs("div",{className:`p-4 rounded-lg shadow-lg mb-4 border-l-4 ${m} ${c} transition-all duration-300 ease-in-out transform hover:scale-[1.01]`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("h3",{className:`font-semibold text-lg ${p}`,children:h}),S.jsx("span",{className:"text-xs text-slate-400",children:t.timestamp.toLocaleTimeString("zh-CN")})]}),S.jsxs("div",{className:`text-neutral-light prose prose-sm prose-invert max-w-none
                      prose-p:mb-2 prose-p:last:mb-0
                      prose-strong:font-semibold
                      prose-em:italic
                      prose-ul:list-disc prose-ul:pl-5 prose-ul:mb-2
                      prose-ol:list-decimal prose-ol:pl-5 prose-ol:mb-2
                      prose-li:mb-1
                      prose-blockquote:pl-4 prose-blockquote:border-l-4 prose-blockquote:border-slate-500 prose-blockquote:italic prose-blockquote:text-slate-400
                      prose-code:bg-slate-700 prose-code:p-0.5 prose-code:rounded prose-code:font-mono prose-code:text-sm
                      prose-a:text-sky-400 hover:prose-a:text-sky-300 prose-a:transition-colors`,children:[S.jsx(ox,{remarkPlugins:[Nx],children:t.content}),o&&S.jsx("span",{className:"inline-block w-2 h-5 bg-current ml-1 animate-pulse",children:"|"})]})]})},Hv=({value:t,label:e,colorClass:n="bg-sky-500",max:l=100})=>{const o=l>0?Number(t)/l*100:0;return S.jsxs("div",{className:"mb-3",children:[S.jsxs("div",{className:"flex justify-between mb-1",children:[S.jsx("span",{className:"text-sm font-medium text-slate-300",children:e}),S.jsxs("span",{className:"text-sm font-medium text-slate-300",children:[(Number(t)||0).toFixed(1)," / ",l]})]}),S.jsx("div",{className:"w-full bg-slate-600 rounded-full h-2.5 Pdark:bg-slate-700 overflow-hidden",children:S.jsx("div",{className:`${n} h-2.5 rounded-full transition-all duration-500 ease-out`,style:{width:`${o}%`},role:"progressbar","aria-valuenow":Number(t)||0,"aria-valuemin":0,"aria-valuemax":l,"aria-label":`${e} score`})})]})},ds={contentAndArgumentation:"内容与论证",expressionAndTechnique:"表达与技巧",reactionAndAdaptability:"反应与应变",presence:"气场"},AP=({isOpen:t,onClose:e,judgeData:n,isLoading:l,error:o,topic:s})=>{var p,h,y,x;if(!t)return null;const c=(p=n==null?void 0:n.proScores)==null?void 0:p.dimensions,m=(h=n==null?void 0:n.conScores)==null?void 0:h.dimensions;return S.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-40",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"judgeModalTitle",children:S.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto text-neutral-light border border-slate-700 relative transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modal-appear",onClick:C=>C.stopPropagation(),children:[S.jsx("button",{onClick:e,className:"absolute top-3 right-3 sm:top-4 sm:right-4 text-slate-400 hover:text-slate-200 transition-colors text-3xl leading-none p-1 z-10","aria-label":"关闭评委点评",children:"×"}),S.jsx("h2",{id:"judgeModalTitle",className:"text-2xl sm:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-1 text-center",children:"评委点评与打分"}),S.jsxs("p",{className:"text-center text-slate-400 mb-6 text-sm sm:text-base",children:["辩题：",s||"未指定"]}),l&&S.jsxs("div",{className:"flex flex-col items-center justify-center h-60",children:[S.jsx(ys,{size:"h-12 w-12"}),S.jsx("p",{className:"mt-4 text-slate-300",children:"评委正在紧张点评中..."})]}),o&&!l&&S.jsxs("div",{className:"text-center text-red-300 bg-red-900/40 p-4 rounded-md my-4",children:[S.jsx("p",{className:"font-semibold text-red-200",children:"获取点评时遇到问题："}),S.jsx("p",{className:"text-sm",children:o})]}),!l&&!o&&!n&&S.jsx("div",{className:"text-center text-slate-400 py-10",children:S.jsx("p",{children:"暂无评委数据。"})}),n&&!l&&!o&&S.jsxs(S.Fragment,{children:[n.roundSummaries&&n.roundSummaries.length>0&&S.jsxs("section",{className:"mb-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-3 border-b border-slate-700 pb-2",children:"各轮总结"}),S.jsx("ul",{className:"space-y-3 pl-1",children:n.roundSummaries.map(C=>S.jsxs("li",{className:"text-sm p-3 bg-slate-700/60 rounded-lg shadow",children:[S.jsxs("strong",{className:"text-slate-200",children:["第 ",C.roundNumber," 轮："]}),S.jsx("span",{className:"text-slate-300",children:C.summary})]},C.roundNumber))})]}),S.jsxs("section",{className:"mb-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-3 border-b border-slate-700 pb-2",children:"总体总结"}),S.jsx("div",{className:`text-slate-300 p-3 bg-slate-700/60 rounded-lg shadow prose prose-sm prose-invert max-w-none 
                                prose-p:my-1 prose-p:text-slate-300 
                                prose-strong:text-slate-200
                                prose-headings:text-sky-300`,children:S.jsx(ox,{remarkPlugins:[Nx],children:n.overallSummary})})]}),S.jsxs("section",{children:[S.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-4 border-b border-slate-700 pb-2",children:"双方评分"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"p-4 bg-blue-900/30 rounded-lg border border-blue-700/50 shadow-md",children:[S.jsxs("h4",{className:"text-lg font-semibold text-blue-300 mb-3 text-center",children:[be.PRO," 得分"]}),c&&Object.keys(ds).map(C=>S.jsx(Hv,{label:ds[C],value:c[C]||0,colorClass:"bg-pro"},C)),S.jsxs("div",{className:"mt-4 pt-3 border-t border-blue-700/50 text-center",children:[S.jsx("span",{className:"text-md font-semibold text-blue-300",children:"平均分："}),S.jsxs("span",{className:"text-lg font-bold text-blue-200",children:[(((y=n.proScores)==null?void 0:y.average)||0).toFixed(1)," / 100"]})]})]}),S.jsxs("div",{className:"p-4 bg-red-900/30 rounded-lg border border-red-700/50 shadow-md",children:[S.jsxs("h4",{className:"text-lg font-semibold text-red-300 mb-3 text-center",children:[be.CON," 得分"]}),m&&Object.keys(ds).map(C=>S.jsx(Hv,{label:ds[C],value:m[C]||0,colorClass:"bg-con"},C)),S.jsxs("div",{className:"mt-4 pt-3 border-t border-red-700/50 text-center",children:[S.jsx("span",{className:"text-md font-semibold text-red-300",children:"平均分："}),S.jsxs("span",{className:"text-lg font-bold text-red-200",children:[(((x=n.conScores)==null?void 0:x.average)||0).toFixed(1)," / 100"]})]})]})]})]})]}),S.jsx("style",{children:`
            @keyframes modal-appear-animation {
              0% { transform: scale(0.95) translateY(10px); opacity: 0; }
              100% { transform: scale(1) translateY(0); opacity: 1; }
            }
            .animate-modal-appear {
              animation: modal-appear-animation 0.2s ease-out forwards;
            }
          `})]})})},EP=({entry:t,onLoad:e,onDelete:n})=>{const l=t.gameMode===it.AI_VS_AI?"🤖 AI vs. AI":"👤 人机对战",o=!!t.judgeOutputSnapshot,s=o?"⚖️ 已点评":"➖ 未点评",c=o?"text-green-400":"text-slate-500",m=t.finalTurnCount>0?Math.ceil(t.finalTurnCount/2):0,p=()=>{window.confirm(`您确定要删除历史记录：“${t.topic}”吗？此操作无法撤销。`)&&n(t.id)},h=new Date(t.createdAt).toLocaleString("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return S.jsxs("div",{className:"bg-slate-700/70 p-4 rounded-lg shadow-lg mb-4 border border-slate-600 hover:shadow-xl transition-shadow duration-200",children:[S.jsx("h3",{className:"text-lg font-semibold text-sky-300 mb-2 truncate",title:t.topic,children:t.topic}),S.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:["创建于: ",h]}),S.jsxs("div",{className:"text-sm text-slate-300 mb-1",children:["模式: ",S.jsx("span",{className:"font-medium",children:l})," | 当前轮次: ",S.jsx("span",{className:"font-medium",children:m})]}),S.jsxs("div",{className:`text-sm mb-3 ${c}`,children:["评委: ",S.jsx("span",{className:"font-medium",children:s})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-auto",children:[S.jsx("button",{onClick:()=>e(t.id),className:"flex-1 bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-3 rounded-md text-sm transition-colors duration-150","aria-label":`加载辩题 ${t.topic}`,children:"加载并继续"}),S.jsx("button",{onClick:p,className:"flex-1 bg-red-700 hover:bg-red-800 text-white font-semibold py-2 px-3 rounded-md text-sm transition-colors duration-150","aria-label":`删除辩题 ${t.topic}`,children:"删除记录"})]})]})},MP=({passwordInput:t,onPasswordChange:e,onLogin:n,onCancel:l,errorMessage:o,isLoading:s=!1})=>{const c=p=>{p.preventDefault(),n()},m=p=>{p.key==="Enter"&&!s&&n()};return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl p-6 w-full max-w-md mx-4",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-200 mb-2",children:"🔐 管理员登录"}),S.jsx("p",{className:"text-slate-400 text-sm",children:"请输入管理员密码以访问后台配置"})]}),S.jsxs("form",{onSubmit:c,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"adminPassword",className:"block text-sm font-medium text-slate-300 mb-2",children:"管理员密码"}),S.jsx("input",{id:"adminPassword",type:"password",value:t,onChange:p=>e(p.target.value),onKeyPress:m,placeholder:"请输入管理员密码",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",disabled:s,autoFocus:!0})]}),o&&S.jsxs("div",{className:"text-red-400 text-sm bg-red-900/20 border border-red-800 rounded-lg p-3",children:["❌ ",o]}),S.jsxs("div",{className:"flex space-x-3 pt-2",children:[S.jsx("button",{type:"button",onClick:l,disabled:s,className:"flex-1 px-4 py-2 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-700 disabled:opacity-50 text-slate-200 rounded-lg transition-colors duration-150",children:"取消"}),S.jsx("button",{type:"submit",disabled:s||!t.trim(),className:"flex-1 px-4 py-2 bg-sky-600 hover:bg-sky-700 disabled:bg-slate-600 disabled:opacity-50 text-white rounded-lg transition-colors duration-150 font-medium",children:s?"验证中...":"登录"})]})]}),S.jsx("div",{className:"mt-4 text-xs text-slate-500 text-center",children:"💡 提示：请使用管理员密码登录"})]})})},kP=({adminConfig:t,currentModel:e,currentProModel:n,currentConModel:l,currentJudgeModel:o,onModelChange:s,onProModelChange:c,onConModelChange:m,onJudgeModelChange:p,onSeparateModelsToggle:h,onStreamResponseToggle:y,onSave:x,onCancel:C,onUpdateAvailableModels:T,getEffectiveApiKey:E,isLoading:k=!1})=>{const[I,N]=Qe.useState(""),[z,L]=Qe.useState(""),J=R=>{T(R),L(`成功获取 ${R.length} 个可用模型`),N(""),setTimeout(()=>L(""),3e3)},$=R=>{N(R),L("")};return S.jsxs("div",{className:"bg-slate-700 rounded-lg p-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-slate-200 mb-4 flex items-center",children:"🤖 高级模型配置"}),S.jsxs("div",{className:"space-y-6",children:[S.jsx(_0,{apiKey:E()||"",apiBaseUrl:t.apiBaseUrl||"https://generativelanguage.googleapis.com",onModelsFetched:J,onError:$}),z&&S.jsx("div",{className:"bg-green-900/20 border border-green-800 rounded-lg p-3",children:S.jsxs("div",{className:"text-green-400 text-sm",children:["✅ ",z]})}),I&&S.jsx("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-3",children:S.jsxs("div",{className:"text-red-400 text-sm",children:["❌ ",I]})}),S.jsx("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-600",children:S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"⚔️ 正反方不同模型"}),S.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"为正方和反方配置不同的AI模型"})]}),S.jsx("button",{onClick:()=>h(!t.enableSeparateModels),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t.enableSeparateModels?"bg-sky-600":"bg-slate-600"}`,children:S.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t.enableSeparateModels?"translate-x-6":"translate-x-1"}`})})]})}),S.jsx("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-600",children:S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"⚡ 流式响应"}),S.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"启用打字机效果，实时显示AI回复内容"})]}),S.jsx("button",{onClick:()=>y(!t.enableStreamResponse),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t.enableStreamResponse?"bg-sky-600":"bg-slate-600"}`,children:S.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t.enableStreamResponse?"translate-x-6":"translate-x-1"}`})})]})}),t.enableSeparateModels?S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"🔵 正方模型选择："}),S.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:t.availableModels.map(R=>S.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all duration-150 ${n===R.id?"border-blue-500 bg-blue-900/20":"border-slate-600 bg-slate-800 hover:border-slate-500"}`,onClick:()=>c(R.id),children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:S.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${n===R.id?"border-blue-500 bg-blue-500":"border-slate-400"}`,children:n===R.id&&S.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:R.displayName}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:R.name})]})]})},`pro-${R.id}`))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"🔴 反方模型选择："}),S.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:t.availableModels.map(R=>S.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all duration-150 ${l===R.id?"border-red-500 bg-red-900/20":"border-slate-600 bg-slate-800 hover:border-slate-500"}`,onClick:()=>m(R.id),children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:S.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l===R.id?"border-red-500 bg-red-500":"border-slate-400"}`,children:l===R.id&&S.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:R.displayName}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:R.name})]})]})},`con-${R.id}`))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"⚖️ 评委模型选择："}),S.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:t.availableModels.map(R=>S.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all duration-150 ${o===R.id?"border-yellow-500 bg-yellow-900/20":"border-slate-600 bg-slate-800 hover:border-slate-500"}`,onClick:()=>p(R.id),children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:S.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${o===R.id?"border-yellow-500 bg-yellow-500":"border-slate-400"}`,children:o===R.id&&S.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:R.displayName}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:R.name})]})]})},`judge-${R.id}`))})]})]}):S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"选择默认AI模型："}),S.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:t.availableModels.map(R=>S.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all duration-150 ${e===R.id?"border-sky-500 bg-sky-900/20":"border-slate-600 bg-slate-800 hover:border-slate-500"}`,onClick:()=>s(R.id),children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:S.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${e===R.id?"border-sky-500 bg-sky-500":"border-slate-400"}`,children:e===R.id&&S.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-medium text-slate-200",children:R.displayName}),S.jsx("p",{className:"text-sm text-slate-400 mt-1",children:R.name}),R.description&&S.jsx("p",{className:"text-xs text-slate-500 mt-2",children:R.description})]})]})},R.id))}),S.jsxs("div",{className:"mt-6",children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"⚖️ 评委模型选择："}),S.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:t.availableModels.map(R=>S.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-all duration-150 ${o===R.id?"border-yellow-500 bg-yellow-900/20":"border-slate-600 bg-slate-800 hover:border-slate-500"}`,onClick:()=>p(R.id),children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:S.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${o===R.id?"border-yellow-500 bg-yellow-500":"border-slate-400"}`,children:o===R.id&&S.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:R.displayName}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:R.name})]})]})},`judge-unified-${R.id}`))})]})]}),S.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-slate-600",children:[S.jsx("button",{onClick:C,disabled:k,className:"flex-1 px-4 py-2 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-700 disabled:opacity-50 text-slate-200 rounded-lg transition-colors duration-150",children:"取消"}),S.jsx("button",{onClick:x,disabled:k,className:"flex-1 px-4 py-2 bg-sky-600 hover:bg-sky-700 disabled:bg-slate-600 disabled:opacity-50 text-white rounded-lg transition-colors duration-150 font-medium",children:k?"保存中...":"保存配置"})]})]})]})},wP=({adminConfig:t,onSave:e,onCancel:n,isLoading:l=!1})=>{const[o,s]=Qe.useState(t.apiBaseUrl||"https://generativelanguage.googleapis.com"),[c,m]=Qe.useState(t.systemApiKey||""),[p,h]=Qe.useState(!1),y=Dn.detectProvider?Dn.detectProvider(o,c):Bn.CUSTOM_GEMINI,x=()=>{const E={...t,apiBaseUrl:o.trim(),systemApiKey:c.trim()};e(E)},C=()=>{s("https://generativelanguage.googleapis.com"),m("")},T=E=>{switch(E){case"google":s("https://generativelanguage.googleapis.com");break;case"openai":s("https://api.openai.com");break;case"custom_gemini":s("https://wslzgmzs-api.deno.dev/gemini");break}};return S.jsxs("div",{className:"bg-slate-700 rounded-lg p-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-slate-200 mb-4 flex items-center",children:"🔗 API 配置"}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API 基础地址"}),S.jsx("input",{type:"url",value:o,onChange:E=>s(E.target.value),placeholder:"https://generativelanguage.googleapis.com",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",disabled:l}),S.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 默认为Google官方API地址，可配置为代理地址或其他兼容服务"}),S.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[S.jsx("button",{type:"button",onClick:()=>T("google"),className:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",disabled:l,children:"🔷 Google官方"}),S.jsx("button",{type:"button",onClick:()=>T("openai"),className:"px-2 py-1 text-xs bg-green-600 hover:bg-green-700 text-white rounded transition-colors",disabled:l,children:"🤖 OpenAI官方"}),S.jsx("button",{type:"button",onClick:()=>T("custom_gemini"),className:"px-2 py-1 text-xs bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors",disabled:l,children:"🔧 Gemini代理"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"系统级 API 密钥"}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:p?"text":"password",value:c,onChange:E=>m(E.target.value),placeholder:"输入系统级API密钥（可选）",className:"w-full px-3 py-2 pr-12 bg-slate-800 border border-slate-600 rounded-lg text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",disabled:l}),S.jsx("button",{type:"button",onClick:()=>h(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-200 transition-colors",disabled:l,children:p?"🙈":"👁️"})]}),S.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 系统级密钥作为备用，当用户未设置个人密钥时使用"})]}),S.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-600",children:[S.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-2",children:"当前配置状态"}),S.jsxs("div",{className:"space-y-2 text-xs",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-slate-400",children:"API地址:"}),S.jsx("span",{className:"text-slate-200 font-mono text-right max-w-xs truncate",children:o||"未设置"})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-slate-400",children:"系统密钥:"}),S.jsx("span",{className:"text-slate-200",children:c?"已设置 ✅":"未设置 ❌"})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-slate-400",children:"检测到的API:"}),S.jsxs("span",{className:"text-slate-200",children:[y===Bn.OPENAI&&"🤖 OpenAI",y===Bn.GOOGLE_GEMINI&&"🔷 Google Gemini",y===Bn.CUSTOM_GEMINI&&"🔧 自定义Gemini"]})]})]})]}),S.jsx("div",{className:"bg-yellow-900/20 border border-yellow-800 rounded-lg p-3",children:S.jsxs("div",{className:"flex items-start space-x-2",children:[S.jsx("span",{className:"text-yellow-400 text-sm",children:"⚠️"}),S.jsxs("div",{className:"text-xs text-yellow-200",children:[S.jsx("p",{className:"font-medium mb-1",children:"重要提醒："}),S.jsxs("ul",{className:"space-y-1 text-yellow-300",children:[S.jsx("li",{children:"• 系统级API密钥将存储在本地，请确保设备安全"}),S.jsx("li",{children:"• 修改API地址可能影响所有用户的使用"}),S.jsx("li",{children:"• 建议在测试环境中先验证配置的有效性"})]})]})]})}),S.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-slate-600",children:[S.jsx("button",{onClick:C,disabled:l,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-700 disabled:opacity-50 text-slate-200 rounded-lg transition-colors duration-150 text-sm",children:"重置默认"}),S.jsx("button",{onClick:n,disabled:l,className:"flex-1 px-4 py-2 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-700 disabled:opacity-50 text-slate-200 rounded-lg transition-colors duration-150",children:"取消"}),S.jsx("button",{onClick:x,disabled:l,className:"flex-1 px-4 py-2 bg-sky-600 hover:bg-sky-700 disabled:bg-slate-600 disabled:opacity-50 text-white rounded-lg transition-colors duration-150 font-medium",children:l?"保存中...":"保存配置"})]})]})]})},NP=({adminConfig:t,currentModel:e,currentProModel:n,currentConModel:l,currentJudgeModel:o,onModelChange:s,onProModelChange:c,onConModelChange:m,onJudgeModelChange:p,onSeparateModelsToggle:h,onStreamResponseToggle:y,onSaveConfig:x,onLogout:C,onClose:T,getEffectiveApiKey:E})=>{const[k,I]=Qe.useState(!1),[N,z]=Qe.useState("model"),[L,J]=Qe.useState(""),[$,R]=Qe.useState(""),[ie,j]=Qe.useState(""),oe=async()=>{I(!0);try{const te={...t,defaultModel:e,proModel:n,conModel:l,judgeModel:o};x(te),setTimeout(()=>{I(!1)},500)}catch{I(!1)}},P=te=>{const me={...t,availableModels:te};x(me)},ee=()=>{if(j(""),!L.trim()){j("密码不能为空");return}if(L!==$){j("两次输入的密码不一致");return}if(L.length<6){j("密码长度至少6位");return}I(!0);try{const te={...t,adminPassword:L};x(te),J(""),R(""),setTimeout(()=>{I(!1)},500)}catch{I(!1)}};return S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-hidden",children:[S.jsx("div",{className:"bg-slate-900 px-6 py-4 border-b border-slate-700",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-200 flex items-center",children:"⚙️ 管理员面板"}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsx("button",{onClick:C,className:"px-3 py-1 text-sm bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-150",children:"退出登录"}),S.jsx("button",{onClick:T,className:"px-3 py-1 text-sm bg-slate-600 hover:bg-slate-700 text-slate-200 rounded-lg transition-colors duration-150",children:"关闭"})]})]})}),S.jsx("div",{className:"bg-slate-800 px-6 py-3 border-b border-slate-700",children:S.jsxs("div",{className:"flex space-x-4",children:[S.jsx("button",{onClick:()=>z("model"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-150 ${N==="model"?"bg-sky-600 text-white":"text-slate-400 hover:text-slate-200 hover:bg-slate-700"}`,children:"🤖 模型配置"}),S.jsx("button",{onClick:()=>z("api"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-150 ${N==="api"?"bg-sky-600 text-white":"text-slate-400 hover:text-slate-200 hover:bg-slate-700"}`,children:"🔗 API 配置"}),S.jsx("button",{onClick:()=>z("settings"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-150 ${N==="settings"?"bg-sky-600 text-white":"text-slate-400 hover:text-slate-200 hover:bg-slate-700"}`,children:"🔐 安全设置"})]})}),S.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[N==="model"&&S.jsx(kP,{adminConfig:t,currentModel:e,currentProModel:n,currentConModel:l,currentJudgeModel:o,onModelChange:s,onProModelChange:c,onConModelChange:m,onJudgeModelChange:p,onSeparateModelsToggle:h,onStreamResponseToggle:y,onSave:oe,onCancel:T,onUpdateAvailableModels:P,getEffectiveApiKey:E,isLoading:k}),N==="api"&&S.jsx(wP,{adminConfig:t,onSave:x,onCancel:T,isLoading:k}),N==="settings"&&S.jsxs("div",{className:"bg-slate-700 rounded-lg p-6",children:[S.jsx("h3",{className:"text-xl font-semibold text-slate-200 mb-4 flex items-center",children:"🔐 修改管理员密码"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"新密码"}),S.jsx("input",{type:"password",value:L,onChange:te=>J(te.target.value),placeholder:"请输入新密码（至少6位）",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"确认密码"}),S.jsx("input",{type:"password",value:$,onChange:te=>R(te.target.value),placeholder:"请再次输入新密码",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),ie&&S.jsxs("div",{className:"text-red-400 text-sm bg-red-900/20 border border-red-800 rounded-lg p-3",children:["❌ ",ie]}),S.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-slate-600",children:[S.jsx("button",{onClick:()=>{J(""),R(""),j("")},disabled:k,className:"flex-1 px-4 py-2 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-700 disabled:opacity-50 text-slate-200 rounded-lg transition-colors duration-150",children:"重置"}),S.jsx("button",{onClick:ee,disabled:k||!L||!$,className:"flex-1 px-4 py-2 bg-sky-600 hover:bg-sky-700 disabled:bg-slate-600 disabled:opacity-50 text-white rounded-lg transition-colors duration-150 font-medium",children:k?"保存中...":"修改密码"})]})]})]})]})]})})},Vn=1e3,ms={topic:"",isDebateActive:!1,proChat:null,conChat:null,debateLog:[],currentSpeakerToTalk:be.PRO,turnCount:0,isLoading:!1,errorMessage:null,isJudgeModalOpen:!1,judgeOutput:null,isJudgeLoading:!1,judgeErrorMessage:null,gameMode:null,humanSpeakerRole:null,isHumanTurn:!1,humanInput:"",userApiKey:null,apiKeyInput:"",showApiKeySettings:!1,showModelSettings:!1,isAdminLoggedIn:!1,showAdminLogin:!1,showAdminPanel:!1,adminPasswordInput:"",userCurrentModel:Hi,userCurrentProModel:Hi,userCurrentConModel:Hi,userCurrentJudgeModel:Hi,adminCurrentModel:Hi,adminCurrentProModel:Hi,adminCurrentConModel:Hi,adminCurrentJudgeModel:Hi,adminConfig:null,configInitialized:!1,promptTokensUsed:0,candidatesTokensUsed:0,totalTokensUsed:0,lastCallPromptTokens:0,lastCallCandidatesTokens:0,lastCallTotalTokens:0,historicalDebates:[],showHistoryView:!1,currentDebateId:null,viewingHistoricalDebateId:null,isTokenDisplayMinimized:!1,isStreamingResponse:!1,streamingArgumentId:null},RP=()=>{var bt,Ze,Lt,cn,Cn,vi,xi,Ci,Xi,Qi,Ht,_l;const[t,e]=Qe.useState(ms),[n,l]=Qe.useState(""),o=Qe.useRef(null),s=Qe.useRef(null);Qe.useEffect(()=>{(async()=>{try{await Kt.initialize();const Q=localStorage.getItem(os);let Se=[];if(Q)try{Se=JSON.parse(Q).map(q=>({...q,createdAt:q.createdAt?new Date(q.createdAt).toISOString():new Date(0).toISOString(),lastSavedAt:q.lastSavedAt?new Date(q.lastSavedAt).toISOString():new Date(0).toISOString(),debateLog:q.debateLog.map(Y=>({...Y,timestamp:new Date(Y.timestamp)})),currentSpeakerNext:q.currentSpeakerNext||be.PRO}))}catch(q){console.error("Failed to parse debate history from localStorage:",q),Se=[]}const Te=Kt.getEffectiveModels(),ke=Kt.getFeatureFlags(),we=Kt.getEffectiveApiKey(),Ve={defaultModel:Te.defaultModel,availableModels:Kt.getAvailableModels(),adminPassword:Kt.getAdminPassword(),apiBaseUrl:Kt.getEffectiveApiBaseUrl(),systemApiKey:"",proModel:Te.proModel,conModel:Te.conModel,judgeModel:Te.judgeModel,enableSeparateModels:ke.enableSeparateModels,enableStreamResponse:ke.enableStreamResponse};e(q=>({...q,userApiKey:we,apiKeyInput:we||"",historicalDebates:Se,adminConfig:Ve,configInitialized:!0,userCurrentModel:Te.defaultModel,userCurrentProModel:Te.proModel,userCurrentConModel:Te.conModel,userCurrentJudgeModel:Te.judgeModel,adminCurrentModel:Te.defaultModel,adminCurrentProModel:Te.proModel,adminCurrentConModel:Te.conModel,adminCurrentJudgeModel:Te.judgeModel})),console.log("Configuration initialized successfully")}catch(Q){console.error("Failed to initialize configuration:",Q),e(Se=>({...Se,errorMessage:"配置初始化失败，请刷新页面重试",configInitialized:!1}))}})()},[]),Qe.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[t.debateLog]),Qe.useEffect(()=>{var O;t.gameMode===it.HUMAN_VS_AI&&t.isHumanTurn&&t.isDebateActive&&((O=s.current)==null||O.focus())},[t.isHumanTurn,t.gameMode,t.isDebateActive]);const c=Qe.useCallback(()=>Kt.getEffectiveApiKey(),[]),m=Qe.useCallback(()=>Kt.getEffectiveApiBaseUrl(),[]),p=Qe.useCallback(O=>{const Q=m();return console.log("Creating API client with baseURL:",Q),console.log("API Key (first 10 chars):",O.substring(0,10)+"..."),Dn.createClient({apiKey:O,baseURL:Q})},[m]),h=O=>{e(Q=>({...Q,gameMode:O,errorMessage:null,showApiKeySettings:!1,showModelSettings:!1,showHistoryView:!1}))},y=O=>{e(Q=>({...Q,apiKeyInput:O}))},x=()=>{const O=t.apiKeyInput.trim();O?(Kt.saveUserApiKey(O),e(Q=>({...Q,userApiKey:O,errorMessage:"API 密钥已保存。"}))):(Kt.clearUserApiKey(),e(Q=>({...Q,userApiKey:null,apiKeyInput:"",errorMessage:"用户 API 密钥已清除。"})))},C=()=>{Kt.clearUserApiKey(),e(O=>({...O,userApiKey:null,apiKeyInput:"",errorMessage:"用户 API 密钥已清除。"}))},T=()=>{e(O=>({...O,showApiKeySettings:!O.showApiKeySettings,errorMessage:null,showHistoryView:!1,gameMode:null}))},E=()=>{e(O=>({...O,showAdminLogin:!0,adminPasswordInput:"",errorMessage:null,showApiKeySettings:!1,showHistoryView:!1,gameMode:null}))},k=()=>{t.adminConfig&&(t.adminPasswordInput===t.adminConfig.adminPassword?e(O=>({...O,isAdminLoggedIn:!0,showAdminLogin:!1,showAdminPanel:!0,adminPasswordInput:"",errorMessage:null})):e(O=>({...O,errorMessage:"密码错误，请重试"})))},I=()=>{e(O=>({...O,isAdminLoggedIn:!1,showAdminPanel:!1,adminPasswordInput:"",errorMessage:null}))},N=()=>{e(O=>({...O,showAdminLogin:!1,adminPasswordInput:"",errorMessage:null}))},z=()=>{e(O=>({...O,showAdminPanel:!1}))},L=O=>{if(t.adminConfig){const Q={...t.adminConfig,enableSeparateModels:O};localStorage.setItem(of,JSON.stringify(Q)),e(Se=>({...Se,adminConfig:Q}))}},J=O=>{if(t.adminConfig){const Q={...t.adminConfig,enableStreamResponse:O};localStorage.setItem(of,JSON.stringify(Q)),e(Se=>({...Se,adminConfig:Q}))}},$=O=>{if(t.adminConfig){const Q={...t.adminConfig,availableModels:O};localStorage.setItem(of,JSON.stringify(Q)),e(Se=>({...Se,adminConfig:Q}))}},R=()=>{Kt.saveUserModelPreferences({defaultModel:t.userCurrentModel,proModel:t.userCurrentProModel,conModel:t.userCurrentConModel,judgeModel:t.userCurrentJudgeModel}),e(O=>({...O,showModelSettings:!1,errorMessage:"用户模型偏好已保存。"}))},ie=async O=>{try{await Kt.updateCloudConfig(O),e(Q=>({...Q,adminConfig:O,adminCurrentModel:O.defaultModel,adminCurrentProModel:O.proModel||O.defaultModel,adminCurrentConModel:O.conModel||O.defaultModel,adminCurrentJudgeModel:O.judgeModel||O.defaultModel}))}catch(Q){console.error("Failed to save admin config:",Q),e(Se=>({...Se,errorMessage:"保存管理员配置失败，请重试"}))}},j=()=>{e(O=>({...O,showHistoryView:!O.showHistoryView,gameMode:null,showApiKeySettings:!1,errorMessage:null}))},oe=Qe.useCallback(()=>{const{currentDebateId:O,topic:Q,gameMode:Se,debateLog:Te,humanSpeakerRole:ke,turnCount:we,promptTokensUsed:Ve,candidatesTokensUsed:q,totalTokensUsed:Y,judgeOutput:ae,currentSpeakerToTalk:se}=t;if(!O||Te.filter(We=>We.speaker!==be.SYSTEM||We.judgeCommentData).length===0&&!ae)return;const Ae={id:O,topic:Q,gameMode:Se,createdAt:new Date(parseInt(O,10)).toISOString(),lastSavedAt:new Date().toISOString(),debateLog:Te.map(We=>({...We,timestamp:new Date(We.timestamp)})),humanSpeakerRole:ke,finalTurnCount:we,finalPromptTokensUsed:Ve,finalCandidatesTokensUsed:q,finalTotalTokensUsed:Y,judgeOutputSnapshot:ae,currentSpeakerNext:se};e(We=>{const ut=We.historicalDebates.findIndex(yt=>yt.id===Ae.id);let mt;return ut>-1?(mt=[...We.historicalDebates],mt[ut]=Ae):mt=[Ae,...We.historicalDebates],mt.sort((yt,he)=>new Date(he.lastSavedAt).getTime()-new Date(yt.lastSavedAt).getTime()),localStorage.setItem(os,JSON.stringify(mt)),{...We,historicalDebates:mt}})},[t]),P=Qe.useCallback(async()=>{var Ae,We,ut,mt,yt;if(!c()){e(he=>({...he,errorMessage:"API 密钥未配置。请在设置中提供您自己的密钥或确保应用内置密钥可用。",isLoading:!1}));return}if(!t.isDebateActive||!t.topic){e(he=>({...he,errorMessage:"辩论未初始化。"}));return}const{gameMode:Q,currentSpeakerToTalk:Se,proChat:Te,conChat:ke,turnCount:we,topic:Ve,debateLog:q,humanSpeakerRole:Y}=t;if(Q===it.HUMAN_VS_AI&&Se===Y){console.warn("handleNextTurn was called when it's still considered human's turn based on currentSpeakerToTalk.");return}let ae,se,pe=Se;if(e(he=>({...he,isLoading:!0,errorMessage:null,judgeOutput:null,judgeErrorMessage:null})),Q===it.AI_VS_AI){ae=Se===be.PRO?Te:ke;const he=Se===be.PRO?be.CON:be.PRO,Xe=q.slice().reverse().find($e=>$e.speaker===he);if(we===0&&Se===be.PRO&&!Xe)se=jN(Ve);else{const $e=Xe?Xe.content:"对方尚未发言。";se=jy(Ve,he,$e,Se)}}else if(Q===it.HUMAN_VS_AI){ae=ke,pe=be.CON;const he=q.slice().reverse().find($e=>$e.speaker===be.PRO&&$e.isUserArgument),Xe=he?he.content:"您尚未发言。";se=jy(Ve,be.PRO,Xe,be.CON)}else{e(he=>({...he,isLoading:!1,errorMessage:"无效的游戏模式或状态。"}));return}if(!ae){e(he=>({...he,isLoading:!1,errorMessage:`聊天会话无效 (${pe})。可能API密钥缺失或初始化失败。`})),Q===it.HUMAN_VS_AI&&e(he=>({...he,isHumanTurn:!0,currentSpeakerToTalk:Y||be.PRO}));return}try{console.log("Sending message to chat:",{speaker:pe,promptLength:se.length,apiBaseUrl:m(),modelUsed:(Ae=t.adminConfig)!=null&&Ae.enableSeparateModels?pe===be.PRO?t.userCurrentProModel:t.userCurrentConModel:t.userCurrentModel});const he=((We=t.adminConfig)==null?void 0:We.enableStreamResponse)||!1;let Xe;he?Xe=await ee(ae,se,pe):Xe=await ae.sendMessage({message:se}),console.log("Received response:",{hasText:!!Xe.text,textLength:((ut=Xe.text)==null?void 0:ut.length)||0,hasUsageMetadata:!!Xe.usageMetadata,isStream:he});let $e;he&&t.streamingArgumentId?$e={id:t.streamingArgumentId,speaker:pe,content:((mt=Xe.text)==null?void 0:mt.trim())||"",timestamp:new Date,isUserArgument:!1}:$e={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,speaker:pe,content:((yt=Xe.text)==null?void 0:yt.trim())||"",timestamp:new Date,isUserArgument:!1};let tn=0,Tn=0,Et=0;Xe.usageMetadata&&(tn=Xe.usageMetadata.promptTokenCount||0,Tn=Xe.usageMetadata.candidatesTokenCount||0,Et=Xe.usageMetadata.totalTokenCount||0),e(ht=>({...ht,debateLog:he&&ht.streamingArgumentId?ht.debateLog.map(Ge=>Ge.id===ht.streamingArgumentId?$e:Ge):[...ht.debateLog,$e],currentSpeakerToTalk:Q===it.AI_VS_AI?pe===be.PRO?be.CON:be.PRO:Y||be.PRO,turnCount:ht.turnCount+1,isLoading:!1,isHumanTurn:Q===it.HUMAN_VS_AI?!0:ht.isHumanTurn,isStreamingResponse:!1,streamingArgumentId:null,lastCallPromptTokens:tn,lastCallCandidatesTokens:Tn,lastCallTotalTokens:Et,promptTokensUsed:ht.promptTokensUsed+tn,candidatesTokensUsed:ht.candidatesTokensUsed+Tn,totalTokensUsed:ht.totalTokensUsed+Et}))}catch(he){console.error("Gemini API error (Next Turn):",he);const Xe=he instanceof Error?he.message:String(he);e($e=>({...$e,isLoading:!1,errorMessage:`AI (${pe}) 生成回应时出错: ${Xe}`,isHumanTurn:Q===it.HUMAN_VS_AI?!0:$e.isHumanTurn,currentSpeakerToTalk:Q===it.HUMAN_VS_AI?Y||be.PRO:$e.currentSpeakerToTalk,isStreamingResponse:!1,streamingArgumentId:null,debateLog:$e.streamingArgumentId?$e.debateLog.filter(tn=>tn.id!==$e.streamingArgumentId):$e.debateLog,lastCallPromptTokens:0,lastCallCandidatesTokens:0,lastCallTotalTokens:0}))}},[t,c]),ee=Qe.useCallback(async(O,Q,Se)=>{const Te=`${Date.now()}-streaming-${Math.random().toString(36).substr(2,9)}`,ke={id:Te,speaker:Se,content:"",timestamp:new Date,isUserArgument:!1};e(we=>({...we,isStreamingResponse:!0,streamingArgumentId:Te,debateLog:[...we.debateLog,ke]}));try{let we="";if(O.sendMessageStream)return await O.sendMessageStream({message:Q},q=>{we+=q,e(Y=>({...Y,debateLog:Y.debateLog.map(ae=>ae.id===Te?{...ae,content:we}:ae)}))});{const Ve=await O.sendMessage({message:Q}),Y=Ve.text.split("");for(let ae=0;ae<Y.length;ae++)we=Y.slice(0,ae+1).join(""),e(se=>({...se,debateLog:se.debateLog.map(pe=>pe.id===Te?{...pe,content:we}:pe)})),await new Promise(se=>setTimeout(se,20));return Ve}}catch(we){throw console.error("Stream response error:",we),e(Ve=>({...Ve,isStreamingResponse:!1,streamingArgumentId:null,debateLog:Ve.debateLog.filter(q=>q.id!==Te)})),we}},[]),te=Qe.useCallback(()=>{var ae,se,pe;if(!n.trim()){e(Ae=>({...Ae,errorMessage:"请输入一个有效的辩论题目。"}));return}if(n.length>Vn){e(Ae=>({...Ae,errorMessage:`辩论题目过长，请保持在 ${Vn} 字以内。`}));return}const O=c();if(!O){e(Ae=>({...Ae,errorMessage:"API 密钥未配置。请在设置中提供您自己的密钥或确保应用内置密钥可用。"}));return}if(!t.gameMode){e(Ae=>({...Ae,errorMessage:"请先选择一个游戏模式。"}));return}const Q=p(O);let Se=null,Te=null,ke=be.PRO,we=null,Ve=!1;const q=[],Y=Date.now().toString();try{if(t.gameMode===it.AI_VS_AI){const Ae=(ae=t.adminConfig)!=null&&ae.enableSeparateModels?t.userCurrentProModel:t.userCurrentModel,We=(se=t.adminConfig)!=null&&se.enableSeparateModels?t.userCurrentConModel:t.userCurrentModel;Se=Q.chats.create({model:Ae,config:{systemInstruction:ev(n)}}),Te=Q.chats.create({model:We,config:{systemInstruction:as(n)}})}else if(t.gameMode===it.HUMAN_VS_AI){we=be.PRO,ke=be.PRO,Ve=!0;const Ae=(pe=t.adminConfig)!=null&&pe.enableSeparateModels?t.userCurrentConModel:t.userCurrentModel;Te=Q.chats.create({model:Ae,config:{systemInstruction:as(n)}}),q.push({id:`${Date.now()}-system`,speaker:be.SYSTEM,content:tR(we),timestamp:new Date})}}catch(Ae){console.error("Error initializing chat:",Ae);const We=Ae instanceof Error?Ae.message:String(Ae);e(ut=>({...ut,errorMessage:`初始化聊天会话失败: ${We}`,isLoading:!1,isDebateActive:!1}));return}e(Ae=>({...ms,userApiKey:Ae.userApiKey,apiKeyInput:Ae.apiKeyInput,historicalDebates:Ae.historicalDebates,isTokenDisplayMinimized:Ae.isTokenDisplayMinimized,adminConfig:Ae.adminConfig,userCurrentModel:Ae.userCurrentModel,userCurrentProModel:Ae.userCurrentProModel,userCurrentConModel:Ae.userCurrentConModel,userCurrentJudgeModel:Ae.userCurrentJudgeModel,adminCurrentModel:Ae.adminCurrentModel,adminCurrentProModel:Ae.adminCurrentProModel,adminCurrentConModel:Ae.adminCurrentConModel,adminCurrentJudgeModel:Ae.adminCurrentJudgeModel,showApiKeySettings:!1,topic:n,isDebateActive:!0,proChat:Se,conChat:Te,currentSpeakerToTalk:ke,humanSpeakerRole:we,isHumanTurn:Ve,debateLog:q,turnCount:0,isLoading:!1,errorMessage:null,judgeErrorMessage:null,isJudgeModalOpen:!1,judgeOutput:null,isJudgeLoading:!1,gameMode:Ae.gameMode,currentDebateId:Y,viewingHistoricalDebateId:null,promptTokensUsed:0,candidatesTokensUsed:0,totalTokensUsed:0,lastCallPromptTokens:0,lastCallCandidatesTokens:0,lastCallTotalTokens:0}))},[n,t.gameMode,c,t.userApiKey,t.apiKeyInput,t.historicalDebates,t.isTokenDisplayMinimized]);Qe.useEffect(()=>{t.gameMode===it.AI_VS_AI&&t.isDebateActive&&t.turnCount===0&&t.proChat&&!t.isLoading&&t.debateLog.filter(O=>O.speaker!==be.SYSTEM).length===0&&t.currentSpeakerToTalk===be.PRO&&P()},[t.gameMode,t.isDebateActive,t.turnCount,t.proChat,t.isLoading,t.debateLog.length,t.currentSpeakerToTalk,P]),Qe.useEffect(()=>{if(t.gameMode===it.HUMAN_VS_AI&&!t.isHumanTurn&&t.currentSpeakerToTalk===be.CON&&t.isDebateActive&&!t.isLoading&&t.conChat){const O=t.debateLog[t.debateLog.length-1];O&&O.speaker===t.humanSpeakerRole&&O.isUserArgument&&P()}},[t.gameMode,t.isHumanTurn,t.currentSpeakerToTalk,t.isDebateActive,t.isLoading,t.debateLog,t.humanSpeakerRole,t.conChat,P]);const me=O=>{O.target.value.length<=Vn&&e(Q=>({...Q,humanInput:O.target.value}))},fe=Qe.useCallback(async()=>{if(!t.humanInput.trim()){e(Q=>({...Q,errorMessage:"发言内容不能为空。"}));return}if(t.humanInput.length>Vn){e(Q=>({...Q,errorMessage:`发言内容过长，请保持在 ${Vn} 字以内。`}));return}if(!t.humanSpeakerRole){e(Q=>({...Q,errorMessage:"未设定您的辩论角色。"}));return}const O={id:`${Date.now()}-human-${Math.random().toString(36).substr(2,9)}`,speaker:t.humanSpeakerRole,content:t.humanInput,timestamp:new Date,isUserArgument:!0};e(Q=>({...Q,debateLog:[...Q.debateLog,O],humanInput:"",isHumanTurn:!1,currentSpeakerToTalk:be.CON,turnCount:Q.turnCount+1,errorMessage:null,lastCallPromptTokens:0,lastCallCandidatesTokens:0,lastCallTotalTokens:0}))},[t.humanInput,t.humanSpeakerRole]),ce=()=>{t.currentDebateId&&t.isDebateActive&&oe(),e(O=>({...ms,userApiKey:O.userApiKey,apiKeyInput:O.apiKeyInput,historicalDebates:O.historicalDebates,isTokenDisplayMinimized:O.isTokenDisplayMinimized,adminConfig:O.adminConfig,currentModel:O.currentModel,currentProModel:O.currentProModel,currentConModel:O.currentConModel,currentJudgeModel:O.currentJudgeModel,showHistoryView:O.showHistoryView&&!O.isDebateActive,showApiKeySettings:O.showApiKeySettings&&!O.isDebateActive})),l("")},H=()=>t.isDebateActive?t.isLoading&&t.currentSpeakerToTalk!==be.SYSTEM?`${t.currentSpeakerToTalk} 正在生成...`:t.currentSpeakerToTalk===be.SYSTEM?"等待操作":`请 ${t.currentSpeakerToTalk} 发言`:"开始辩论",ne=O=>{const Q=Object.values(O);if(Q.length===0)return 0;const Te=Q.reduce((ke,we)=>ke+(Number(we)||0),0)/Q.length;return parseFloat(Te.toFixed(1))},Ce=Qe.useCallback(async()=>{var Q,Se;const O=c();if(!O){e(Te=>({...Te,judgeErrorMessage:"API 密钥未配置。请在设置中提供密钥或确保应用内置密钥可用。",isJudgeModalOpen:!0}));return}if(!t.topic||t.debateLog.filter(Te=>Te.speaker!==be.SYSTEM).length<1){e(Te=>({...Te,judgeErrorMessage:"需要至少一方发言才能进行点评。",isJudgeModalOpen:!0}));return}e(Te=>({...Te,isJudgeLoading:!0,judgeErrorMessage:null,judgeOutput:null,isJudgeModalOpen:!0}));try{const Te=p(O),ke=eR(t.topic,t.debateLog);let we=t.currentJudgeModel;const Ve=m();Ve!=="https://generativelanguage.googleapis.com"&&!Ve.includes("gemini")?we.includes("gemini")&&(we=t.currentModel,console.log("Judge model incompatible with current API, using default model:",we)):Ve.includes("gemini")&&!we.includes("gemini")&&(we="models/gemini-2.0-flash",console.log("Using Gemini API, switching judge model to:",we)),console.log("Using judge model:",we);const q=[{parts:[{text:ke}]}],Y=await Te.models.generateContent({model:we,contents:q,config:{responseMimeType:"application/json"}});let ae=Y.text.trim();const se=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,pe=ae.match(se);pe&&pe[2]&&(ae=pe[2].trim()),Object.entries({zero:"0",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",ten:"10",eleven:"11",twelve:"12",thirteen:"13",fourteen:"14",fifteen:"15",sixteen:"16",seventeen:"17",eighteen:"18",nineteen:"19",twenty:"20",thirty:"30",forty:"40",fifty:"50",sixty:"60",seventy:"70",eighty:"80",ninety:"90",hundred:"100"}).forEach(([Et,ht])=>{const Ge=new RegExp(`\\b${Et}\\b`,"gi");ae=ae.replace(Ge,ht)});const We=JSON.parse(ae),ut={contentAndArgumentation:0,expressionAndTechnique:0,reactionAndAdaptability:0,presence:0},mt=((Q=We.proScores)==null?void 0:Q.dimensions)||ut,yt=((Se=We.conScores)==null?void 0:Se.dimensions)||ut,he={roundSummaries:We.roundSummaries||[],overallSummary:We.overallSummary||"评委未提供整体总结。",proScores:{dimensions:mt,average:ne(mt)},conScores:{dimensions:yt,average:ne(yt)}},Xe={id:`${Date.now()}-judge-summary-${Math.random().toString(36).substr(2,9)}`,speaker:be.SYSTEM,content:"评委已完成点评。详细分析和评分已记录。",timestamp:new Date,judgeCommentData:he};let $e=0,tn=0,Tn=0;Y.usageMetadata&&($e=Y.usageMetadata.promptTokenCount||0,tn=Y.usageMetadata.candidatesTokenCount||0,Tn=Y.usageMetadata.totalTokenCount||0),e(Et=>{const ht=[...Et.debateLog.filter(Bt=>!Bt.judgeCommentData),Xe];let Ge=Et.historicalDebates;if(Et.currentDebateId){const Bt=Ge.findIndex(Ln=>Ln.id===Et.currentDebateId);Bt>-1&&(Ge=[...Ge],Ge[Bt]={...Ge[Bt],judgeOutputSnapshot:he,debateLog:ht.map(Ln=>({...Ln,timestamp:new Date(Ln.timestamp)})),lastSavedAt:new Date().toISOString()},localStorage.setItem(os,JSON.stringify(Ge)))}return{...Et,debateLog:ht,judgeOutput:he,isJudgeLoading:!1,isJudgeModalOpen:!0,lastCallPromptTokens:$e,lastCallCandidatesTokens:tn,lastCallTotalTokens:Tn,promptTokensUsed:Et.promptTokensUsed+$e,candidatesTokensUsed:Et.candidatesTokensUsed+tn,totalTokensUsed:Et.totalTokensUsed+Tn,historicalDebates:Ge}})}catch(Te){console.error("Gemini API error (Judge Comments):",Te);const ke=`获取评委点评失败: ${Te instanceof Error?Te.message:String(Te)}`;e(we=>({...we,isJudgeLoading:!1,judgeErrorMessage:ke,isJudgeModalOpen:!0,lastCallPromptTokens:0,lastCallCandidatesTokens:0,lastCallTotalTokens:0}))}},[t.topic,t.debateLog,c,t.currentDebateId,t.historicalDebates]),qe=()=>{e(O=>({...O,isJudgeModalOpen:!1,judgeErrorMessage:null}))},_=()=>{var O;return t.userApiKey&&t.userApiKey.trim()!==""?S.jsx("span",{className:"text-green-400",children:"用户提供的密钥"}):(O=t.adminConfig)!=null&&O.systemApiKey&&t.adminConfig.systemApiKey.trim()!==""?S.jsx("span",{className:"text-blue-400",children:"系统级密钥"}):envApiKey?S.jsx("span",{className:"text-sky-400",children:"应用内置密钥"}):S.jsx("span",{className:"text-red-400",children:"无可用密钥"})},X=()=>{let O=0,Q=0;return t.debateLog.map(Se=>{let Te;const ke=new Date(Se.timestamp),we={...Se,timestamp:ke};return Se.speaker===be.PRO?(O++,Te=O):Se.speaker===be.CON&&(Q++,Te=Q),S.jsx(_P,{argument:we,isUserArgument:t.gameMode===it.HUMAN_VS_AI&&Se.speaker===t.humanSpeakerRole&&Se.isUserArgument,humanPlayerRole:t.humanSpeakerRole,roundNumber:Te,isStreaming:t.isStreamingResponse&&t.streamingArgumentId===Se.id},Se.id)})},ue=O=>{let Q="";O.roundSummaries&&O.roundSummaries.length>0&&(Q+=`### 各轮总结

`,O.roundSummaries.forEach(ke=>{Q+=`- **第 ${ke.roundNumber} 轮:** ${ke.summary}
`}),Q+=`
---

`),Q+=`### 总体总结

${O.overallSummary}

---

`,Q+=`### 双方评分

`;const Se={contentAndArgumentation:"内容与论证",expressionAndTechnique:"表达与技巧",reactionAndAdaptability:"反应与应变",presence:"气场"},Te=(ke,we)=>{let Ve=`#### ${ke} 得分:
`;if(we&&we.dimensions){for(const q in Se){const Y=q;Ve+=`- ${Se[Y]}: ${we.dimensions[Y]!==void 0?we.dimensions[Y].toFixed(1):"N/A"} / 100
`}Ve+=`- **平均分: ${we.average!==void 0?we.average.toFixed(1):"N/A"} / 100**
`}else Ve+=`- 无评分数据
`;return Ve+`
`};return Q+=Te(be.PRO,O.proScores),Q+=Te(be.CON,O.conScores),Q},M=()=>{const{topic:O,debateLog:Q,humanSpeakerRole:Se,gameMode:Te,promptTokensUsed:ke,candidatesTokensUsed:we,totalTokensUsed:Ve,viewingHistoricalDebateId:q,currentDebateId:Y,judgeOutput:ae}=t;let se=O,pe=Q,Ae=ke,We=we,ut=Ve,mt=ae;const yt=q||Y;if(yt){const Ge=t.historicalDebates.find(Bt=>Bt.id===yt);Ge&&(se=Ge.topic,pe=Ge.debateLog.map(Bt=>({...Bt,timestamp:new Date(Bt.timestamp)})),Ae=Ge.finalPromptTokensUsed,We=Ge.finalCandidatesTokensUsed,ut=Ge.finalTotalTokensUsed,mt=Ge.judgeOutputSnapshot||ae)}let he=`# 辩论总结: ${se||"无辩题"}

---

`;he+=`## Token 使用情况 (整场辩论)

`,he+=`- Prompt Tokens (总计): ${Ae}
`,he+=`- Completion Tokens (总计): ${We}
`,he+=`- Total Tokens (总计): ${ut}

---

`,he+=`## 辩论记录

---

`;let Xe=0,$e=0,tn=pe.find(Ge=>Ge.speaker===be.SYSTEM&&Ge.judgeCommentData);pe.forEach(Ge=>{const Bt=new Date(Ge.timestamp);if(Ge.speaker===be.SYSTEM&&Ge.judgeCommentData)he+=`
## 评委点评 (记录于 ${Bt.toLocaleTimeString("zh-CN")})

---

`,he+=ue(Ge.judgeCommentData),he+=`
---

`;else if(Ge.speaker===be.SYSTEM)he+=`**系统消息 (${Bt.toLocaleTimeString("zh-CN")}):**
${Ge.content}

---

`;else{let Ln="";Ge.speaker===be.PRO&&(Ln=` (第 ${++Xe} 轮)`),Ge.speaker===be.CON&&(Ln=` (第 ${++$e} 轮)`);let Al=`${Ge.speaker}${Ln}`;Te===it.HUMAN_VS_AI&&Ge.speaker===Se&&Ge.isUserArgument&&(Al+=" (你)"),he+=`### ${Al} - ${Bt.toLocaleTimeString("zh-CN")}

`,he+=`${Ge.content}

---

`}}),mt&&!tn&&(he+=`
## 评委点评 (最新/快照)

---

`,he+=ue(mt),he+=`
---

`);const Tn=new Blob([he],{type:"text/markdown;charset=utf-8"}),Et=URL.createObjectURL(Tn),ht=document.createElement("a");ht.href=Et,ht.download=`辩论总结-${se.replace(/[^\w\s一-龥]/gi,"_")||"无辩题"}.md`,document.body.appendChild(ht),ht.click(),document.body.removeChild(ht),URL.revokeObjectURL(Et)},ge=O=>{var q,Y,ae;const Q=t.historicalDebates.find(se=>se.id===O);if(!Q){e(se=>({...se,errorMessage:"无法加载该历史记录。"}));return}const Se=c();let Te=null,ke=null,we=null,Ve=!1;if((Q.gameMode===it.AI_VS_AI||Q.gameMode===it.HUMAN_VS_AI&&Q.currentSpeakerNext===be.CON)&&(Ve=!0),Ve&&!Se)we="API 密钥未配置，AI无法继续交互。您可以查看记录或获取评委点评（若之前已保存）。";else if(Se){const se=p(Se);try{if(Q.gameMode===it.AI_VS_AI){const pe=(q=t.adminConfig)!=null&&q.enableSeparateModels?t.currentProModel:t.currentModel,Ae=(Y=t.adminConfig)!=null&&Y.enableSeparateModels?t.currentConModel:t.currentModel;Te=se.chats.create({model:pe,config:{systemInstruction:ev(Q.topic)}}),ke=se.chats.create({model:Ae,config:{systemInstruction:as(Q.topic)}})}else if(Q.gameMode===it.HUMAN_VS_AI){const pe=(ae=t.adminConfig)!=null&&ae.enableSeparateModels?t.currentConModel:t.currentModel;ke=se.chats.create({model:pe,config:{systemInstruction:as(Q.topic)}})}}catch(pe){console.error("Error re-initializing chat for loaded debate:",pe),we=`重新初始化AI聊天会话失败: ${pe instanceof Error?pe.message:String(pe)}. AI无法继续。`,Te=null,ke=null}}e(se=>({...se,topic:Q.topic,isDebateActive:!0,proChat:Te,conChat:ke,debateLog:Q.debateLog.map(pe=>({...pe,timestamp:new Date(pe.timestamp)})),currentSpeakerToTalk:Q.currentSpeakerNext,turnCount:Q.finalTurnCount,isLoading:!1,errorMessage:we||null,judgeOutput:Q.judgeOutputSnapshot,isJudgeModalOpen:!1,judgeErrorMessage:null,gameMode:Q.gameMode,humanSpeakerRole:Q.humanSpeakerRole,isHumanTurn:Q.gameMode===it.HUMAN_VS_AI&&Q.currentSpeakerNext===Q.humanSpeakerRole,humanInput:"",promptTokensUsed:Q.finalPromptTokensUsed,candidatesTokensUsed:Q.finalCandidatesTokensUsed,totalTokensUsed:Q.finalTotalTokensUsed,lastCallPromptTokens:0,lastCallCandidatesTokens:0,lastCallTotalTokens:0,showHistoryView:!1,showApiKeySettings:!1,viewingHistoricalDebateId:Q.id,currentDebateId:Q.id})),l(Q.topic)},Pe=O=>{const Q=t.historicalDebates.find(ke=>ke.id===O),Se=t.historicalDebates.filter(ke=>ke.id!==O);if(Se.length===t.historicalDebates.length){e(ke=>({...ke,errorMessage:`未能找到ID为 "${O}" 的历史记录进行删除。请刷新页面后重试。`}));return}localStorage.setItem(os,JSON.stringify(Se));const Te=t.viewingHistoricalDebateId===O||t.currentDebateId===O;e(ke=>{const we=ke.viewingHistoricalDebateId===O||ke.currentDebateId===O;let Ve;return we?Ve={...ms,userApiKey:ke.userApiKey,apiKeyInput:ke.apiKeyInput,historicalDebates:Se,isTokenDisplayMinimized:ke.isTokenDisplayMinimized,adminConfig:ke.adminConfig,currentModel:ke.currentModel,currentProModel:ke.currentProModel,currentConModel:ke.currentConModel,currentJudgeModel:ke.currentJudgeModel,showHistoryView:!0,errorMessage:"历史记录已删除。"}:Ve={historicalDebates:Se,errorMessage:"历史记录已删除。"},{...ke,...Ve}}),Te&&Q&&n===Q.topic&&l("")},ye=()=>{e(O=>({...O,isTokenDisplayMinimized:!O.isTokenDisplayMinimized}))};return S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-gray-900 text-neutral-light flex flex-col items-center p-4 sm:p-8 selection:bg-sky-500 selection:text-white",children:[S.jsxs("header",{className:"w-full max-w-4xl mb-8 text-center",children:[S.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-blue-500 py-2",children:WN}),t.isDebateActive&&t.topic&&S.jsxs("div",{className:"mt-2",children:[S.jsxs("p",{className:"text-xl text-slate-300",children:[t.viewingHistoricalDebateId&&S.jsx("span",{className:"text-yellow-400",children:"[历史继续] "}),"当前辩题: ",S.jsx("span",{className:"font-semibold text-sky-300",children:t.topic}),t.gameMode===it.HUMAN_VS_AI&&t.humanSpeakerRole&&S.jsxs("span",{className:"text-lg ml-2 text-purple-300",children:["(您是: ",t.humanSpeakerRole,")"]})]}),t.adminConfig&&S.jsx("div",{className:"mt-2 text-sm text-slate-400 space-y-1",children:t.adminConfig.enableSeparateModels?S.jsxs("div",{className:"flex justify-center space-x-6",children:[S.jsxs("div",{className:"text-blue-400",children:["🔵 正方: ",((bt=t.adminConfig.availableModels.find(O=>O.id===t.currentProModel))==null?void 0:bt.displayName)||t.currentProModel]}),S.jsxs("div",{className:"text-red-400",children:["🔴 反方: ",((Ze=t.adminConfig.availableModels.find(O=>O.id===t.currentConModel))==null?void 0:Ze.displayName)||t.currentConModel]})]}):S.jsxs("div",{className:"text-center",children:["🤖 模型: ",((Lt=t.adminConfig.availableModels.find(O=>O.id===t.currentModel))==null?void 0:Lt.displayName)||t.currentModel]})})]})]}),!t.gameMode&&!t.showApiKeySettings&&!t.showHistoryView&&S.jsxs("div",{className:"w-full max-w-lg p-6 sm:p-8 bg-slate-800 rounded-xl shadow-2xl",children:[S.jsx("h2",{className:"text-2xl font-semibold text-center text-slate-200 mb-6",children:"选择辩论模式"}),S.jsxs("div",{className:"flex flex-col space-y-4",children:[S.jsx("button",{onClick:()=>h(it.AI_VS_AI),className:"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition-all duration-150 ease-in-out text-lg",children:"🤖 AI vs. AI 🤖"}),S.jsx("button",{onClick:()=>h(it.HUMAN_VS_AI),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition-all duration-150 ease-in-out text-lg",children:"👤 人机对战 🤖"})]}),S.jsxs("div",{className:"mt-8 flex flex-col gap-3 justify-center",children:[S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[S.jsx("button",{onClick:j,className:"text-slate-300 hover:text-sky-300 transition-colors py-2 px-4 rounded-md border border-slate-600 hover:border-sky-500 text-sm",children:"📜 查看历史辩题"}),S.jsx("button",{onClick:T,className:"text-slate-300 hover:text-sky-300 transition-colors py-2 px-4 rounded-md border border-slate-600 hover:border-sky-500 text-sm",children:"⚙️ 设置 API 密钥"}),S.jsx("button",{onClick:()=>e(O=>({...O,showModelSettings:!0,errorMessage:null})),className:"text-slate-300 hover:text-sky-300 transition-colors py-2 px-4 rounded-md border border-slate-600 hover:border-sky-500 text-sm",children:"🤖 模型配置"}),S.jsx("button",{onClick:E,className:"text-slate-400 hover:text-orange-300 transition-colors py-2 px-4 rounded-md border border-slate-700 hover:border-orange-500 text-sm",children:"🔐 管理员后台"})]}),t.currentModel&&S.jsxs("div",{className:"text-center text-xs text-slate-500 mt-2 space-y-1",children:[(cn=t.adminConfig)!=null&&cn.enableSeparateModels?S.jsxs("div",{className:"space-y-1",children:[S.jsxs("div",{className:"text-blue-400",children:["🔵 正方: ",((vi=(Cn=t.adminConfig)==null?void 0:Cn.availableModels.find(O=>O.id===t.currentProModel))==null?void 0:vi.displayName)||t.currentProModel]}),S.jsxs("div",{className:"text-red-400",children:["🔴 反方: ",((Ci=(xi=t.adminConfig)==null?void 0:xi.availableModels.find(O=>O.id===t.currentConModel))==null?void 0:Ci.displayName)||t.currentConModel]})]}):S.jsxs("div",{children:["当前模型: ",((Qi=(Xi=t.adminConfig)==null?void 0:Xi.availableModels.find(O=>O.id===t.currentModel))==null?void 0:Qi.displayName)||t.currentModel]}),((Ht=t.adminConfig)==null?void 0:Ht.apiBaseUrl)&&t.adminConfig.apiBaseUrl!=="https://generativelanguage.googleapis.com"&&S.jsx("div",{className:"text-yellow-400",children:"🔗 自定义API地址"}),((_l=t.adminConfig)==null?void 0:_l.systemApiKey)&&S.jsx("div",{className:"text-green-400",children:"🔑 系统密钥已配置"})]})]})]}),t.showHistoryView&&S.jsxs("div",{className:"w-full max-w-xl p-6 sm:p-8 bg-slate-800 rounded-xl shadow-2xl",children:[S.jsx("button",{onClick:()=>e(O=>({...O,showHistoryView:!1,errorMessage:null})),className:"text-sm text-sky-400 hover:text-sky-300 mb-6",children:"← 返回主菜单"}),S.jsx("h2",{className:"text-2xl font-semibold text-center text-slate-200 mb-6",children:"历史辩题记录"}),t.historicalDebates.length===0?S.jsx("p",{className:"text-slate-400 text-center py-6",children:"暂无历史记录。"}):S.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2 -mr-2 custom-scrollbar",children:t.historicalDebates.map(O=>S.jsx(EP,{entry:O,onLoad:ge,onDelete:Pe},O.id))})]}),t.showApiKeySettings&&!t.gameMode&&!t.showHistoryView&&!t.showModelSettings&&S.jsx(XN,{adminConfig:t.adminConfig,currentUserApiKey:t.userApiKey,currentApiKeyInput:t.apiKeyInput,onApiKeyChange:y,onSaveApiKey:x,onClearApiKey:C,onClose:()=>e(O=>({...O,showApiKeySettings:!1,errorMessage:null})),currentApiKeySource:_}),t.showModelSettings&&!t.gameMode&&!t.showHistoryView&&!t.showApiKeySettings&&S.jsx(QN,{adminConfig:t.adminConfig,currentModel:t.currentModel,currentProModel:t.currentProModel,currentConModel:t.currentConModel,currentJudgeModel:t.currentJudgeModel,onModelChange:handleModelChange,onProModelChange:handleProModelChange,onConModelChange:handleConModelChange,onJudgeModelChange:handleJudgeModelChange,onSeparateModelsToggle:L,onStreamResponseToggle:J,onSave:R,onClose:()=>e(O=>({...O,showModelSettings:!1,errorMessage:null})),onUpdateAvailableModels:$,getEffectiveApiKey:c}),t.gameMode&&!t.isDebateActive&&!t.showHistoryView&&S.jsxs("div",{className:"w-full max-w-lg p-6 sm:p-8 bg-slate-800 rounded-xl shadow-2xl",children:[S.jsx("button",{onClick:()=>e(O=>({...O,gameMode:null,errorMessage:null,showApiKeySettings:!1,showHistoryView:!1})),className:"text-sm text-sky-400 hover:text-sky-300 mb-4",children:"← 返回选择模式"}),S.jsxs("label",{htmlFor:"topicInput",className:"block text-lg font-medium text-slate-300 mb-2",children:["输入辩论题目 (",t.gameMode===it.AI_VS_AI?"AI vs. AI":"人机对战","):"]}),S.jsx("textarea",{id:"topicInput",value:n,onChange:O=>{O.target.value.length<=Vn&&l(O.target.value)},placeholder:"例如：人工智能对人类社会的利大于弊",rows:3,maxLength:Vn,className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors placeholder-slate-500 text-neutral-light","aria-label":"辩论题目输入框"}),S.jsxs("div",{className:"text-xs text-slate-400 text-right mt-1 pr-1",children:[n.length," / ",Vn]}),S.jsxs("button",{onClick:te,disabled:!n.trim()||t.isLoading,className:"mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition-all duration-150 ease-in-out disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center text-lg",children:[t.isLoading&&S.jsx(ys,{size:"h-6 w-6 mr-2"}),"开始辩论"]}),S.jsxs("p",{className:"text-xs text-slate-500 mt-4 text-center",children:["当前 API 密钥来源: ",_()]})]}),t.isDebateActive&&!t.showHistoryView&&S.jsxs("div",{className:"w-full max-w-3xl",children:[S.jsxs("div",{ref:o,className:"h-[55vh] max-h-[calc(100vh-400px)] sm:max-h-[calc(100vh-380px)] overflow-y-auto p-4 bg-slate-800/70 backdrop-blur-sm rounded-xl shadow-inner border border-slate-700 mb-6 scroll-smooth","aria-live":"polite",children:[t.debateLog.length===0&&!t.isLoading&&S.jsx("p",{className:"text-center text-slate-400 py-10",children:"辩论即将开始..."}),X(),t.isLoading&&t.currentSpeakerToTalk!==be.SYSTEM&&(t.gameMode===it.AI_VS_AI||t.gameMode===it.HUMAN_VS_AI&&!t.isHumanTurn)&&S.jsxs("div",{className:"flex items-center justify-center p-4 my-2 text-slate-400",children:[S.jsx(ys,{size:"h-6 w-6 mr-3"}),S.jsxs("span",{children:[t.currentSpeakerToTalk===be.CON&&t.gameMode===it.HUMAN_VS_AI?`AI (${be.CON})`:t.currentSpeakerToTalk," 正在思考..."]})]})]}),t.gameMode===it.HUMAN_VS_AI&&t.isHumanTurn&&S.jsxs("div",{className:"mb-4",children:[S.jsx("textarea",{ref:s,value:t.humanInput,onChange:me,placeholder:`您 (${t.humanSpeakerRole}) 的发言... (最多 ${Vn} 字)`,rows:4,maxLength:Vn,className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors placeholder-slate-500 text-neutral-light mb-1","aria-label":"您的发言输入框",disabled:t.isLoading}),S.jsxs("div",{className:"text-xs text-slate-400 text-right mb-2 pr-1",children:[t.humanInput.length," / ",Vn]}),S.jsx("button",{onClick:fe,disabled:!t.humanInput.trim()||t.isLoading,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition-all duration-150 ease-in-out disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center text-lg",children:"提交发言"})]}),S.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.gameMode===it.AI_VS_AI&&S.jsxs("button",{onClick:P,disabled:t.isLoading||t.isJudgeLoading||t.isHumanTurn||t.currentSpeakerToTalk===be.SYSTEM,className:"col-span-2 sm:col-span-1 bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg transition-all duration-150 ease-in-out disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center text-lg focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2 focus:ring-offset-slate-900",children:[t.isLoading&&t.currentSpeakerToTalk!==be.SYSTEM&&S.jsx(ys,{size:"h-6 w-6 mr-2"}),H()]}),t.gameMode===it.HUMAN_VS_AI&&S.jsx("div",{className:"hidden sm:block sm:col-span-1"}),S.jsx("button",{onClick:Ce,disabled:t.isLoading||t.isJudgeLoading||t.debateLog.filter(O=>O.speaker!==be.SYSTEM).length<1,className:"col-span-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-150 ease-in-out disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center text-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-slate-900","aria-label":"获取评委点评",children:"评委点评"}),S.jsx("button",{onClick:M,disabled:t.isLoading||t.isJudgeLoading||t.debateLog.filter(O=>O.speaker!==be.SYSTEM).length<1,className:"col-span-1 bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-150 ease-in-out disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center text-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-slate-900","aria-label":"下载Markdown总结",children:"下载 .md"}),S.jsx("button",{onClick:ce,disabled:t.isLoading||t.isJudgeLoading,className:"col-span-2 sm:col-span-1 bg-slate-600 hover:bg-slate-700 text-slate-200 font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-150 ease-in-out text-lg focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-900",children:t.currentDebateId&&t.isDebateActive?"退出并保存":"返回主菜单"})]})]}),t.isDebateActive&&!t.showHistoryView&&S.jsxs("div",{className:`fixed bottom-4 left-4 bg-slate-800/80 backdrop-blur-sm p-3 rounded-lg shadow-md text-xs text-slate-300 z-30 transition-all duration-300 ease-in-out ${t.isTokenDisplayMinimized?"max-h-12 overflow-hidden":"max-h-96"}`,"aria-live":"polite",children:[S.jsxs("button",{onClick:ye,className:"w-full flex justify-between items-center text-left mb-1 cursor-pointer hover:bg-slate-700/50 p-1 -mx-1 -mt-1 rounded focus:outline-none","aria-expanded":!t.isTokenDisplayMinimized,"aria-controls":"token-details",title:t.isTokenDisplayMinimized?"展开Token详情":"收起Token详情",children:[S.jsx("h4",{className:"font-semibold text-slate-200 text-sm",children:"Token 使用情况:"}),S.jsx("span",{className:"text-xl text-sky-400 leading-none",children:t.isTokenDisplayMinimized?"⊕":"⊖"})]}),!t.isTokenDisplayMinimized&&S.jsxs("div",{id:"token-details",className:"mt-2",children:[S.jsxs("div",{className:"mb-1.5",children:[S.jsx("p",{className:"text-slate-200 underline decoration-sky-500 decoration-1 underline-offset-2",children:"本次消耗:"}),S.jsxs("p",{children:["Prompt: ",S.jsx("span",{className:"font-medium text-sky-400",children:t.lastCallPromptTokens})]}),S.jsxs("p",{children:["Completion: ",S.jsx("span",{className:"font-medium text-green-400",children:t.lastCallCandidatesTokens})]}),S.jsxs("p",{children:["Total: ",S.jsx("span",{className:"font-medium text-purple-400",children:t.lastCallTotalTokens})]})]}),S.jsx("hr",{className:"border-slate-600 my-1.5"}),S.jsxs("div",{className:"mt-1.5",children:[S.jsx("p",{className:"text-slate-200 underline decoration-teal-500 decoration-1 underline-offset-2",children:"共消耗:"}),S.jsxs("p",{children:["Prompt: ",S.jsx("span",{className:"font-medium text-sky-400",children:t.promptTokensUsed})]}),S.jsxs("p",{children:["Completion: ",S.jsx("span",{className:"font-medium text-green-400",children:t.candidatesTokensUsed})]}),S.jsxs("p",{children:["Total: ",S.jsx("span",{className:"font-medium text-purple-400",children:t.totalTokensUsed})]})]})]})]}),t.errorMessage&&S.jsxs("div",{className:"fixed bottom-4 right-4 max-w-md bg-red-700 text-white p-4 rounded-lg shadow-xl z-50 animate-pulse-once",role:"alert","aria-atomic":"true",children:[S.jsx("p",{className:"font-semibold",children:"提示："}),S.jsx("p",{children:t.errorMessage}),S.jsx("button",{onClick:()=>e(O=>({...O,errorMessage:null})),className:"absolute top-1 right-2 text-white text-xl",children:"×"})]}),t.judgeErrorMessage&&!t.isJudgeModalOpen&&S.jsxs("div",{className:"fixed bottom-16 right-4 max-w-md bg-yellow-600 text-white p-4 rounded-lg shadow-xl z-50 animate-pulse-once",role:"alert","aria-atomic":"true",children:[S.jsx("p",{className:"font-semibold",children:"评委提示："}),S.jsx("p",{children:t.judgeErrorMessage}),S.jsx("button",{onClick:()=>e(O=>({...O,judgeErrorMessage:null})),className:"absolute top-1 right-2 text-white text-xl",children:"×"})]}),S.jsx("style",{children:`
        .animate-pulse-once {
          animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) 1;
        }
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: .5; }
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(45, 55, 72, 0.5); /* slate-700 with opacity */
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #4A5568; /* gray-600 from tailwind config neutral-medium */
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #718096; /* gray-500 */
        }
      `}),S.jsx(AP,{isOpen:t.isJudgeModalOpen,onClose:qe,judgeData:t.judgeOutput,isLoading:t.isJudgeLoading,error:t.judgeErrorMessage,topic:t.topic}),t.showAdminLogin&&S.jsx(MP,{passwordInput:t.adminPasswordInput,onPasswordChange:O=>e(Q=>({...Q,adminPasswordInput:O,errorMessage:null})),onLogin:k,onCancel:N,errorMessage:t.errorMessage||void 0}),t.showAdminPanel&&t.adminConfig&&S.jsx(NP,{adminConfig:t.adminConfig,currentModel:t.currentModel,currentProModel:t.currentProModel,currentConModel:t.currentConModel,currentJudgeModel:t.currentJudgeModel,onModelChange:handleModelChange,onProModelChange:handleProModelChange,onConModelChange:handleConModelChange,onJudgeModelChange:handleJudgeModelChange,onSeparateModelsToggle:L,onStreamResponseToggle:J,onSaveConfig:ie,onLogout:I,onClose:z,getEffectiveApiKey:c})]})},Rx=document.getElementById("root");if(!Rx)throw new Error("Could not find root element to mount to");const DP=eS.createRoot(Rx);DP.render(S.jsx(JT.StrictMode,{children:S.jsx(RP,{})}));
